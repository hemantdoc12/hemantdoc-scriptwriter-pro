{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","createStore","identity","arg","useStore","selector","slice","React","createImpl","useBoundStore","create","createJSONStorage","getStorage","options","storage","name","_a","parse","str2","str","newValue","toThenable","fn","input","result","onFulfilled","_onRejected","_onFulfilled","onRejected","persistImpl","config","baseOptions","set","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","setItem","savedSetState","configResult","stateFromStorage","hydrate","_b","cb","_a2","postRehydrationCallback","deserializedStorageValue","migration","migrationResult","migrated","migratedState","newOptions","persist","useProjectStore","title","description","newProject","id","updates","project","content","currentProject","words","word","pages","characters","projects","projectToDuplicate","duplicatedProject","format","defaultPreferences","useAuthStore","user","preferences","updatedUser","t","o","r","s","i","u","j","W","F","A","Y","U","P","y","D","Q","H","J","x","K","X","Z","ee","O","$","L","v","S","E","oe","I","re","se","te","ne","ie","V","ae","pe","N","de","_","ce","ue","w","le","fe","me","Te","M","g.createElement","ye","ge","he","xe","be","B","Se","Ae","z","C","l.memo","l.createElement","l.Fragment","Re","T.createElement","ve","T.useCallback","Ee","De","Pe","R","Oe","Vt","ArrowDownTrayIcon","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ArrowDownTrayIcon$1","ArrowRightIcon","ArrowRightIcon$1","CalendarIcon","CalendarIcon$1","CameraIcon","CameraIcon$1","ChatBubbleLeftRightIcon","ChatBubbleLeftRightIcon$1","ChevronDownIcon","ChevronDownIcon$1","ClockIcon","ClockIcon$1","DocumentDuplicateIcon","DocumentDuplicateIcon$1","DocumentTextIcon","DocumentTextIcon$1","EyeIcon","EyeIcon$1","FilmIcon","FilmIcon$1","KeyIcon","KeyIcon$1","PlayIcon","PlayIcon$1","QuestionMarkCircleIcon","QuestionMarkCircleIcon$1","SparklesIcon","SparklesIcon$1","UserIcon","UserIcon$1","UsersIcon","UsersIcon$1","SCREENPLAY_FORMATTING","detectElementType","line","lines","index","trimmed","nextLine","prevLine","formatLineWithIndentation","elementType","formatting","formattedText","indentChars","formatScriptProfessionally","ELEMENT_COLORS","EnhancedScriptEditor","forwardRef","value","onChange","isPreviewMode","className","placeholder","ref","textareaRef","useRef","cursorPosition","setCursorPosition","useState","activeElement","setActiveElement","showTooltip","setShowTooltip","tooltipElement","setTooltipElement","useImperativeHandle","textarea","start","end","beforeCursor","afterCursor","lastNewline","nextNewline","lineStart","lineEnd","currentLine","formattedLine","newCursorPos","withNewLine","withNewLines","elementColor","updateCursorPosition","text","currentLineIndex","useCallback","currentCol","allLines","useEffect","handleSelectionChange","getTooltipContent","handleKeyDown","shortcuts","getElementCSS","isSelected","colorScheme","baseStyle","styles","jsx","isCurrentLine","elementCSS","jsxs","App","createProject","updateScriptContent","initializeUser","setContent","setIsPreviewMode","wordCount","setWordCount","pageCount","setPageCount","showQuickActions","setShowQuickActions","showExportOptions","setShowExportOptions","showKeyboardShortcuts","setShowKeyboardShortcuts","showBreakdownModal","setShowBreakdownModal","scriptEditorRef","formatButtons","handleContentChange","newContent","handleElementFormat","toast","handleAutoFormat","formattedContent","handleExportTXT","blob","url","handleExportFDX","fdxContent","handleExportPDF","jsPDF","__vitePreload","pdf","pageWidth","pageHeight","leftMargin","rightMargin","topMargin","lineHeight","yPosition","titleY","xPosition","textWidth","error","Toaster","button","Icon","scene","ReactDOM"],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/zustand/esm/react.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/stores/projectStore.ts","../../src/stores/authStore.ts","../../node_modules/goober/dist/goober.modern.js","../../node_modules/react-hot-toast/dist/index.mjs","../../node_modules/@heroicons/react/24/outline/esm/ArrowDownTrayIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ArrowRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CalendarIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CameraIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChatBubbleLeftRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentDuplicateIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentTextIcon.js","../../node_modules/@heroicons/react/24/outline/esm/EyeIcon.js","../../node_modules/@heroicons/react/24/outline/esm/FilmIcon.js","../../node_modules/@heroicons/react/24/outline/esm/KeyIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../../node_modules/@heroicons/react/24/outline/esm/QuestionMarkCircleIcon.js","../../node_modules/@heroicons/react/24/outline/esm/SparklesIcon.js","../../node_modules/@heroicons/react/24/outline/esm/UserIcon.js","../../node_modules/@heroicons/react/24/outline/esm/UsersIcon.js","../../src/utils/professionalFormatter.ts","../../src/components/EnhancedScriptEditor.tsx","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\n\nexport { createStore };\n","import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\n\nexport { create, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\nexport interface Project {\n  id: string\n  title: string\n  description: string\n  scriptContent: string\n  createdAt: Date\n  updatedAt: Date\n  author: string\n  genre: string\n  logline?: string\n  pageCount: number\n  wordCount: number\n  characterCount: number\n}\n\ninterface ProjectState {\n  projects: Project[]\n  currentProject: Project | null\n  isLoading: boolean\n  \n  // Actions\n  createProject: (title: string, description?: string) => void\n  updateProject: (id: string, updates: Partial<Project>) => void\n  deleteProject: (id: string) => void\n  setCurrentProject: (project: Project | null) => void\n  updateScriptContent: (content: string) => void\n  getProjectById: (id: string) => Project | undefined\n  duplicateProject: (id: string) => void\n  exportProject: (id: string, format: 'fdx' | 'pdf' | 'txt') => void\n}\n\nexport const useProjectStore = create<ProjectState>()(\n  persist(\n    (set, get) => ({\n      projects: [],\n      currentProject: null,\n      isLoading: false,\n\n      createProject: (title: string, description?: string) => {\n        const newProject: Project = {\n          id: `project_${Date.now()}`,\n          title,\n          description: description || '',\n          scriptContent: `FADE IN:\n\nEXT. ${title.toUpperCase()} - DAY\n\nA new story begins...\n\nFADE OUT.`,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n          author: 'Writer',\n          genre: 'Drama',\n          pageCount: 1,\n          wordCount: 8,\n          characterCount: 50\n        }\n\n        set(state => ({\n          projects: [...state.projects, newProject],\n          currentProject: newProject\n        }))\n      },\n\n      updateProject: (id: string, updates: Partial<Project>) => {\n        set(state => ({\n          projects: state.projects.map(project =>\n            project.id === id \n              ? { ...project, ...updates, updatedAt: new Date() }\n              : project\n          ),\n          currentProject: state.currentProject?.id === id \n            ? { ...state.currentProject, ...updates, updatedAt: new Date() }\n            : state.currentProject\n        }))\n      },\n\n      deleteProject: (id: string) => {\n        set(state => ({\n          projects: state.projects.filter(project => project.id !== id),\n          currentProject: state.currentProject?.id === id ? null : state.currentProject\n        }))\n      },\n\n      setCurrentProject: (project: Project | null) => {\n        set({ currentProject: project })\n      },\n\n      updateScriptContent: (content: string) => {\n        const { currentProject } = get()\n        if (!currentProject) return\n\n        // Calculate stats\n        const words = content.split(/\\\\s+/).filter(word => word.length > 0).length\n        const pages = Math.ceil(content.split('\\\\n').length / 55)\n        const characters = content.length\n\n        const updates = {\n          scriptContent: content,\n          wordCount: words,\n          pageCount: pages,\n          characterCount: characters,\n          updatedAt: new Date()\n        }\n\n        set(state => ({\n          currentProject: { ...currentProject, ...updates },\n          projects: state.projects.map(project =>\n            project.id === currentProject.id \n              ? { ...project, ...updates }\n              : project\n          )\n        }))\n      },\n\n      getProjectById: (id: string) => {\n        return get().projects.find(project => project.id === id)\n      },\n\n      duplicateProject: (id: string) => {\n        const { projects } = get()\n        const projectToDuplicate = projects.find(p => p.id === id)\n        \n        if (projectToDuplicate) {\n          const duplicatedProject: Project = {\n            ...projectToDuplicate,\n            id: `project_${Date.now()}`,\n            title: `${projectToDuplicate.title} (Copy)`,\n            createdAt: new Date(),\n            updatedAt: new Date()\n          }\n\n          set(state => ({\n            projects: [...state.projects, duplicatedProject]\n          }))\n        }\n      },\n\n      exportProject: (id: string, format: 'fdx' | 'pdf' | 'txt') => {\n        const project = get().getProjectById(id)\n        if (!project) return\n\n        // Export logic would go here\n        console.log(`Exporting project ${project.title} as ${format}`)\n      }\n    }),\n    {\n      name: 'hemantdoc-scriptwriter-projects',\n      version: 1,\n    }\n  )\n)","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\nexport interface User {\n  id: string\n  name: string\n  email: string\n  avatar?: string\n  preferences: {\n    theme: 'light' | 'dark' | 'auto'\n    fontSize: number\n    fontFamily: string\n    autoSave: boolean\n    spellCheck: boolean\n    wordWrap: boolean\n    showLineNumbers: boolean\n    showPageBreaks: boolean\n  }\n}\n\ninterface AuthState {\n  user: User | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  \n  // Actions\n  setUser: (user: User) => void\n  logout: () => void\n  updateUserPreferences: (preferences: Partial<User['preferences']>) => void\n  initializeUser: () => void\n}\n\nconst defaultPreferences: User['preferences'] = {\n  theme: 'light',\n  fontSize: 12,\n  fontFamily: 'Courier New',\n  autoSave: true,\n  spellCheck: true,\n  wordWrap: true,\n  showLineNumbers: false,\n  showPageBreaks: true\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      isAuthenticated: false,\n      isLoading: false,\n\n      setUser: (user: User) => {\n        set({\n          user,\n          isAuthenticated: true,\n          isLoading: false\n        })\n      },\n\n      logout: () => {\n        set({\n          user: null,\n          isAuthenticated: false,\n          isLoading: false\n        })\n      },\n\n      updateUserPreferences: (preferences: Partial<User['preferences']>) => {\n        const { user } = get()\n        if (!user) return\n\n        const updatedUser = {\n          ...user,\n          preferences: {\n            ...user.preferences,\n            ...preferences\n          }\n        }\n\n        set({ user: updatedUser })\n      },\n\n      initializeUser: () => {\n        // Initialize with default user for demo purposes\n        const { user } = get()\n        if (!user) {\n          const defaultUser: User = {\n            id: 'demo-user',\n            name: 'Professional Writer',\n            email: 'writer@hemantdoc.com',\n            preferences: defaultPreferences\n          }\n          \n          set({\n            user: defaultUser,\n            isAuthenticated: true,\n            isLoading: false\n          })\n        }\n      }\n    }),\n    {\n      name: 'hemantdoc-scriptwriter-auth',\n      version: 1,\n    }\n  )\n)","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar W=e=>typeof e==\"function\",f=(e,t)=>W(e)?e(t):e;var F=(()=>{let e=0;return()=>(++e).toString()})(),A=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as H,useState as j,useRef as Q}from\"react\";var Y=20;var U=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Y)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return U(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},P=[],y={toasts:[],pausedAt:void 0},u=e=>{y=U(y,e),P.forEach(t=>{t(y)})},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D=(e={})=>{let[t,r]=j(y),s=Q(y);H(()=>(s.current!==y&&r(y),P.push(r),()=>{let o=P.indexOf(r);o>-1&&P.splice(o,1)}),[]);let a=t.toasts.map(o=>{var n,i,p;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((n=e[o.type])==null?void 0:n.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((i=e[o.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||q[o.type],style:{...e.style,...(p=e[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:a}};var J=(e,t=\"blank\",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||F()}),x=e=>(t,r)=>{let s=J(t,e,r);return u({type:2,toast:s}),s.id},c=(e,t)=>x(\"blank\")(e,t);c.error=x(\"error\");c.success=x(\"success\");c.loading=x(\"loading\");c.custom=x(\"custom\");c.dismiss=e=>{u({type:3,toastId:e})};c.remove=e=>u({type:4,toastId:e});c.promise=(e,t,r)=>{let s=c.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let o=t.success?f(t.success,a):void 0;return o?c.success(o,{id:s,...r,...r==null?void 0:r.success}):c.dismiss(s),a}).catch(a=>{let o=t.error?f(t.error,a):void 0;o?c.error(o,{id:s,...r,...r==null?void 0:r.error}):c.dismiss(s)}),e};import{useEffect as $,useCallback as L}from\"react\";var K=(e,t)=>{u({type:1,toast:{id:e,height:t}})},X=()=>{u({type:5,time:Date.now()})},b=new Map,Z=1e3,ee=(e,t=Z)=>{if(b.has(e))return;let r=setTimeout(()=>{b.delete(e),u({type:4,toastId:e})},t);b.set(e,r)},O=e=>{let{toasts:t,pausedAt:r}=D(e);$(()=>{if(r)return;let o=Date.now(),n=t.map(i=>{if(i.duration===1/0)return;let p=(i.duration||0)+i.pauseDuration-(o-i.createdAt);if(p<0){i.visible&&c.dismiss(i.id);return}return setTimeout(()=>c.dismiss(i.id),p)});return()=>{n.forEach(i=>i&&clearTimeout(i))}},[t,r]);let s=L(()=>{r&&u({type:6,time:Date.now()})},[r]),a=L((o,n)=>{let{reverseOrder:i=!1,gutter:p=8,defaultPosition:d}=n||{},h=t.filter(m=>(m.position||d)===(o.position||d)&&m.height),v=h.findIndex(m=>m.id===o.id),S=h.filter((m,E)=>E<v&&m.visible).length;return h.filter(m=>m.visible).slice(...i?[S+1]:[0,S]).reduce((m,E)=>m+(E.height||0)+p,0)},[t]);return $(()=>{t.forEach(o=>{if(o.dismissed)ee(o.id,o.removeDelay);else{let n=b.get(o.id);n&&(clearTimeout(n),b.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:K,startPause:X,endPause:s,calculateOffset:a}}};import*as l from\"react\";import{styled as B,keyframes as z}from\"goober\";import*as g from\"react\";import{styled as w,keyframes as me}from\"goober\";import{styled as te,keyframes as I}from\"goober\";var oe=I`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,re=I`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,se=I`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,k=te(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${re} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${se} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ae,keyframes as ie}from\"goober\";var ne=ie`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,V=ae(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${ne} 1s linear infinite;\n`;import{styled as ce,keyframes as N}from\"goober\";var pe=N`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,de=N`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,_=ce(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${de} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var ue=w(\"div\")`\n  position: absolute;\n`,le=w(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,fe=me`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Te=w(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,M=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?g.createElement(Te,null,t):t:r===\"blank\"?null:g.createElement(le,null,g.createElement(V,{...s}),r!==\"loading\"&&g.createElement(ue,null,r===\"error\"?g.createElement(k,{...s}):g.createElement(_,{...s})))};var ye=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ge=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,he=\"0%{opacity:0;} 100%{opacity:1;}\",xe=\"0%{opacity:1;} 100%{opacity:0;}\",be=B(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Se=B(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,Ae=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,o]=A()?[he,xe]:[ye(s),ge(s)];return{animation:t?`${z(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${z(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C=l.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?Ae(e.position||t||\"top-center\",e.visible):{opacity:0},o=l.createElement(M,{toast:e}),n=l.createElement(Se,{...e.ariaProps},f(e.message,e));return l.createElement(be,{className:e.className,style:{...a,...r,...e.style}},typeof s==\"function\"?s({icon:o,message:n}):l.createElement(l.Fragment,null,o,n))});import{css as Pe,setup as Re}from\"goober\";import*as T from\"react\";Re(T.createElement);var ve=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let o=T.useCallback(n=>{if(n){let i=()=>{let p=n.getBoundingClientRect().height;s(e,p)};i(),new MutationObserver(i).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return T.createElement(\"div\",{ref:o,className:t,style:r},a)},Ee=(e,t)=>{let r=e.includes(\"top\"),s=r?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:A()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},De=Pe`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,R=16,Oe=({reverseOrder:e,position:t=\"top-center\",toastOptions:r,gutter:s,children:a,containerStyle:o,containerClassName:n})=>{let{toasts:i,handlers:p}=O(r);return T.createElement(\"div\",{id:\"_rht_toaster\",style:{position:\"fixed\",zIndex:9999,top:R,left:R,right:R,bottom:R,pointerEvents:\"none\",...o},className:n,onMouseEnter:p.startPause,onMouseLeave:p.endPause},i.map(d=>{let h=d.position||t,v=p.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),S=Ee(h,v);return T.createElement(ve,{id:d.id,key:d.id,onHeightUpdate:p.updateHeight,className:d.visible?De:\"\",style:S},d.type===\"custom\"?f(d.message,d):a?a(d):T.createElement(C,{toast:d,position:h}))}))};var Vt=c;export{_ as CheckmarkIcon,k as ErrorIcon,V as LoaderIcon,C as ToastBar,M as ToastIcon,Oe as Toaster,Vt as default,f as resolveValue,c as toast,O as useToaster,D as useToasterStore};\n//# sourceMappingURL=index.mjs.map","import * as React from \"react\";\nfunction ArrowDownTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowDownTrayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CalendarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CalendarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CameraIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CameraIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChatBubbleLeftRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChatBubbleLeftRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m19.5 8.25-7.5 7.5-7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentDuplicateIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentDuplicateIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentTextIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentTextIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction FilmIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(FilmIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction KeyIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(KeyIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction QuestionMarkCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(QuestionMarkCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction SparklesIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(SparklesIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UsersIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UsersIcon);\nexport default ForwardRef;","// Professional Screenplay Formatter with Industry Standards\n\nexport interface FormattingPositions {\n  marginLeft: number\n  marginRight: number\n  textAlign: 'left' | 'center' | 'right'\n  textTransform: 'none' | 'uppercase' | 'lowercase'\n  fontWeight: 'normal' | 'bold'\n  marginTop: number\n  marginBottom: number\n}\n\nexport const SCREENPLAY_FORMATTING: Record<string, FormattingPositions> = {\n  scene_heading: {\n    marginLeft: 0,\n    marginRight: 60,\n    textAlign: 'left',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 24,\n    marginBottom: 0\n  },\n  character: {\n    marginLeft: 220, // Character centered (approximately 3.7 inches)\n    marginRight: 0,\n    textAlign: 'center', \n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 12,\n    marginBottom: 0\n  },\n  dialogue: {\n    marginLeft: 100, // Dialogue indent (approximately 1.5 inches)\n    marginRight: 120, // Right margin for dialogue (approximately 2.5 inches from right)\n    textAlign: 'left',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    marginTop: 0,\n    marginBottom: 0\n  },\n  parenthetical: {\n    marginLeft: 160, // Parenthetical indent (approximately 2 inches)\n    marginRight: 100,\n    textAlign: 'center',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    marginTop: 0,\n    marginBottom: 0\n  },\n  action: {\n    marginLeft: 0,\n    marginRight: 60, // Right margin (approximately 1 inch)\n    textAlign: 'left',\n    textTransform: 'none', \n    fontWeight: 'normal',\n    marginTop: 12,\n    marginBottom: 0\n  },\n  transition: {\n    marginLeft: 0,\n    marginRight: 0,\n    textAlign: 'right',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 12,\n    marginBottom: 0\n  },\n  shot: {\n    marginLeft: 0,\n    marginRight: 60,\n    textAlign: 'left',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 12,\n    marginBottom: 0\n  }\n}\n\nexport function detectElementType(line: string, lines: string[], index: number): string {\n  const trimmed = line.trim()\n  \n  if (!trimmed) return 'action'\n  \n  // Scene heading detection\n  if (/^(INT\\\\.|EXT\\\\.|FADE IN:|FADE OUT\\\\.|CUT TO:)/i.test(trimmed)) {\n    return 'scene_heading'\n  }\n  \n  // Character detection (all caps, usually followed by dialogue)\n  if (/^[A-Z\\\\s']{2,}$/.test(trimmed) && trimmed.length < 50) {\n    const nextLine = lines[index + 1]?.trim()\n    if (nextLine && !(/^[A-Z\\\\s']{2,}$/.test(nextLine))) {\n      return 'character'\n    }\n  }\n  \n  // Parenthetical detection\n  if (/^\\\\([^)]+\\\\)$/.test(trimmed)) {\n    return 'parenthetical'\n  }\n  \n  // Transition detection\n  if (/^(CUT TO:|FADE TO:|DISSOLVE TO:|SMASH CUT TO:)/.test(trimmed)) {\n    return 'transition'\n  }\n  \n  // Check if it's dialogue (follows character)\n  if (index > 0) {\n    const prevLine = lines[index - 1]?.trim()\n    if (prevLine && /^[A-Z\\\\s']{2,}$/.test(prevLine)) {\n      return 'dialogue'\n    }\n  }\n  \n  // Shot detection\n  if (/^(CLOSE UP|WIDE SHOT|MEDIUM SHOT|POV|INSERT)/i.test(trimmed)) {\n    return 'shot'\n  }\n  \n  // Default to action\n  return 'action'\n}\n\nexport function formatLineWithIndentation(line: string, elementType: string): string {\n  const trimmed = line.trim()\n  if (!trimmed) return ''\n  \n  const formatting = SCREENPLAY_FORMATTING[elementType] || SCREENPLAY_FORMATTING.action\n  let formattedText = trimmed\n  \n  // Apply text transformations\n  if (formatting.textTransform === 'uppercase') {\n    formattedText = formattedText.toUpperCase()\n  } else if (formatting.textTransform === 'lowercase') {\n    formattedText = formattedText.toLowerCase()\n  }\n  \n  // Handle special cases\n  if (elementType === 'parenthetical' && !formattedText.startsWith('(')) {\n    formattedText = `(${formattedText})`\n  }\n  if (elementType === 'transition' && !formattedText.endsWith(':') && !formattedText.endsWith('.')) {\n    formattedText = formattedText + ':'\n  }\n  \n  // Calculate indentation (convert pixels to approximate characters)\n  const indentChars = Math.round(formatting.marginLeft / 12) // Approximate character width\n  const indent = ' '.repeat(Math.max(0, indentChars))\n  \n  return indent + formattedText\n}\n\nexport function formatScriptProfessionally(content: string): string {\n  const lines = content.split('\\\\n')\n  const formattedLines = lines.map((line, index) => {\n    const elementType = detectElementType(line, lines, index)\n    return formatLineWithIndentation(line, elementType)\n  })\n  \n  return formattedLines.join('\\\\n')\n}\n\nexport function addSceneNumbers(content: string): string {\n  const lines = content.split('\\\\n')\n  let sceneCount = 0\n  \n  const numberedLines = lines.map((line, index) => {\n    const elementType = detectElementType(line, lines, index)\n    \n    if (elementType === 'scene_heading') {\n      sceneCount++\n      const trimmed = line.trim()\n      if (trimmed && !trimmed.match(/^\\\\d+\\\\./)) {\n        return `${sceneCount}. ${trimmed}`\n      }\n    }\n    \n    return line\n  })\n  \n  return numberedLines.join('\\\\n')\n}\n\nexport class SceneNumberer {\n  addSceneNumbers(content: string): string {\n    return addSceneNumbers(content)\n  }\n  \n  removeSceneNumbers(content: string): string {\n    const lines = content.split('\\\\n')\n    const cleanLines = lines.map(line => {\n      const trimmed = line.trim()\n      if (trimmed.match(/^\\\\d+\\\\. /)) {\n        return line.replace(/^(\\\\s*)\\\\d+\\\\. /, '$1')\n      }\n      return line\n    })\n    \n    return cleanLines.join('\\\\n')\n  }\n}\n\n// PDF Export Positioning\nexport function getPDFPositioning(elementType: string) {\n  const pdfPositions: Record<string, any> = {\n    scene_heading: {\n      x: 90,\n      align: 'left',\n      weight: 'bold',\n      transform: 'uppercase',\n      marginTop: 12\n    },\n    character: {\n      x: 310, // Centered position for PDF (approximately 3.7 inches)\n      align: 'center',\n      weight: 'bold', \n      transform: 'uppercase',\n      marginTop: 6\n    },\n    dialogue: {\n      x: 190, // Dialogue indent for PDF (approximately 1.5 inches)\n      rightMargin: 120,\n      align: 'left',\n      weight: 'normal',\n      transform: 'none'\n    },\n    parenthetical: {\n      x: 250, // Parenthetical indent for PDF (approximately 2 inches)\n      align: 'center',\n      weight: 'normal',\n      transform: 'none'\n    },\n    action: {\n      x: 90,\n      rightMargin: 60,\n      align: 'left',\n      weight: 'normal',\n      transform: 'none',\n      marginTop: 6\n    },\n    transition: {\n      x: 0,\n      align: 'right',\n      weight: 'bold',\n      transform: 'uppercase',\n      marginTop: 12\n    }\n  }\n  \n  return pdfPositions[elementType] || pdfPositions.action\n}\n\nexport function getElementCSS(elementType: string): React.CSSProperties {\n  const formatting = SCREENPLAY_FORMATTING[elementType] || SCREENPLAY_FORMATTING.action\n  \n  return {\n    marginLeft: `${formatting.marginLeft}px`,\n    marginRight: `${formatting.marginRight}px`,\n    textAlign: formatting.textAlign,\n    textTransform: formatting.textTransform,\n    fontWeight: formatting.fontWeight,\n    marginTop: `${formatting.marginTop}px`,\n    marginBottom: `${formatting.marginBottom}px`,\n    fontFamily: 'Courier New, monospace',\n    fontSize: '12pt',\n    lineHeight: '1.2'\n  }\n}","import React, { useRef, forwardRef, useImperativeHandle, useCallback, useEffect, useState } from 'react'\nimport { detectElementType, formatLineWithIndentation } from '../utils/professionalFormatter'\n\n// Industry-standard color coding for screenplay elements\nconst ELEMENT_COLORS = {\n  scene_heading: { bg: '#e3f2fd', border: '#1976d2', text: '#0d47a1' }, // Blue\n  character: { bg: '#ffebee', border: '#d32f2f', text: '#c62828' }, // Red\n  dialogue: { bg: '#f3e5f5', border: '#7b1fa2', text: '#4a148c' }, // Purple\n  parenthetical: { bg: '#fff3e0', border: '#f57c00', text: '#e65100' }, // Orange\n  action: { bg: '#e8f5e8', border: '#388e3c', text: '#1b5e20' }, // Green\n  transition: { bg: '#fce4ec', border: '#c2185b', text: '#880e4f' }, // Pink\n  shot: { bg: '#e1f5fe', border: '#0288d1', text: '#01579b' } // Light Blue\n}\n\nexport interface ScriptEditorRef {\n  formatCurrentLine: (elementType: string) => void\n  insertTextAtCursor: (text: string) => void\n  focus: () => void\n  getCurrentLine: () => string\n  getCurrentElementType: () => string\n}\n\ninterface EnhancedScriptEditorProps {\n  value: string\n  onChange: (value: string) => void\n  isPreviewMode: boolean\n  className?: string\n  placeholder?: string\n}\n\nconst EnhancedScriptEditor = forwardRef<ScriptEditorRef, EnhancedScriptEditorProps>(\n  ({ value, onChange, isPreviewMode, className = '', placeholder }, ref) => {\n    const textareaRef = useRef<HTMLTextAreaElement>(null)\n    const overlayRef = useRef<HTMLDivElement>(null)\n    const [cursorPosition, setCursorPosition] = useState({ line: 0, col: 0 })\n    const [activeElement, setActiveElement] = useState<string>('action')\n    const [showTooltip, setShowTooltip] = useState(false)\n    const [tooltipElement, setTooltipElement] = useState<string>('')\n\n    useImperativeHandle(ref, () => ({\n      formatCurrentLine: (elementType: string) => {\n        if (!textareaRef.current) return\n        \n        const textarea = textareaRef.current\n        const start = textarea.selectionStart\n        const end = textarea.selectionEnd\n        \n        // Get current line boundaries\n        const beforeCursor = value.substring(0, start)\n        const afterCursor = value.substring(end)\n        const lastNewline = beforeCursor.lastIndexOf('\\n')\n        const nextNewline = afterCursor.indexOf('\\n')\n        \n        const lineStart = lastNewline + 1\n        const lineEnd = nextNewline === -1 ? value.length : end + nextNewline\n        const currentLine = value.substring(lineStart, lineEnd)\n        \n        // Format the line with professional indentation\n        const formattedLine = formatLineWithIndentation(currentLine, elementType)\n        \n        // Replace the current line\n        const newValue = value.substring(0, lineStart) + formattedLine + value.substring(lineEnd)\n        onChange(newValue)\n        \n        // Enhanced cursor positioning with visual guides and tooltips\n        setTimeout(() => {\n          let newCursorPos = lineStart + formattedLine.length\n          \n          // Show tooltip for element positioning\n          setTooltipElement(elementType)\n          setShowTooltip(true)\n          setTimeout(() => setShowTooltip(false), 3000)\n          \n          // Move cursor to next line for certain elements (Celtx behavior)\n          if (elementType === 'character') {\n            // After character formatting, move to next line and prepare for dialogue\n            newCursorPos = lineStart + formattedLine.length\n            if (!value.substring(newCursorPos).startsWith('\\n')) {\n              const withNewLine = value.substring(0, newCursorPos) + '\\n' + value.substring(newCursorPos)\n              onChange(withNewLine)\n              newCursorPos += 1\n            } else {\n              newCursorPos += 1\n            }\n          } else if (elementType === 'scene_heading') {\n            // After scene heading, move to next line for action\n            if (!value.substring(newCursorPos).startsWith('\\n\\n')) {\n              const withNewLines = value.substring(0, newCursorPos) + '\\n\\n' + value.substring(newCursorPos)\n              onChange(withNewLines)\n              newCursorPos += 2\n            } else {\n              newCursorPos += 2\n            }\n          }\n          \n          textarea.setSelectionRange(newCursorPos, newCursorPos)\n          textarea.focus()\n          textarea.scrollIntoView({ block: 'nearest' })\n          \n          // Visual feedback for cursor position with element color\n          const elementColor = ELEMENT_COLORS[elementType as keyof typeof ELEMENT_COLORS]?.border || '#f97316'\n          textarea.style.caretColor = elementColor\n          \n          // Update active element for visual feedback\n          setActiveElement(elementType)\n          updateCursorPosition()\n        }, 0)\n      },\n\n      insertTextAtCursor: (text: string) => {\n        if (!textareaRef.current) return\n        \n        const textarea = textareaRef.current\n        const start = textarea.selectionStart\n        const end = textarea.selectionEnd\n        \n        const newValue = value.substring(0, start) + text + value.substring(end)\n        onChange(newValue)\n        \n        setTimeout(() => {\n          const newCursorPos = start + text.length\n          textarea.setSelectionRange(newCursorPos, newCursorPos)\n          textarea.focus()\n        }, 0)\n      },\n\n      focus: () => {\n        textareaRef.current?.focus()\n      },\n\n      getCurrentLine: () => {\n        if (!textareaRef.current) return ''\n        \n        const start = textareaRef.current.selectionStart\n        const beforeCursor = value.substring(0, start)\n        const afterCursor = value.substring(start)\n        const lastNewline = beforeCursor.lastIndexOf('\\n')\n        const nextNewline = afterCursor.indexOf('\\n')\n        \n        const lineStart = lastNewline + 1\n        const lineEnd = nextNewline === -1 ? value.length : start + nextNewline\n        return value.substring(lineStart, lineEnd)\n      },\n\n      getCurrentElementType: () => {\n        if (!textareaRef.current) return 'action'\n        \n        const lines = value.split('\\n')\n        const start = textareaRef.current.selectionStart\n        const beforeCursor = value.substring(0, start)\n        const currentLineIndex = beforeCursor.split('\\n').length - 1\n        \n        return detectElementType(lines[currentLineIndex] || '', lines, currentLineIndex)\n      }\n    }))\n\n    // Update cursor position for visual feedback\n    const updateCursorPosition = useCallback(() => {\n      if (!textareaRef.current) return\n      \n      const textarea = textareaRef.current\n      const start = textarea.selectionStart\n      const beforeCursor = value.substring(0, start)\n      const lines = beforeCursor.split('\\n')\n      const currentLine = lines.length - 1\n      const currentCol = lines[lines.length - 1].length\n      \n      setCursorPosition({ line: currentLine, col: currentCol })\n      \n      // Detect and set active element type\n      const allLines = value.split('\\n')\n      const elementType = detectElementType(allLines[currentLine] || '', allLines, currentLine)\n      setActiveElement(elementType)\n    }, [value])\n\n    // Handle cursor position updates\n    useEffect(() => {\n      const textarea = textareaRef.current\n      if (!textarea) return\n      \n      const handleSelectionChange = () => {\n        updateCursorPosition()\n      }\n      \n      textarea.addEventListener('selectionchange', handleSelectionChange)\n      return () => textarea.removeEventListener('selectionchange', handleSelectionChange)\n    }, [])\n\n    // Get tooltip content for elements\n    const getTooltipContent = (elementType: string) => {\n      const tooltips = {\n        scene_heading: 'Scene Heading: Left margin, all caps. Describes location and time.',\n        character: 'Character: Centered at 3.7\". Speaker\\'s name in all caps.',\n        dialogue: 'Dialogue: 1.5\" left margin, 2.5\" right margin. Character\\'s speech.',\n        parenthetical: 'Parenthetical: Centered at 2\". Actor direction in (parentheses).',\n        action: 'Action: Left margin to 1\" right. Scene description and action.',\n        transition: 'Transition: Right aligned. Scene change like \"CUT TO:\"',\n        shot: 'Shot: Left margin. Camera direction like \"CLOSE UP\"'\n      }\n      return tooltips[elementType as keyof typeof tooltips] || 'Unknown element type'\n    }\n\n    const handleKeyDown = useCallback((e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n      const textarea = textareaRef.current\n      if (!textarea) return\n\n      // Professional formatting shortcuts\n      if (e.metaKey || e.ctrlKey) {\n        const shortcuts: Record<string, string> = {\n          '1': 'scene_heading',\n          '2': 'action', \n          '3': 'character',\n          '4': 'dialogue',\n          '5': 'parenthetical',\n          '6': 'transition',\n          '7': 'shot'\n        }\n        \n        if (shortcuts[e.key]) {\n          e.preventDefault()\n          if (ref && 'current' in ref && ref.current) {\n            ref.current.formatCurrentLine(shortcuts[e.key])\n          }\n          return\n        }\n      }\n\n      // Enhanced auto-formatting on Enter - Celtx style\n      if (e.key === 'Enter') {\n        setTimeout(() => {\n          const lines = value.split('\\n')\n          const start = textarea.selectionStart\n          const beforeCursor = value.substring(0, start)\n          const currentLineIndex = beforeCursor.split('\\n').length - 2 // Previous line\n          const currentLine = lines[currentLineIndex] || ''\n          \n          if (currentLine.trim()) {\n            const elementType = detectElementType(currentLine, lines, currentLineIndex)\n            \n            // Celtx-style smart formatting continuation\n            if (elementType === 'character' && ref && 'current' in ref && ref.current) {\n              // After character name, automatically format next line as dialogue\n              setTimeout(() => {\n                if (ref.current) {\n                  ref.current.formatCurrentLine('dialogue')\n                }\n              }, 20)\n            } else if (elementType === 'scene_heading' && ref && 'current' in ref && ref.current) {\n              // After scene heading, next line is typically action\n              setTimeout(() => {\n                if (ref.current) {\n                  ref.current.formatCurrentLine('action')\n                }\n              }, 20)\n            }\n          }\n        }, 0)\n      }\n\n      // Disabled aggressive auto-formatting - let users complete typing\n      // Only auto-format on manual button clicks or specific patterns when user pauses\n    }, [value, ref])\n\n    const getElementCSS = (elementType: string, isSelected: boolean = false): React.CSSProperties => {\n      const colorScheme = ELEMENT_COLORS[elementType as keyof typeof ELEMENT_COLORS] || ELEMENT_COLORS.action\n      \n      const baseStyle = {\n        fontFamily: 'Courier New, monospace',\n        fontSize: '12pt',\n        lineHeight: '1.2',\n        minHeight: '24px',\n        marginBottom: '0px',\n        color: colorScheme.text,\n        backgroundColor: isSelected ? colorScheme.bg : 'transparent',\n        borderLeft: isSelected ? `4px solid ${colorScheme.border}` : 'none',\n        paddingLeft: isSelected ? '8px' : '0px',\n        transition: 'all 0.2s ease',\n        position: 'relative' as const\n      }\n\n      const styles: Record<string, React.CSSProperties> = {\n        scene_heading: {\n          ...baseStyle,\n          fontWeight: 'bold',\n          textTransform: 'uppercase',\n          marginLeft: '0px',\n          marginTop: '24px'\n        },\n        character: {\n          ...baseStyle,\n          fontWeight: 'bold', \n          textTransform: 'uppercase',\n          textAlign: 'center',\n          marginLeft: '220px', // 3.7 inches - Celtx style\n          marginTop: '12px'\n        },\n        dialogue: {\n          ...baseStyle,\n          marginLeft: '100px', // 1.5 inches\n          marginRight: '120px', // 2.5 inches from right\n          marginTop: '0px'\n        },\n        parenthetical: {\n          ...baseStyle,\n          fontStyle: 'italic',\n          textAlign: 'center',\n          marginLeft: '160px', // 2 inches\n          marginTop: '0px'\n        },\n        action: {\n          ...baseStyle,\n          marginLeft: '0px',\n          marginRight: '60px', // 1 inch\n          marginTop: '12px'\n        },\n        transition: {\n          ...baseStyle,\n          fontWeight: 'bold',\n          textTransform: 'uppercase',\n          textAlign: 'right',\n          marginTop: '12px'\n        },\n        shot: {\n          ...baseStyle,\n          fontWeight: 'bold',\n          textTransform: 'uppercase', \n          marginLeft: '0px',\n          marginTop: '12px'\n        }\n      }\n      \n      return styles[elementType] || styles.action\n    }\n\n    if (isPreviewMode) {\n      return (\n        <div className={`flex-1 w-full p-8 overflow-y-auto bg-white ${className}`}>\n          {value.split('\\n').map((line, index) => {\n            const lines = value.split('\\n')\n            const elementType = detectElementType(line, lines, index)\n            const isCurrentLine = index === cursorPosition.line\n            const elementCSS = getElementCSS(elementType, isCurrentLine)\n            \n            return (\n              <div \n                key={index} \n                style={elementCSS}\n                title={`${elementType.replace('_', ' ').toUpperCase()}: ${getTooltipContent(elementType)}`}\n                className={`screenplay-${elementType.replace('_', '-')} ${isCurrentLine ? 'current-line' : ''}`}\n              >\n                {isCurrentLine && (\n                  <div className=\"absolute -left-4 top-0 w-2 h-full bg-orange-400 rounded-r\" />\n                )}\n                {line || '\\u00A0'}\n              </div>\n            )\n          })}\n        </div>\n      )\n    }\n\n    return (\n      <div className={`flex-1 flex flex-col ${className} relative`}>\n        {/* Position Guide Overlay */}\n        <div className=\"absolute top-2 right-2 z-10 bg-white/90 backdrop-blur-sm rounded-lg p-2 shadow-sm border\">\n          <div className=\"text-xs font-mono text-gray-600\">\n            <div>Line {cursorPosition.line + 1}, Col {cursorPosition.col + 1}</div>\n            <div className=\"flex items-center mt-1\">\n              <div \n                className=\"w-3 h-3 rounded-full mr-2\" \n                style={{ backgroundColor: ELEMENT_COLORS[activeElement as keyof typeof ELEMENT_COLORS]?.border || '#6b7280' }}\n              />\n              <span className=\"capitalize text-xs font-semibold\">\n                {activeElement.replace('_', ' ')}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Tooltip */}\n        {showTooltip && (\n          <div className=\"absolute top-16 left-8 z-20 bg-black text-white text-sm rounded-lg px-3 py-2 max-w-md shadow-lg\">\n            <div className=\"font-semibold mb-1 capitalize\">{tooltipElement.replace('_', ' ')} Positioned</div>\n            <div className=\"text-xs opacity-90\">{getTooltipContent(tooltipElement)}</div>\n            <div className=\"absolute -top-1 left-4 w-2 h-2 bg-black transform rotate-45\" />\n          </div>\n        )}\n\n        {/* Live-Formatted Editor Container */}\n        <div className=\"flex-1 relative\">\n          {/* Formatted Text Overlay */}\n          <div \n            className=\"absolute inset-0 p-8 pointer-events-none overflow-y-auto\"\n            style={{\n              fontFamily: 'Courier New, monospace',\n              fontSize: '12pt',\n              lineHeight: '1.2',\n              whiteSpace: 'pre-wrap',\n              wordWrap: 'break-word'\n            }}\n          >\n            {value.split('\\n').map((line, index) => {\n              const lines = value.split('\\n')\n              const elementType = detectElementType(line, lines, index)\n              const isCurrentLine = index === cursorPosition.line\n              const elementCSS = getElementCSS(elementType, isCurrentLine)\n              \n              return (\n                <div \n                  key={index} \n                  style={{\n                    ...elementCSS,\n                    minHeight: '14.4px', // Match line height\n                    pointerEvents: 'none'\n                  }}\n                  className={`screenplay-${elementType.replace('_', '-')} ${isCurrentLine ? 'current-line' : ''}`}\n                >\n                  {isCurrentLine && (\n                    <div className=\"absolute -left-4 top-0 w-2 h-full bg-orange-400 rounded-r opacity-50\" />\n                  )}\n                  <span style={{ opacity: 0 }}>{line || '\\u00A0'}</span>\n                </div>\n              )\n            })}\n          </div>\n\n          {/* Transparent Input Textarea */}\n          <textarea\n            ref={textareaRef}\n            value={value}\n            onChange={(e) => {\n              onChange(e.target.value)\n              updateCursorPosition()\n            }}\n            onKeyDown={handleKeyDown}\n            onSelect={updateCursorPosition}\n            onClick={updateCursorPosition}\n            placeholder={placeholder || `FADE IN:\n\nEXT. YOUR STORY - DAY\n\nStart writing your professional screenplay here...\n\n🎬 PROFESSIONAL FEATURES:\n• Live color-coded formatting during typing\n• Visual cursor positioning guides  \n• Professional element detection\n• Click format buttons for instant positioning!\n\nFADE OUT.`}\n            className=\"flex-1 w-full p-8 border-none outline-none resize-none relative z-10\"\n            style={{\n              fontFamily: 'Courier New, monospace',\n              fontSize: '12pt',\n              lineHeight: '1.2',\n              color: 'rgba(0,0,0,0.8)', // Semi-transparent to show overlay colors\n              backgroundColor: 'transparent',\n              caretColor: ELEMENT_COLORS[activeElement as keyof typeof ELEMENT_COLORS]?.border || '#f97316'\n            }}\n            spellCheck={false}\n          />\n        </div>\n      </div>\n    )\n  }\n)\n\nEnhancedScriptEditor.displayName = 'EnhancedScriptEditor'\n\nexport default EnhancedScriptEditor","import { useState, useRef, useCallback, useEffect } from 'react'\nimport { useProjectStore } from './stores/projectStore'\nimport { useAuthStore } from './stores/authStore'\nimport toast, { Toaster } from 'react-hot-toast'\nimport { \n  DocumentTextIcon,\n  SparklesIcon,\n  EyeIcon,\n  UserIcon,\n  ChatBubbleLeftRightIcon,\n  PlayIcon,\n  ArrowRightIcon,\n  CameraIcon,\n  FilmIcon,\n  ChevronDownIcon,\n  ArrowDownTrayIcon,\n  KeyIcon,\n  CalendarIcon,\n  UsersIcon,\n  ClockIcon,\n  DocumentDuplicateIcon,\n  Cog6ToothIcon,\n  QuestionMarkCircleIcon\n} from '@heroicons/react/24/outline'\nimport EnhancedScriptEditor, { ScriptEditorRef } from './components/EnhancedScriptEditor'\nimport { formatScriptProfessionally, detectElementType } from './utils/professionalFormatter'\n\nexport default function App() {\n  const { currentProject, createProject, updateScriptContent } = useProjectStore()\n  const { user, initializeUser } = useAuthStore()\n  \n  const [content, setContent] = useState(`FADE IN:\n\nEXT. HEMANTDOC SCRIPTWRITER PRO - DAY\n\nA revolutionary screenplay writing application comes to life with professional formatting, industry-standard positioning, and Celtx-style character/dialogue layout.\n\nWRITER\n(excited)\nFinally! Character buttons that actually format text, cursor positioning that works, and consistent formatting across all modes!\n\nThe Writer begins typing, experiencing the seamless professional formatting system with scene numbering, enhanced PDF export, and AI script analysis.\n\nFADE OUT.`)\n\n  const [isPreviewMode, setIsPreviewMode] = useState(false)\n  const [wordCount, setWordCount] = useState(0)\n  const [pageCount, setPageCount] = useState(1)\n  const [showQuickActions, setShowQuickActions] = useState(false)\n  const [showExportOptions, setShowExportOptions] = useState(false)\n  const [showKeyboardShortcuts, setShowKeyboardShortcuts] = useState(false)\n  const [showBreakdownModal, setShowBreakdownModal] = useState(false)\n  const scriptEditorRef = useRef<ScriptEditorRef>(null)\n  \n  // Initialize user and project on app start\n  useEffect(() => {\n    initializeUser()\n    \n    // Create default project if none exists\n    if (!currentProject) {\n      createProject('My First Screenplay', 'A professional screenplay with industry-standard formatting')\n    }\n  }, [])\n  \n  // Sync content with current project\n  useEffect(() => {\n    if (currentProject) {\n      setContent(currentProject.scriptContent)\n    }\n  }, [currentProject])\n\n  // Format buttons configuration\n  const formatButtons = [\n    { type: 'scene_heading', label: 'Scene Heading', icon: FilmIcon, shortcut: '⌘1', color: 'bg-blue-500' },\n    { type: 'action', label: 'Action', icon: PlayIcon, shortcut: '⌘2', color: 'bg-green-500' },\n    { type: 'character', label: 'Character', icon: UserIcon, shortcut: '⌘3', color: 'bg-red-500' },\n    { type: 'dialogue', label: 'Dialogue', icon: ChatBubbleLeftRightIcon, shortcut: '⌘4', color: 'bg-purple-500' },\n    { type: 'parenthetical', label: 'Parenthetical', icon: DocumentTextIcon, shortcut: '⌘5', color: 'bg-yellow-500' },\n    { type: 'transition', label: 'Transition', icon: ArrowRightIcon, shortcut: '⌘6', color: 'bg-pink-500' },\n    { type: 'shot', label: 'Shot', icon: CameraIcon, shortcut: '⌘7', color: 'bg-indigo-500' }\n  ]\n\n  const handleContentChange = useCallback((newContent: string) => {\n    setContent(newContent)\n    \n    // Update statistics\n    const words = newContent.split(/\\\\s+/).filter(word => word.length > 0).length\n    const pages = Math.ceil(newContent.split('\\\\n').length / 55)\n    setWordCount(words)\n    setPageCount(pages)\n    \n    // Auto-save to project store with debouncing\n    clearTimeout((window as any).saveTimer)\n    ;(window as any).saveTimer = setTimeout(() => {\n      updateScriptContent(newContent)\n    }, 1000)\n  }, [updateScriptContent])\n\n  const handleElementFormat = (elementType: string) => {\n    if (scriptEditorRef.current) {\n      scriptEditorRef.current.formatCurrentLine(elementType)\n      toast.success(`🎯 Formatted as ${elementType.replace('_', ' ').toUpperCase()}`, {\n        duration: 1000,\n        style: { background: '#fed7aa', color: '#9a3412', fontWeight: '600' }\n      })\n    }\n  }\n\n  const handleAutoFormat = () => {\n    const formattedContent = formatScriptProfessionally(content)\n    setContent(formattedContent)\n    toast.success('✨ Script formatted with industry standards!', { \n      duration: 3000,\n      style: { background: '#fed7aa', color: '#9a3412', fontWeight: '600' }\n    })\n  }\n\n  const handleExportTXT = () => {\n    const blob = new Blob([content], { type: 'text/plain' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = 'screenplay.txt'\n    a.click()\n    URL.revokeObjectURL(url)\n    toast.success('📝 TXT file exported!', { duration: 2000 })\n  }\n\n  const handleExportFDX = () => {\n    // Basic FDX format structure\n    const fdxContent = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<FinalDraft DocumentType=\"Script\" Template=\"No\">\n  <Content>\n    <Paragraph Type=\"Scene Heading\">\n      <Text>${content.split('\\n')[0]}</Text>\n    </Paragraph>\n  </Content>\n</FinalDraft>`\n    \n    const blob = new Blob([fdxContent], { type: 'application/xml' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = 'screenplay.fdx'\n    a.click()\n    URL.revokeObjectURL(url)\n    toast.success('🎬 FDX file exported!', { duration: 2000 })\n  }\n\n  const handleExportPDF = async () => {\n    try {\n      const { jsPDF } = await import('jspdf')\n      const pdf = new jsPDF('portrait', 'pt', 'letter')\n      \n      // Professional PDF export with proper positioning\n      const pageWidth = 612\n      const pageHeight = 792\n      const leftMargin = 90\n      const rightMargin = 54\n      const topMargin = 54\n      const lineHeight = 12\n      let yPosition = topMargin + 36\n      \n      // Title page\n      pdf.setFont('courier', 'bold')\n      pdf.setFontSize(24)\n      const titleY = pageHeight / 2 - 100\n      pdf.text('PROFESSIONAL SCREENPLAY', pageWidth / 2, titleY, { align: 'center' })\n      \n      pdf.setFont('courier', 'normal')\n      pdf.setFontSize(12)\n      pdf.text('Written with HemantDoc ScriptWriter Pro', pageWidth / 2, titleY + 60, { align: 'center' })\n      pdf.text('Professional Formatting System', pageWidth / 2, titleY + 80, { align: 'center' })\n      \n      // Script content\n      pdf.addPage()\n      yPosition = topMargin + 36\n      \n      const lines = content.split('\\\\n')\n      \n      for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim()\n        if (!line) continue\n        \n        const elementType = detectElementType(line, lines, i)\n        let xPosition = leftMargin\n        let text = line\n        \n        // Professional positioning\n        switch (elementType) {\n          case 'scene_heading':\n            text = text.toUpperCase()\n            pdf.setFont('courier', 'bold')\n            yPosition += lineHeight\n            break\n          case 'character':\n            text = text.toUpperCase()\n            xPosition = leftMargin + 220 // Centered position\n            pdf.setFont('courier', 'bold')\n            yPosition += lineHeight / 2\n            break\n          case 'dialogue':\n            xPosition = leftMargin + 100 // Dialogue indent\n            pdf.setFont('courier', 'normal')\n            break\n          case 'parenthetical':\n            if (!text.startsWith('(')) text = '(' + text\n            if (!text.endsWith(')')) text = text + ')'\n            xPosition = leftMargin + 160\n            pdf.setFont('courier', 'normal')\n            break\n          case 'transition':\n            text = text.toUpperCase()\n            if (!text.endsWith(':')) text = text + ':'\n            const textWidth = pdf.getTextWidth(text)\n            xPosition = pageWidth - rightMargin - textWidth\n            pdf.setFont('courier', 'bold')\n            yPosition += lineHeight\n            break\n          default:\n            pdf.setFont('courier', 'normal')\n            yPosition += lineHeight / 2\n            break\n        }\n        \n        if (yPosition > pageHeight - 100) {\n          pdf.addPage()\n          yPosition = topMargin\n        }\n        \n        pdf.setFontSize(12)\n        pdf.text(text, xPosition, yPosition)\n        yPosition += lineHeight\n      }\n      \n      pdf.save('professional-screenplay.pdf')\n      toast.success('📄 Professional PDF exported!', { \n        duration: 3000,\n        style: { background: '#dcfce7', color: '#166534', fontWeight: '600' }\n      })\n    } catch (error) {\n      console.error('PDF export failed:', error)\n      toast.error('❌ PDF export failed. Please try again.')\n    }\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col\" style={{ background: 'linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)' }}>\n      <Toaster position=\"top-right\" />\n      \n      {/* Orange Header */}\n      <div className=\"bg-gradient-to-r from-orange-400 to-orange-600 shadow-lg\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg\">\n                  <DocumentTextIcon className=\"h-6 w-6 text-orange-500\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white drop-shadow-sm\">HemantDoc ScriptWriter Pro</h1>\n                  <p className=\"text-sm text-orange-100\">Professional Screenplay Formatting System</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Stats */}\n            <div className=\"hidden md:flex items-center space-x-8 text-white\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\">{wordCount}</div>\n                <div className=\"text-xs text-orange-100\">WORDS</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\">{pageCount}</div>\n                <div className=\"text-xs text-orange-100\">PAGES</div>\n              </div>\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex items-center space-x-3\">\n              {/* Quick Actions Dropdown */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowQuickActions(!showQuickActions)}\n                  className=\"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all\"\n                >\n                  <SparklesIcon className=\"h-4 w-4 mr-2\" />\n                  Quick Actions\n                  <ChevronDownIcon className=\"h-3 w-3 ml-1\" />\n                </button>\n                {showQuickActions && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-orange-200 z-50\">\n                    <div className=\"py-2\">\n                      <button onClick={handleAutoFormat} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <SparklesIcon className=\"h-4 w-4 mr-2 text-orange-500\" />\n                        Auto-Format Script\n                      </button>\n                      <button onClick={() => setShowKeyboardShortcuts(true)} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <KeyIcon className=\"h-4 w-4 mr-2 text-blue-500\" />\n                        Keyboard Shortcuts\n                      </button>\n                      <button onClick={() => setShowBreakdownModal(true)} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <CalendarIcon className=\"h-4 w-4 mr-2 text-green-500\" />\n                        Scene Breakdown\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Export Options Dropdown */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowExportOptions(!showExportOptions)}\n                  className=\"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all\"\n                >\n                  <ArrowDownTrayIcon className=\"h-4 w-4 mr-2\" />\n                  Export\n                  <ChevronDownIcon className=\"h-3 w-3 ml-1\" />\n                </button>\n                {showExportOptions && (\n                  <div className=\"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl border border-orange-200 z-50\">\n                    <div className=\"py-2\">\n                      <button onClick={handleExportPDF} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <DocumentTextIcon className=\"h-4 w-4 mr-2 text-red-500\" />\n                        Export PDF\n                      </button>\n                      <button onClick={handleExportTXT} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <DocumentTextIcon className=\"h-4 w-4 mr-2 text-blue-500\" />\n                        Export TXT\n                      </button>\n                      <button onClick={handleExportFDX} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <FilmIcon className=\"h-4 w-4 mr-2 text-purple-500\" />\n                        Export FDX\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Version Revision */}\n              <button\n                onClick={() => toast.success('🔄 Version saved as v3.0.1', { duration: 2000 })}\n                className=\"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all\"\n              >\n                <DocumentDuplicateIcon className=\"h-4 w-4 mr-2\" />\n                v3.0.0\n              </button>\n\n              <button\n                onClick={() => setIsPreviewMode(!isPreviewMode)}\n                className={`flex items-center px-4 py-2 rounded-lg transition-all ${\n                  isPreviewMode \n                    ? 'bg-white text-orange-600 shadow-lg' \n                    : 'bg-white/20 backdrop-blur-sm text-white hover:bg-white/30'\n                }`}\n              >\n                <EyeIcon className=\"h-4 w-4 mr-2\" />\n                {isPreviewMode ? 'Edit' : 'Preview'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex\">\n        {/* Left Sidebar - Formatting Toolbar */}\n        <div className=\"w-64 bg-gradient-to-b from-orange-50 to-orange-100 border-r-2 border-orange-200 p-4 shadow-lg\">\n          <div className=\"space-y-4\">\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Quick Actions</h3>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={handleAutoFormat}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-sm\"\n                >\n                  <SparklesIcon className=\"h-4 w-4 mr-2\" />\n                  Auto-Format Script\n                </button>\n                \n                <button\n                  onClick={() => setShowBreakdownModal(true)}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm\"\n                >\n                  <CalendarIcon className=\"h-4 w-4 mr-2\" />\n                  Scene Breakdown\n                </button>\n                \n                <button\n                  onClick={() => toast.success('🗓️ Schedule feature coming soon!', { duration: 2000 })}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all shadow-sm\"\n                >\n                  <ClockIcon className=\"h-4 w-4 mr-2\" />\n                  Schedule\n                </button>\n                \n                <button\n                  onClick={() => toast.success('👥 Collaborate feature coming soon!', { duration: 2000 })}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-sm\"\n                >\n                  <UsersIcon className=\"h-4 w-4 mr-2\" />\n                  Collaborate\n                </button>\n              </div>\n            </div>\n\n            {/* Formatting Tools */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Format Elements</h3>\n              <div className=\"space-y-1\">\n                {formatButtons.map((button) => {\n                  const Icon = button.icon\n                  return (\n                    <button\n                      key={button.type}\n                      onClick={() => handleElementFormat(button.type)}\n                      className=\"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-800 rounded-lg transition-all group\"\n                      title={`${button.label} (${button.shortcut})`}\n                    >\n                      <div className={`w-3 h-3 rounded-full mr-3 ${button.color} group-hover:scale-110 transition-transform`} />\n                      <Icon className=\"h-4 w-4 mr-2 text-gray-500 group-hover:text-orange-600\" />\n                      <span className=\"flex-1 text-left\">{button.label}</span>\n                      <span className=\"text-xs text-gray-400 group-hover:text-orange-500\">{button.shortcut}</span>\n                    </button>\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* Export Options */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Export Options</h3>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={handleExportPDF}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all shadow-sm\"\n                >\n                  <DocumentTextIcon className=\"h-4 w-4 mr-2\" />\n                  Export PDF\n                </button>\n                \n                <button\n                  onClick={handleExportTXT}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm\"\n                >\n                  <DocumentTextIcon className=\"h-4 w-4 mr-2\" />\n                  Export TXT\n                </button>\n                \n                <button\n                  onClick={handleExportFDX}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-sm\"\n                >\n                  <FilmIcon className=\"h-4 w-4 mr-2\" />\n                  Export FDX\n                </button>\n              </div>\n            </div>\n\n            {/* Keyboard Shortcuts */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Help & Shortcuts</h3>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={() => setShowKeyboardShortcuts(true)}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all shadow-sm\"\n                >\n                  <KeyIcon className=\"h-4 w-4 mr-2\" />\n                  Keyboard Shortcuts\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Editor Area */}\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\n          <div className=\"flex-1 p-8 flex flex-col\">\n            <div className=\"bg-white rounded-2xl shadow-xl border-2 border-orange-200 flex-1 flex flex-col min-h-0\">\n              <EnhancedScriptEditor\n                ref={scriptEditorRef}\n                value={content}\n                onChange={handleContentChange}\n                isPreviewMode={isPreviewMode}\n                className=\"flex-1 rounded-2xl\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Modals */}\n      {showKeyboardShortcuts && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" onClick={() => setShowKeyboardShortcuts(false)}>\n          <div className=\"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4\" onClick={e => e.stopPropagation()}>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-orange-800\">Keyboard Shortcuts</h2>\n              <button onClick={() => setShowKeyboardShortcuts(false)} className=\"text-gray-500 hover:text-gray-700\">\n                ✕\n              </button>\n            </div>\n            <div className=\"grid grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"font-semibold text-gray-800 mb-3\">Formatting</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\"><span>Scene Heading</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+1</span></div>\n                  <div className=\"flex justify-between\"><span>Action</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+2</span></div>\n                  <div className=\"flex justify-between\"><span>Character</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+3</span></div>\n                  <div className=\"flex justify-between\"><span>Dialogue</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+4</span></div>\n                  <div className=\"flex justify-between\"><span>Parenthetical</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+5</span></div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-800 mb-3\">Actions</h3>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\"><span>Auto-Format</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+⇧+F</span></div>\n                  <div className=\"flex justify-between\"><span>Export PDF</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+E</span></div>\n                  <div className=\"flex justify-between\"><span>Preview Mode</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+P</span></div>\n                  <div className=\"flex justify-between\"><span>Save</span><span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">⌘+S</span></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showBreakdownModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" onClick={() => setShowBreakdownModal(false)}>\n          <div className=\"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 h-3/4 overflow-y-auto\" onClick={e => e.stopPropagation()}>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-orange-800\">Scene Breakdown & Analysis</h2>\n              <button onClick={() => setShowBreakdownModal(false)} className=\"text-gray-500 hover:text-gray-700\">\n                ✕\n              </button>\n            </div>\n            <div className=\"space-y-6\">\n              <div className=\"bg-orange-50 p-4 rounded-lg\">\n                <h3 className=\"font-semibold text-orange-800 mb-2\">Script Statistics</h3>\n                <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                  <div><strong>Total Scenes:</strong> {content.split('EXT.').length + content.split('INT.').length - 2}</div>\n                  <div><strong>Characters:</strong> {Array.from(new Set(content.match(/^[A-Z][A-Z ]+$/gm) || [])).length}</div>\n                  <div><strong>Locations:</strong> {Array.from(new Set(content.match(/(EXT|INT)\\. [A-Z ]+/g) || [])).length}</div>\n                </div>\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-800 mb-3\">Scene List</h3>\n                <div className=\"space-y-2\">\n                  {content.split('\\n').filter(line => line.match(/(EXT|INT)\\./)).map((scene, index) => (\n                    <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                      <div>\n                        <span className=\"font-semibold text-blue-600\">Scene {index + 1}</span>\n                        <span className=\"ml-3 text-gray-700\">{scene}</span>\n                      </div>\n                      <div className=\"text-sm text-gray-500\">Page {Math.floor(index / 3) + 1}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Status Bar */}\n      <div className=\"bg-gradient-to-r from-orange-100 to-orange-200 border-t-2 border-orange-300 px-6 py-3\">\n        <div className=\"flex items-center justify-between text-sm\">\n          <div className=\"flex items-center space-x-6 text-orange-800\">\n            <span className=\"font-semibold\">Format: Professional Screenplay</span>\n            <span>Font: Courier New 12pt</span>\n            <span className=\"flex items-center\">\n              <QuestionMarkCircleIcon className=\"h-4 w-4 mr-1\" />\n              Press buttons to format + move cursor\n            </span>\n          </div>\n          <div className=\"flex items-center space-x-6 text-orange-700\">\n            <span className=\"font-bold text-orange-600 flex items-center\">\n              <div className=\"w-2 h-2 bg-orange-500 rounded-full mr-2\" />\n              Professional Formatting System v3.0.0\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)"],"file":"assets/index-a4bda5b6.js"}