{"version":3,"mappings":"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","names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","createStoreImpl","createState","state","listeners","setState","partial","replace","nextState","previousState","listener","getState","api","initialState","createStore","identity","arg","useStore","selector","slice","React","createImpl","useBoundStore","create","createJSONStorage","getStorage","options","storage","name","_a","parse","str2","str","newValue","toThenable","fn","input","result","onFulfilled","_onRejected","_onFulfilled","onRejected","persistImpl","config","baseOptions","set","get","persistedState","currentState","hasHydrated","hydrationListeners","finishHydrationListeners","args","setItem","savedSetState","configResult","stateFromStorage","hydrate","_b","cb","_a2","postRehydrationCallback","deserializedStorageValue","migration","migrationResult","migrated","migratedState","newOptions","persist","useProjectStore","title","description","newProject","id","updates","project","content","currentProject","words","word","pages","characters","projects","projectToDuplicate","duplicatedProject","format","defaultPreferences","useAuthStore","user","preferences","updatedUser","t","o","r","s","i","u","j","W","F","A","Y","U","P","y","D","Q","H","J","x","K","X","Z","ee","O","$","L","S","E","oe","I","re","se","te","ne","ie","V","ae","pe","N","de","_","ce","ue","w","le","fe","me","Te","M","g.createElement","ye","ge","he","xe","be","B","Se","Ae","z","C","l.memo","l.createElement","l.Fragment","Re","T.createElement","ve","T.useCallback","Ee","De","Pe","R","Oe","Vt","ArrowDownTrayIcon","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ArrowDownTrayIcon$1","ArrowRightIcon","ArrowRightIcon$1","CalendarIcon","CalendarIcon$1","CameraIcon","CameraIcon$1","ChatBubbleLeftRightIcon","ChatBubbleLeftRightIcon$1","ChevronDownIcon","ChevronDownIcon$1","ClockIcon","ClockIcon$1","DocumentDuplicateIcon","DocumentDuplicateIcon$1","DocumentTextIcon","DocumentTextIcon$1","EyeIcon","EyeIcon$1","FilmIcon","FilmIcon$1","KeyIcon","KeyIcon$1","PlayIcon","PlayIcon$1","QuestionMarkCircleIcon","QuestionMarkCircleIcon$1","SparklesIcon","SparklesIcon$1","UserIcon","UserIcon$1","UsersIcon","UsersIcon$1","FORMAT_SPECS","ProfessionalVerticalStackEditor","forwardRef","value","onChange","isPreviewMode","className","placeholder","ref","lines","setLines","useState","activeLineIndex","setActiveLineIndex","showFormatIndicator","setShowFormatIndicator","lineRefs","useRef","containerRef","useEffect","scriptLines","text","index","detectFormat","useCallback","trimmed","linesToText","line","getNextFormat","currentFormat","currentText","canApplyFormat","lineIndex","previousLine","validateAndApplyFormat","useImperativeHandle","prevLines","newLines","formattedText","activeRef","start","end","newText","nextFormat","newLine","newRef","shortcut","handleLineChange","lineId","handleKeyDown","prevRef","nextRef","handleLineFocus","getLineStyles","spec","jsx","jsxs","el","SCREENPLAY_FORMATTING","detectElementType","nextLine","prevLine","formatLineWithIndentation","elementType","formatting","indentChars","formatScriptProfessionally","useKeyboardShortcuts","onFormatShortcut","onFileOperation","onNavigation","onEditing","onSmartFeature","onProduction","isCmd","isShift","isAlt","key","KEYBOARD_SHORTCUTS","App","createProject","updateScriptContent","initializeUser","setContent","setIsPreviewMode","wordCount","setWordCount","pageCount","setPageCount","showQuickActions","setShowQuickActions","showExportOptions","setShowExportOptions","showKeyboardShortcuts","setShowKeyboardShortcuts","showBreakdownModal","setShowBreakdownModal","scriptEditorRef","formatButtons","handleContentChange","newContent","handleElementFormat","toast","operation","handleExportPDF","handleExportTXT","handleExportFDX","action","handleAutoFormat","formattedContent","blob","url","fdxContent","jsPDF","__vitePreload","pdf","pageWidth","pageHeight","leftMargin","rightMargin","topMargin","lineHeight","yPosition","titleY","xPosition","textWidth","error","Toaster","button","Icon","item","scene","sceneIndex","character","dialogueCount","ReactDOM"],"sources":["../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../node_modules/react/jsx-runtime.js","../../node_modules/react-dom/client.js","../../node_modules/zustand/esm/vanilla.mjs","../../node_modules/zustand/esm/react.mjs","../../node_modules/zustand/esm/middleware.mjs","../../src/stores/projectStore.ts","../../src/stores/authStore.ts","../../node_modules/goober/dist/goober.modern.js","../../node_modules/react-hot-toast/dist/index.mjs","../../node_modules/@heroicons/react/24/outline/esm/ArrowDownTrayIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ArrowRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CalendarIcon.js","../../node_modules/@heroicons/react/24/outline/esm/CameraIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChatBubbleLeftRightIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ChevronDownIcon.js","../../node_modules/@heroicons/react/24/outline/esm/ClockIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentDuplicateIcon.js","../../node_modules/@heroicons/react/24/outline/esm/DocumentTextIcon.js","../../node_modules/@heroicons/react/24/outline/esm/EyeIcon.js","../../node_modules/@heroicons/react/24/outline/esm/FilmIcon.js","../../node_modules/@heroicons/react/24/outline/esm/KeyIcon.js","../../node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../../node_modules/@heroicons/react/24/outline/esm/QuestionMarkCircleIcon.js","../../node_modules/@heroicons/react/24/outline/esm/SparklesIcon.js","../../node_modules/@heroicons/react/24/outline/esm/UserIcon.js","../../node_modules/@heroicons/react/24/outline/esm/UsersIcon.js","../../src/components/ProfessionalVerticalStackEditor.tsx","../../src/utils/professionalFormatter.ts","../../src/hooks/useKeyboardShortcuts.ts","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\n\nexport { createStore };\n","import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\n\nexport { create, useStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = (state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  };\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = (selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  };\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    void setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      void setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\nexport interface Project {\n  id: string\n  title: string\n  description: string\n  scriptContent: string\n  createdAt: Date\n  updatedAt: Date\n  author: string\n  genre: string\n  logline?: string\n  pageCount: number\n  wordCount: number\n  characterCount: number\n}\n\ninterface ProjectState {\n  projects: Project[]\n  currentProject: Project | null\n  isLoading: boolean\n  \n  // Actions\n  createProject: (title: string, description?: string) => void\n  updateProject: (id: string, updates: Partial<Project>) => void\n  deleteProject: (id: string) => void\n  setCurrentProject: (project: Project | null) => void\n  updateScriptContent: (content: string) => void\n  getProjectById: (id: string) => Project | undefined\n  duplicateProject: (id: string) => void\n  exportProject: (id: string, format: 'fdx' | 'pdf' | 'txt') => void\n}\n\nexport const useProjectStore = create<ProjectState>()(\n  persist(\n    (set, get) => ({\n      projects: [],\n      currentProject: null,\n      isLoading: false,\n\n      createProject: (title: string, description?: string) => {\n        const newProject: Project = {\n          id: `project_${Date.now()}`,\n          title,\n          description: description || '',\n          scriptContent: `FADE IN:\n\nEXT. ${title.toUpperCase()} - DAY\n\nA new story begins...\n\nFADE OUT.`,\n          createdAt: new Date(),\n          updatedAt: new Date(),\n          author: 'Writer',\n          genre: 'Drama',\n          pageCount: 1,\n          wordCount: 8,\n          characterCount: 50\n        }\n\n        set(state => ({\n          projects: [...state.projects, newProject],\n          currentProject: newProject\n        }))\n      },\n\n      updateProject: (id: string, updates: Partial<Project>) => {\n        set(state => ({\n          projects: state.projects.map(project =>\n            project.id === id \n              ? { ...project, ...updates, updatedAt: new Date() }\n              : project\n          ),\n          currentProject: state.currentProject?.id === id \n            ? { ...state.currentProject, ...updates, updatedAt: new Date() }\n            : state.currentProject\n        }))\n      },\n\n      deleteProject: (id: string) => {\n        set(state => ({\n          projects: state.projects.filter(project => project.id !== id),\n          currentProject: state.currentProject?.id === id ? null : state.currentProject\n        }))\n      },\n\n      setCurrentProject: (project: Project | null) => {\n        set({ currentProject: project })\n      },\n\n      updateScriptContent: (content: string) => {\n        const { currentProject } = get()\n        if (!currentProject) return\n\n        // Calculate stats\n        const words = content.split(/\\\\s+/).filter(word => word.length > 0).length\n        const pages = Math.ceil(content.split('\\\\n').length / 55)\n        const characters = content.length\n\n        const updates = {\n          scriptContent: content,\n          wordCount: words,\n          pageCount: pages,\n          characterCount: characters,\n          updatedAt: new Date()\n        }\n\n        set(state => ({\n          currentProject: { ...currentProject, ...updates },\n          projects: state.projects.map(project =>\n            project.id === currentProject.id \n              ? { ...project, ...updates }\n              : project\n          )\n        }))\n      },\n\n      getProjectById: (id: string) => {\n        return get().projects.find(project => project.id === id)\n      },\n\n      duplicateProject: (id: string) => {\n        const { projects } = get()\n        const projectToDuplicate = projects.find(p => p.id === id)\n        \n        if (projectToDuplicate) {\n          const duplicatedProject: Project = {\n            ...projectToDuplicate,\n            id: `project_${Date.now()}`,\n            title: `${projectToDuplicate.title} (Copy)`,\n            createdAt: new Date(),\n            updatedAt: new Date()\n          }\n\n          set(state => ({\n            projects: [...state.projects, duplicatedProject]\n          }))\n        }\n      },\n\n      exportProject: (id: string, format: 'fdx' | 'pdf' | 'txt') => {\n        const project = get().getProjectById(id)\n        if (!project) return\n\n        // Export logic would go here\n        console.log(`Exporting project ${project.title} as ${format}`)\n      }\n    }),\n    {\n      name: 'hemantdoc-scriptwriter-projects',\n      version: 1,\n    }\n  )\n)","import { create } from 'zustand'\nimport { persist } from 'zustand/middleware'\n\nexport interface User {\n  id: string\n  name: string\n  email: string\n  avatar?: string\n  preferences: {\n    theme: 'light' | 'dark' | 'auto'\n    fontSize: number\n    fontFamily: string\n    autoSave: boolean\n    spellCheck: boolean\n    wordWrap: boolean\n    showLineNumbers: boolean\n    showPageBreaks: boolean\n  }\n}\n\ninterface AuthState {\n  user: User | null\n  isAuthenticated: boolean\n  isLoading: boolean\n  \n  // Actions\n  setUser: (user: User) => void\n  logout: () => void\n  updateUserPreferences: (preferences: Partial<User['preferences']>) => void\n  initializeUser: () => void\n}\n\nconst defaultPreferences: User['preferences'] = {\n  theme: 'light',\n  fontSize: 12,\n  fontFamily: 'Courier New',\n  autoSave: true,\n  spellCheck: true,\n  wordWrap: true,\n  showLineNumbers: false,\n  showPageBreaks: true\n}\n\nexport const useAuthStore = create<AuthState>()(\n  persist(\n    (set, get) => ({\n      user: null,\n      isAuthenticated: false,\n      isLoading: false,\n\n      setUser: (user: User) => {\n        set({\n          user,\n          isAuthenticated: true,\n          isLoading: false\n        })\n      },\n\n      logout: () => {\n        set({\n          user: null,\n          isAuthenticated: false,\n          isLoading: false\n        })\n      },\n\n      updateUserPreferences: (preferences: Partial<User['preferences']>) => {\n        const { user } = get()\n        if (!user) return\n\n        const updatedUser = {\n          ...user,\n          preferences: {\n            ...user.preferences,\n            ...preferences\n          }\n        }\n\n        set({ user: updatedUser })\n      },\n\n      initializeUser: () => {\n        // Initialize with default user for demo purposes\n        const { user } = get()\n        if (!user) {\n          const defaultUser: User = {\n            id: 'demo-user',\n            name: 'Professional Writer',\n            email: 'writer@hemantdoc.com',\n            preferences: defaultPreferences\n          }\n          \n          set({\n            user: defaultUser,\n            isAuthenticated: true,\n            isLoading: false\n          })\n        }\n      }\n    }),\n    {\n      name: 'hemantdoc-scriptwriter-auth',\n      version: 1,\n    }\n  )\n)","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/([^,]*:\\S+\\([^)]*\\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","\"use client\";\nvar W=e=>typeof e==\"function\",f=(e,t)=>W(e)?e(t):e;var F=(()=>{let e=0;return()=>(++e).toString()})(),A=(()=>{let e;return()=>{if(e===void 0&&typeof window<\"u\"){let t=matchMedia(\"(prefers-reduced-motion: reduce)\");e=!t||t.matches}return e}})();import{useEffect as H,useState as j,useRef as Q}from\"react\";var Y=20;var U=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,Y)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return U(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(o=>o.id===s||s===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},P=[],y={toasts:[],pausedAt:void 0},u=e=>{y=U(y,e),P.forEach(t=>{t(y)})},q={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},D=(e={})=>{let[t,r]=j(y),s=Q(y);H(()=>(s.current!==y&&r(y),P.push(r),()=>{let o=P.indexOf(r);o>-1&&P.splice(o,1)}),[]);let a=t.toasts.map(o=>{var n,i,p;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((n=e[o.type])==null?void 0:n.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((i=e[o.type])==null?void 0:i.duration)||(e==null?void 0:e.duration)||q[o.type],style:{...e.style,...(p=e[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:a}};var J=(e,t=\"blank\",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:\"status\",\"aria-live\":\"polite\"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||F()}),x=e=>(t,r)=>{let s=J(t,e,r);return u({type:2,toast:s}),s.id},c=(e,t)=>x(\"blank\")(e,t);c.error=x(\"error\");c.success=x(\"success\");c.loading=x(\"loading\");c.custom=x(\"custom\");c.dismiss=e=>{u({type:3,toastId:e})};c.remove=e=>u({type:4,toastId:e});c.promise=(e,t,r)=>{let s=c.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e==\"function\"&&(e=e()),e.then(a=>{let o=t.success?f(t.success,a):void 0;return o?c.success(o,{id:s,...r,...r==null?void 0:r.success}):c.dismiss(s),a}).catch(a=>{let o=t.error?f(t.error,a):void 0;o?c.error(o,{id:s,...r,...r==null?void 0:r.error}):c.dismiss(s)}),e};import{useEffect as $,useCallback as L}from\"react\";var K=(e,t)=>{u({type:1,toast:{id:e,height:t}})},X=()=>{u({type:5,time:Date.now()})},b=new Map,Z=1e3,ee=(e,t=Z)=>{if(b.has(e))return;let r=setTimeout(()=>{b.delete(e),u({type:4,toastId:e})},t);b.set(e,r)},O=e=>{let{toasts:t,pausedAt:r}=D(e);$(()=>{if(r)return;let o=Date.now(),n=t.map(i=>{if(i.duration===1/0)return;let p=(i.duration||0)+i.pauseDuration-(o-i.createdAt);if(p<0){i.visible&&c.dismiss(i.id);return}return setTimeout(()=>c.dismiss(i.id),p)});return()=>{n.forEach(i=>i&&clearTimeout(i))}},[t,r]);let s=L(()=>{r&&u({type:6,time:Date.now()})},[r]),a=L((o,n)=>{let{reverseOrder:i=!1,gutter:p=8,defaultPosition:d}=n||{},h=t.filter(m=>(m.position||d)===(o.position||d)&&m.height),v=h.findIndex(m=>m.id===o.id),S=h.filter((m,E)=>E<v&&m.visible).length;return h.filter(m=>m.visible).slice(...i?[S+1]:[0,S]).reduce((m,E)=>m+(E.height||0)+p,0)},[t]);return $(()=>{t.forEach(o=>{if(o.dismissed)ee(o.id,o.removeDelay);else{let n=b.get(o.id);n&&(clearTimeout(n),b.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:K,startPause:X,endPause:s,calculateOffset:a}}};import*as l from\"react\";import{styled as B,keyframes as z}from\"goober\";import*as g from\"react\";import{styled as w,keyframes as me}from\"goober\";import{styled as te,keyframes as I}from\"goober\";var oe=I`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}`,re=I`\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,se=I`\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}`,k=te(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#ff4b4b\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: ${re} 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ${e=>e.secondary||\"#fff\"};\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: ${se} 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n`;import{styled as ae,keyframes as ie}from\"goober\";var ne=ie`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`,V=ae(\"div\")`\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ${e=>e.secondary||\"#e0e0e0\"};\n  border-right-color: ${e=>e.primary||\"#616161\"};\n  animation: ${ne} 1s linear infinite;\n`;import{styled as ce,keyframes as N}from\"goober\";var pe=N`\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}`,de=N`\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}`,_=ce(\"div\")`\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ${e=>e.primary||\"#61d345\"};\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: ${de} 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ${e=>e.secondary||\"#fff\"};\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n`;var ue=w(\"div\")`\n  position: absolute;\n`,le=w(\"div\")`\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n`,fe=me`\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}`,Te=w(\"div\")`\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n`,M=({toast:e})=>{let{icon:t,type:r,iconTheme:s}=e;return t!==void 0?typeof t==\"string\"?g.createElement(Te,null,t):t:r===\"blank\"?null:g.createElement(le,null,g.createElement(V,{...s}),r!==\"loading\"&&g.createElement(ue,null,r===\"error\"?g.createElement(k,{...s}):g.createElement(_,{...s})))};var ye=e=>`\n0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,ge=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}\n`,he=\"0%{opacity:0;} 100%{opacity:1;}\",xe=\"0%{opacity:1;} 100%{opacity:0;}\",be=B(\"div\")`\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n`,Se=B(\"div\")`\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n`,Ae=(e,t)=>{let s=e.includes(\"top\")?1:-1,[a,o]=A()?[he,xe]:[ye(s),ge(s)];return{animation:t?`${z(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${z(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},C=l.memo(({toast:e,position:t,style:r,children:s})=>{let a=e.height?Ae(e.position||t||\"top-center\",e.visible):{opacity:0},o=l.createElement(M,{toast:e}),n=l.createElement(Se,{...e.ariaProps},f(e.message,e));return l.createElement(be,{className:e.className,style:{...a,...r,...e.style}},typeof s==\"function\"?s({icon:o,message:n}):l.createElement(l.Fragment,null,o,n))});import{css as Pe,setup as Re}from\"goober\";import*as T from\"react\";Re(T.createElement);var ve=({id:e,className:t,style:r,onHeightUpdate:s,children:a})=>{let o=T.useCallback(n=>{if(n){let i=()=>{let p=n.getBoundingClientRect().height;s(e,p)};i(),new MutationObserver(i).observe(n,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return T.createElement(\"div\",{ref:o,className:t,style:r},a)},Ee=(e,t)=>{let r=e.includes(\"top\"),s=r?{top:0}:{bottom:0},a=e.includes(\"center\")?{justifyContent:\"center\"}:e.includes(\"right\")?{justifyContent:\"flex-end\"}:{};return{left:0,right:0,display:\"flex\",position:\"absolute\",transition:A()?void 0:\"all 230ms cubic-bezier(.21,1.02,.73,1)\",transform:`translateY(${t*(r?1:-1)}px)`,...s,...a}},De=Pe`\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n`,R=16,Oe=({reverseOrder:e,position:t=\"top-center\",toastOptions:r,gutter:s,children:a,containerStyle:o,containerClassName:n})=>{let{toasts:i,handlers:p}=O(r);return T.createElement(\"div\",{id:\"_rht_toaster\",style:{position:\"fixed\",zIndex:9999,top:R,left:R,right:R,bottom:R,pointerEvents:\"none\",...o},className:n,onMouseEnter:p.startPause,onMouseLeave:p.endPause},i.map(d=>{let h=d.position||t,v=p.calculateOffset(d,{reverseOrder:e,gutter:s,defaultPosition:t}),S=Ee(h,v);return T.createElement(ve,{id:d.id,key:d.id,onHeightUpdate:p.updateHeight,className:d.visible?De:\"\",style:S},d.type===\"custom\"?f(d.message,d):a?a(d):T.createElement(C,{toast:d,position:h}))}))};var Vt=c;export{_ as CheckmarkIcon,k as ErrorIcon,V as LoaderIcon,C as ToastBar,M as ToastIcon,Oe as Toaster,Vt as default,f as resolveValue,c as toast,O as useToaster,D as useToasterStore};\n//# sourceMappingURL=index.mjs.map","import * as React from \"react\";\nfunction ArrowDownTrayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowDownTrayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArrowRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArrowRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CalendarIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CalendarIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CameraIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CameraIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChatBubbleLeftRightIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChatBubbleLeftRightIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ChevronDownIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m19.5 8.25-7.5 7.5-7.5-7.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ChevronDownIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ClockIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ClockIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentDuplicateIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentDuplicateIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentTextIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentTextIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction EyeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(EyeIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction FilmIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(FilmIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction KeyIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(KeyIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction QuestionMarkCircleIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(QuestionMarkCircleIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction SparklesIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(SparklesIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UsersIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UsersIcon);\nexport default ForwardRef;","import React, { useRef, forwardRef, useImperativeHandle, useCallback, useEffect, useState } from 'react'\n\n// Professional screenplay line interface\ninterface ScriptLine {\n  id: string\n  text: string\n  format: 'SceneHeading' | 'Action' | 'Character' | 'Dialogue' | 'Parenthetical' | 'Transition' | 'Shot'\n  isActive: boolean\n}\n\n// Professional PDF formatting specifications (exact measurements)\nconst FORMAT_SPECS = {\n  SceneHeading: {\n    marginLeft: 0,\n    marginRight: 72, // 1 inch\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n    fontWeight: 'bold' as const,\n    marginTop: 24,\n    marginBottom: 0,\n    color: '#0d47a1',\n    bgColor: '#e3f2fd'\n  },\n  Character: {\n    marginLeft: 266, // 3.7 inches\n    marginRight: 0,\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n    fontWeight: 'bold' as const,\n    marginTop: 12,\n    marginBottom: 0,\n    color: '#c62828',\n    bgColor: '#ffebee'\n  },\n  Dialogue: {\n    marginLeft: 108, // 1.5 inches\n    marginRight: 180, // 2.5 inches\n    textAlign: 'left' as const,\n    textTransform: 'none' as const,\n    fontWeight: 'normal' as const,\n    marginTop: 0,\n    marginBottom: 0,\n    color: '#4a148c',\n    bgColor: '#f3e5f5'\n  },\n  Parenthetical: {\n    marginLeft: 144, // 2 inches\n    marginRight: 144,\n    textAlign: 'left' as const,\n    textTransform: 'none' as const,\n    fontWeight: 'normal' as const,\n    marginTop: 0,\n    marginBottom: 0,\n    color: '#e65100',\n    bgColor: '#fff3e0'\n  },\n  Action: {\n    marginLeft: 0,\n    marginRight: 72,\n    textAlign: 'left' as const,\n    textTransform: 'none' as const,\n    fontWeight: 'normal' as const,\n    marginTop: 12,\n    marginBottom: 0,\n    color: '#1b5e20',\n    bgColor: '#e8f5e8'\n  },\n  Transition: {\n    marginLeft: 360, // Right-aligned\n    marginRight: 0,\n    textAlign: 'right' as const,\n    textTransform: 'uppercase' as const,\n    fontWeight: 'bold' as const,\n    marginTop: 12,\n    marginBottom: 0,\n    color: '#880e4f',\n    bgColor: '#fce4ec'\n  },\n  Shot: {\n    marginLeft: 0,\n    marginRight: 72,\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n    fontWeight: 'bold' as const,\n    marginTop: 12,\n    marginBottom: 0,\n    color: '#01579b',\n    bgColor: '#e1f5fe'\n  }\n}\n\nexport interface ScriptEditorRef {\n  formatCurrentLine: (format: string) => void\n  insertTextAtCursor: (text: string) => void\n  focus: () => void\n  getCurrentLine: () => ScriptLine | null\n  getCurrentElementType: () => string\n  addNewLine: (format?: string) => void\n  handleKeyboardShortcut: (shortcut: string) => void\n}\n\ninterface ProfessionalVerticalStackEditorProps {\n  value: string\n  onChange: (value: string) => void\n  isPreviewMode: boolean\n  className?: string\n  placeholder?: string\n}\n\nconst ProfessionalVerticalStackEditor = forwardRef<ScriptEditorRef, ProfessionalVerticalStackEditorProps>(\n  ({ value, onChange, isPreviewMode, className = '', placeholder }, ref) => {\n    const [lines, setLines] = useState<ScriptLine[]>([])\n    const [activeLineIndex, setActiveLineIndex] = useState(0)\n    const [showFormatIndicator, setShowFormatIndicator] = useState(false)\n    const lineRefs = useRef<{ [key: string]: HTMLTextAreaElement | null }>({})\n    const containerRef = useRef<HTMLDivElement>(null)\n\n    // Initialize with default content or empty line\n    useEffect(() => {\n      if (value && value.trim()) {\n        const textLines = value.split('\\n')\n        const scriptLines: ScriptLine[] = textLines.map((text, index) => ({\n          id: `line-${Date.now()}-${index}`,\n          text: text,\n          format: detectFormat(text) as any,\n          isActive: index === 0\n        }))\n        setLines(scriptLines)\n      } else {\n        setLines([{\n          id: `line-${Date.now()}`,\n          text: '',\n          format: 'Action',\n          isActive: true\n        }])\n      }\n    }, [])\n\n    // Auto-detect format based on text content\n    const detectFormat = useCallback((text: string): string => {\n      const trimmed = text.trim()\n      if (!trimmed) return 'Action'\n      \n      // Scene heading detection\n      if (/^(INT\\.|EXT\\.|FADE IN:|FADE OUT\\.|CUT TO:)/i.test(trimmed)) {\n        return 'SceneHeading'\n      }\n      \n      // Character detection (all caps, possibly with extension)\n      if (/^[A-Z][A-Z\\s\\-']{1,}(\\s\\(.*\\))?$/.test(trimmed) && trimmed.length < 50) {\n        return 'Character'\n      }\n      \n      // Parenthetical detection\n      if (/^\\(.*\\)$/.test(trimmed)) {\n        return 'Parenthetical'\n      }\n      \n      // Transition detection\n      if (/^(CUT TO:|FADE TO:|DISSOLVE TO:|MATCH CUT:|SMASH CUT:)/.test(trimmed.toUpperCase())) {\n        return 'Transition'\n      }\n      \n      // Shot detection\n      if (/^(CLOSE UP|WIDE SHOT|MEDIUM SHOT|ECU|EWS|POV|INSERT|ANGLE ON)/.test(trimmed.toUpperCase())) {\n        return 'Shot'\n      }\n      \n      return 'Action'\n    }, [])\n\n    // Convert lines array back to text for parent component\n    const linesToText = useCallback((scriptLines: ScriptLine[]): string => {\n      return scriptLines.map(line => line.text).join('\\n')\n    }, [])\n\n    // Smart format switching logic\n    const getNextFormat = useCallback((currentFormat: string, currentText: string): string => {\n      switch (currentFormat) {\n        case 'SceneHeading':\n          return 'Action'\n        case 'Character':\n          return currentText.trim() ? 'Dialogue' : 'Action'\n        case 'Dialogue':\n          return 'Action'\n        case 'Parenthetical':\n          return 'Dialogue'\n        case 'Action':\n          return 'Action'\n        case 'Transition':\n          return 'SceneHeading'\n        case 'Shot':\n          return 'Action'\n        default:\n          return 'Action'\n      }\n    }, [])\n\n    // Validate format application based on context\n    const canApplyFormat = useCallback((format: string, lineIndex: number): boolean => {\n      if (format === 'Parenthetical') {\n        // Parenthetical only allowed after Character\n        const previousLine = lines[lineIndex - 1]\n        return previousLine && previousLine.format === 'Character'\n      }\n      \n      if (format === 'Transition') {\n        // Transition only after Action, Dialogue, or Shot\n        const previousLine = lines[lineIndex - 1]\n        return previousLine && ['Action', 'Dialogue', 'Shot'].includes(previousLine.format)\n      }\n      \n      return true\n    }, [lines])\n\n    // Format validation with user feedback\n    const validateAndApplyFormat = useCallback((format: string, lineIndex: number): boolean => {\n      if (!canApplyFormat(format, lineIndex)) {\n        if (format === 'Parenthetical') {\n          alert('Parenthetical can only be used directly after a Character line.')\n          return false\n        }\n        if (format === 'Transition') {\n          alert('Transitions can only be used after Action, Dialogue, or Shot lines.')\n          return false\n        }\n      }\n      return true\n    }, [canApplyFormat])\n\n    useImperativeHandle(ref, () => ({\n      formatCurrentLine: (format: string) => {\n        if (!validateAndApplyFormat(format, activeLineIndex)) return\n\n        setLines(prevLines => {\n          const newLines = [...prevLines]\n          if (newLines[activeLineIndex]) {\n            let formattedText = newLines[activeLineIndex].text.trim()\n            \n            // Apply format-specific transformations\n            switch (format) {\n              case 'SceneHeading':\n                formattedText = formattedText.toUpperCase()\n                break\n              case 'Character':\n                formattedText = formattedText.toUpperCase()\n                break\n              case 'Parenthetical':\n                if (formattedText && !formattedText.startsWith('(')) {\n                  formattedText = `(${formattedText})`\n                }\n                break\n              case 'Transition':\n                formattedText = formattedText.toUpperCase()\n                if (formattedText && !formattedText.endsWith(':')) {\n                  formattedText = `${formattedText}:`\n                }\n                break\n              case 'Shot':\n                formattedText = formattedText.toUpperCase()\n                break\n            }\n            \n            newLines[activeLineIndex] = {\n              ...newLines[activeLineIndex],\n              text: formattedText,\n              format: format as any\n            }\n          }\n          return newLines\n        })\n        \n        setShowFormatIndicator(true)\n        setTimeout(() => setShowFormatIndicator(false), 2000)\n      },\n\n      insertTextAtCursor: (text: string) => {\n        const activeRef = lineRefs.current[lines[activeLineIndex]?.id]\n        if (activeRef) {\n          const start = activeRef.selectionStart || 0\n          const end = activeRef.selectionEnd || 0\n          const currentText = lines[activeLineIndex].text\n          const newText = currentText.substring(0, start) + text + currentText.substring(end)\n          \n          setLines(prevLines => {\n            const newLines = [...prevLines]\n            newLines[activeLineIndex] = {\n              ...newLines[activeLineIndex],\n              text: newText\n            }\n            return newLines\n          })\n          \n          setTimeout(() => {\n            activeRef.setSelectionRange(start + text.length, start + text.length)\n          }, 0)\n        }\n      },\n\n      focus: () => {\n        const activeRef = lineRefs.current[lines[activeLineIndex]?.id]\n        activeRef?.focus()\n      },\n\n      getCurrentLine: () => lines[activeLineIndex] || null,\n\n      getCurrentElementType: () => lines[activeLineIndex]?.format || 'Action',\n\n      addNewLine: (format?: string) => {\n        const nextFormat = format || getNextFormat(\n          lines[activeLineIndex]?.format || 'Action',\n          lines[activeLineIndex]?.text || ''\n        )\n        \n        const newLine: ScriptLine = {\n          id: `line-${Date.now()}`,\n          text: '',\n          format: nextFormat as any,\n          isActive: true\n        }\n        \n        setLines(prevLines => {\n          const newLines = [...prevLines]\n          newLines.splice(activeLineIndex + 1, 0, newLine)\n          return newLines.map((line, index) => ({\n            ...line,\n            isActive: index === activeLineIndex + 1\n          }))\n        })\n        \n        setActiveLineIndex(activeLineIndex + 1)\n        \n        setTimeout(() => {\n          const newRef = lineRefs.current[newLine.id]\n          newRef?.focus()\n        }, 0)\n      },\n\n      handleKeyboardShortcut: (shortcut: string) => {\n        const shortcuts = {\n          'cmd+1': 'SceneHeading',\n          'cmd+2': 'Action', \n          'cmd+3': 'Character',\n          'cmd+4': 'Dialogue',\n          'cmd+5': 'Parenthetical',\n          'cmd+6': 'Transition',\n          'cmd+7': 'Shot'\n        }\n        \n        const format = shortcuts[shortcut as keyof typeof shortcuts]\n        if (format && ref && 'current' in ref && ref.current) {\n          ref.current.formatCurrentLine(format)\n        }\n      }\n    }))\n\n    // Handle line content changes\n    const handleLineChange = useCallback((lineId: string, newText: string) => {\n      setLines(prevLines => {\n        const newLines = prevLines.map(line =>\n          line.id === lineId ? { ...line, text: newText } : line\n        )\n        \n        // Update parent component\n        setTimeout(() => {\n          onChange(linesToText(newLines))\n        }, 0)\n        \n        return newLines\n      })\n    }, [onChange, linesToText])\n\n    // Handle Enter key press\n    const handleKeyDown = useCallback((e: React.KeyboardEvent, lineIndex: number) => {\n      if (e.key === 'Enter' && !e.shiftKey) {\n        e.preventDefault()\n        if (ref && 'current' in ref && ref.current) {\n          ref.current.addNewLine()\n        }\n      }\n      \n      // Arrow key navigation\n      if (e.key === 'ArrowUp' && lineIndex > 0) {\n        e.preventDefault()\n        setActiveLineIndex(lineIndex - 1)\n        setTimeout(() => {\n          const prevRef = lineRefs.current[lines[lineIndex - 1]?.id]\n          prevRef?.focus()\n        }, 0)\n      }\n      \n      if (e.key === 'ArrowDown' && lineIndex < lines.length - 1) {\n        e.preventDefault()\n        setActiveLineIndex(lineIndex + 1)\n        setTimeout(() => {\n          const nextRef = lineRefs.current[lines[lineIndex + 1]?.id]\n          nextRef?.focus()\n        }, 0)\n      }\n      \n      // Keyboard shortcuts\n      if (e.metaKey || e.ctrlKey) {\n        const shortcut = `${e.metaKey ? 'cmd' : 'ctrl'}+${e.key.toLowerCase()}`\n        if (ref && 'current' in ref && ref.current) {\n          ref.current.handleKeyboardShortcut(shortcut)\n        }\n      }\n    }, [lines, ref])\n\n    // Handle line focus\n    const handleLineFocus = useCallback((lineIndex: number) => {\n      setLines(prevLines =>\n        prevLines.map((line, index) => ({\n          ...line,\n          isActive: index === lineIndex\n        }))\n      )\n      setActiveLineIndex(lineIndex)\n    }, [])\n\n    // Get CSS styles for a line\n    const getLineStyles = useCallback((line: ScriptLine) => {\n      const spec = FORMAT_SPECS[line.format]\n      return {\n        fontFamily: 'Courier New, monospace',\n        fontSize: '12pt',\n        lineHeight: '1.2',\n        marginLeft: `${spec.marginLeft}px`,\n        marginRight: `${spec.marginRight}px`,\n        marginTop: `${spec.marginTop}px`,\n        marginBottom: `${spec.marginBottom}px`,\n        textAlign: spec.textAlign,\n        textTransform: spec.textTransform,\n        fontWeight: spec.fontWeight,\n        color: line.isActive ? spec.color : '#000',\n        backgroundColor: line.isActive ? spec.bgColor : 'transparent',\n        borderLeft: line.isActive ? `4px solid ${spec.color}` : 'none',\n        paddingLeft: line.isActive ? '8px' : '0px',\n        minHeight: '20px',\n        width: '100%',\n        border: 'none',\n        outline: 'none',\n        resize: 'none' as const,\n        overflow: 'hidden'\n      }\n    }, [])\n\n    // Preview mode render\n    if (isPreviewMode) {\n      return (\n        <div className={`flex-1 w-full p-8 overflow-y-auto bg-white ${className}`}>\n          {lines.map((line, index) => (\n            <div\n              key={line.id}\n              style={getLineStyles(line)}\n              title={`Line ${index + 1}: ${line.format}`}\n              className=\"mb-1\"\n            >\n              {line.text || '\\u00A0'}\n            </div>\n          ))}\n        </div>\n      )\n    }\n\n    // Main editor render\n    return (\n      <div className={`flex-1 flex flex-col ${className} relative`} ref={containerRef}>\n        {/* Format Indicator */}\n        {showFormatIndicator && (\n          <div className=\"absolute top-4 right-4 z-20 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg\">\n            ✓ Formatted as {lines[activeLineIndex]?.format}\n          </div>\n        )}\n\n        {/* Current Line Format Display */}\n        <div className=\"absolute top-2 right-2 z-10 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg border-2\">\n          <div className=\"text-xs font-mono\">\n            <div className=\"flex items-center mb-1\">\n              <div \n                className=\"w-4 h-4 rounded-full mr-2\" \n                style={{ backgroundColor: FORMAT_SPECS[lines[activeLineIndex]?.format || 'Action'].color }}\n              />\n              <span className=\"font-bold text-sm\">\n                {lines[activeLineIndex]?.format || 'Action'}\n              </span>\n            </div>\n            <div className=\"text-xs text-gray-600\">\n              Line {activeLineIndex + 1} of {lines.length}\n            </div>\n          </div>\n        </div>\n\n        {/* Vertical Line Stack */}\n        <div className=\"flex-1 w-full p-8 overflow-y-auto bg-white\">\n          <div className=\"max-w-4xl mx-auto space-y-1\">\n            {lines.map((line, index) => (\n              <div key={line.id} className=\"relative\">\n                <textarea\n                  ref={(el) => lineRefs.current[line.id] = el}\n                  value={line.text}\n                  onChange={(e) => handleLineChange(line.id, e.target.value)}\n                  onFocus={() => handleLineFocus(index)}\n                  onKeyDown={(e) => handleKeyDown(e, index)}\n                  style={getLineStyles(line)}\n                  placeholder={\n                    line.text === '' && index === 0 && lines.length === 1\n                      ? placeholder || `🏆 PROFESSIONAL VERTICAL STACK EDITOR\n\n✨ REAL SCREENPLAY WORKFLOW:\n• Each line is a separate, editable row\n• Press ENTER → creates new line below\n• All previous lines remain visible and editable\n• Format buttons apply to current line only\n• Smart format switching (Character → Dialogue → Action)\n\n🎯 PROFESSIONAL FEATURES:\n• Contextual format validation\n• Full keyboard navigation (↑↓ arrows)\n• Complete keyboard shortcuts (⌘+1-7)\n• Industry-standard positioning\n• Multi-line scene editing\n\nReady for professional scriptwriting!`\n                      : line.format === 'SceneHeading' && line.text === ''\n                      ? 'EXT. COFFEE SHOP - MORNING'\n                      : line.format === 'Character' && line.text === ''\n                      ? 'SARAH'\n                      : line.format === 'Dialogue' && line.text === ''\n                      ? 'Character dialogue goes here...'\n                      : line.format === 'Parenthetical' && line.text === ''\n                      ? '(actor direction)'\n                      : line.format === 'Action' && line.text === ''\n                      ? 'Scene description and action...'\n                      : line.format === 'Transition' && line.text === ''\n                      ? 'CUT TO:'\n                      : line.format === 'Shot' && line.text === ''\n                      ? 'CLOSE UP - SARAH\\'S FACE'\n                      : ''\n                  }\n                  rows={1}\n                  className=\"block w-full\"\n                  spellCheck={false}\n                />\n                \n                {/* Line number indicator */}\n                {line.isActive && (\n                  <div className=\"absolute -left-8 top-0 text-xs text-gray-400 leading-5\">\n                    {index + 1}\n                  </div>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Add new line button */}\n        <div className=\"p-4 border-t bg-gray-50\">\n          <button\n            onClick={() => {\n              if (ref && 'current' in ref && ref.current) {\n                ref.current.addNewLine()\n              }\n            }}\n            className=\"w-full py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-white rounded-lg transition-colors border-2 border-dashed border-gray-300 hover:border-gray-400\"\n          >\n            + Add New Line (Enter)\n          </button>\n        </div>\n      </div>\n    )\n  }\n)\n\nProfessionalVerticalStackEditor.displayName = 'ProfessionalVerticalStackEditor'\n\nexport default ProfessionalVerticalStackEditor","// Professional Screenplay Formatter with Industry Standards\n\nexport interface FormattingPositions {\n  marginLeft: number\n  marginRight: number\n  textAlign: 'left' | 'center' | 'right'\n  textTransform: 'none' | 'uppercase' | 'lowercase'\n  fontWeight: 'normal' | 'bold'\n  marginTop: number\n  marginBottom: number\n}\n\nexport const SCREENPLAY_FORMATTING: Record<string, FormattingPositions> = {\n  scene_heading: {\n    marginLeft: 0,\n    marginRight: 60,\n    textAlign: 'left',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 24,\n    marginBottom: 0\n  },\n  character: {\n    marginLeft: 220, // Character centered (approximately 3.7 inches)\n    marginRight: 0,\n    textAlign: 'center', \n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 12,\n    marginBottom: 0\n  },\n  dialogue: {\n    marginLeft: 100, // Dialogue indent (approximately 1.5 inches)\n    marginRight: 120, // Right margin for dialogue (approximately 2.5 inches from right)\n    textAlign: 'left',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    marginTop: 0,\n    marginBottom: 0\n  },\n  parenthetical: {\n    marginLeft: 160, // Parenthetical indent (approximately 2 inches)\n    marginRight: 100,\n    textAlign: 'center',\n    textTransform: 'none',\n    fontWeight: 'normal',\n    marginTop: 0,\n    marginBottom: 0\n  },\n  action: {\n    marginLeft: 0,\n    marginRight: 60, // Right margin (approximately 1 inch)\n    textAlign: 'left',\n    textTransform: 'none', \n    fontWeight: 'normal',\n    marginTop: 12,\n    marginBottom: 0\n  },\n  transition: {\n    marginLeft: 0,\n    marginRight: 0,\n    textAlign: 'right',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 12,\n    marginBottom: 0\n  },\n  shot: {\n    marginLeft: 0,\n    marginRight: 60,\n    textAlign: 'left',\n    textTransform: 'uppercase',\n    fontWeight: 'bold',\n    marginTop: 12,\n    marginBottom: 0\n  }\n}\n\nexport function detectElementType(line: string, lines: string[], index: number): string {\n  const trimmed = line.trim()\n  \n  if (!trimmed) return 'action'\n  \n  // Scene heading detection\n  if (/^(INT\\\\.|EXT\\\\.|FADE IN:|FADE OUT\\\\.|CUT TO:)/i.test(trimmed)) {\n    return 'scene_heading'\n  }\n  \n  // Character detection (all caps, usually followed by dialogue)\n  if (/^[A-Z\\\\s']{2,}$/.test(trimmed) && trimmed.length < 50) {\n    const nextLine = lines[index + 1]?.trim()\n    if (nextLine && !(/^[A-Z\\\\s']{2,}$/.test(nextLine))) {\n      return 'character'\n    }\n  }\n  \n  // Parenthetical detection\n  if (/^\\\\([^)]+\\\\)$/.test(trimmed)) {\n    return 'parenthetical'\n  }\n  \n  // Transition detection\n  if (/^(CUT TO:|FADE TO:|DISSOLVE TO:|SMASH CUT TO:)/.test(trimmed)) {\n    return 'transition'\n  }\n  \n  // Check if it's dialogue (follows character)\n  if (index > 0) {\n    const prevLine = lines[index - 1]?.trim()\n    if (prevLine && /^[A-Z\\\\s']{2,}$/.test(prevLine)) {\n      return 'dialogue'\n    }\n  }\n  \n  // Shot detection\n  if (/^(CLOSE UP|WIDE SHOT|MEDIUM SHOT|POV|INSERT)/i.test(trimmed)) {\n    return 'shot'\n  }\n  \n  // Default to action\n  return 'action'\n}\n\nexport function formatLineWithIndentation(line: string, elementType: string): string {\n  const trimmed = line.trim()\n  if (!trimmed) return ''\n  \n  const formatting = SCREENPLAY_FORMATTING[elementType] || SCREENPLAY_FORMATTING.action\n  let formattedText = trimmed\n  \n  // Apply text transformations\n  if (formatting.textTransform === 'uppercase') {\n    formattedText = formattedText.toUpperCase()\n  } else if (formatting.textTransform === 'lowercase') {\n    formattedText = formattedText.toLowerCase()\n  }\n  \n  // Handle special cases\n  if (elementType === 'parenthetical' && !formattedText.startsWith('(')) {\n    formattedText = `(${formattedText})`\n  }\n  if (elementType === 'transition' && !formattedText.endsWith(':') && !formattedText.endsWith('.')) {\n    formattedText = formattedText + ':'\n  }\n  \n  // Calculate indentation (convert pixels to approximate characters)\n  const indentChars = Math.round(formatting.marginLeft / 12) // Approximate character width\n  const indent = ' '.repeat(Math.max(0, indentChars))\n  \n  return indent + formattedText\n}\n\nexport function formatScriptProfessionally(content: string): string {\n  const lines = content.split('\\\\n')\n  const formattedLines = lines.map((line, index) => {\n    const elementType = detectElementType(line, lines, index)\n    return formatLineWithIndentation(line, elementType)\n  })\n  \n  return formattedLines.join('\\\\n')\n}\n\nexport function addSceneNumbers(content: string): string {\n  const lines = content.split('\\\\n')\n  let sceneCount = 0\n  \n  const numberedLines = lines.map((line, index) => {\n    const elementType = detectElementType(line, lines, index)\n    \n    if (elementType === 'scene_heading') {\n      sceneCount++\n      const trimmed = line.trim()\n      if (trimmed && !trimmed.match(/^\\\\d+\\\\./)) {\n        return `${sceneCount}. ${trimmed}`\n      }\n    }\n    \n    return line\n  })\n  \n  return numberedLines.join('\\\\n')\n}\n\nexport class SceneNumberer {\n  addSceneNumbers(content: string): string {\n    return addSceneNumbers(content)\n  }\n  \n  removeSceneNumbers(content: string): string {\n    const lines = content.split('\\\\n')\n    const cleanLines = lines.map(line => {\n      const trimmed = line.trim()\n      if (trimmed.match(/^\\\\d+\\\\. /)) {\n        return line.replace(/^(\\\\s*)\\\\d+\\\\. /, '$1')\n      }\n      return line\n    })\n    \n    return cleanLines.join('\\\\n')\n  }\n}\n\n// PDF Export Positioning\nexport function getPDFPositioning(elementType: string) {\n  const pdfPositions: Record<string, any> = {\n    scene_heading: {\n      x: 90,\n      align: 'left',\n      weight: 'bold',\n      transform: 'uppercase',\n      marginTop: 12\n    },\n    character: {\n      x: 310, // Centered position for PDF (approximately 3.7 inches)\n      align: 'center',\n      weight: 'bold', \n      transform: 'uppercase',\n      marginTop: 6\n    },\n    dialogue: {\n      x: 190, // Dialogue indent for PDF (approximately 1.5 inches)\n      rightMargin: 120,\n      align: 'left',\n      weight: 'normal',\n      transform: 'none'\n    },\n    parenthetical: {\n      x: 250, // Parenthetical indent for PDF (approximately 2 inches)\n      align: 'center',\n      weight: 'normal',\n      transform: 'none'\n    },\n    action: {\n      x: 90,\n      rightMargin: 60,\n      align: 'left',\n      weight: 'normal',\n      transform: 'none',\n      marginTop: 6\n    },\n    transition: {\n      x: 0,\n      align: 'right',\n      weight: 'bold',\n      transform: 'uppercase',\n      marginTop: 12\n    }\n  }\n  \n  return pdfPositions[elementType] || pdfPositions.action\n}\n\nexport function getElementCSS(elementType: string): React.CSSProperties {\n  const formatting = SCREENPLAY_FORMATTING[elementType] || SCREENPLAY_FORMATTING.action\n  \n  return {\n    marginLeft: `${formatting.marginLeft}px`,\n    marginRight: `${formatting.marginRight}px`,\n    textAlign: formatting.textAlign,\n    textTransform: formatting.textTransform,\n    fontWeight: formatting.fontWeight,\n    marginTop: `${formatting.marginTop}px`,\n    marginBottom: `${formatting.marginBottom}px`,\n    fontFamily: 'Courier New, monospace',\n    fontSize: '12pt',\n    lineHeight: '1.2'\n  }\n}","import { useEffect, useCallback } from 'react'\n\ninterface KeyboardShortcutsProps {\n  onFormatShortcut: (format: string) => void\n  onFileOperation: (operation: string) => void\n  onNavigation: (action: string) => void\n  onEditing: (action: string) => void\n  onSmartFeature: (action: string) => void\n  onProduction: (action: string) => void\n}\n\nexport const useKeyboardShortcuts = ({\n  onFormatShortcut,\n  onFileOperation,\n  onNavigation,\n  onEditing,\n  onSmartFeature,\n  onProduction\n}: KeyboardShortcutsProps) => {\n  \n  const handleKeyDown = useCallback((e: KeyboardEvent) => {\n    const isCmd = e.metaKey || e.ctrlKey\n    const isShift = e.shiftKey\n    const isAlt = e.altKey\n    const key = e.key.toLowerCase()\n\n    // Prevent shortcuts when typing in input fields (except our script editor)\n    if (e.target instanceof HTMLInputElement || \n        (e.target instanceof HTMLTextAreaElement && !(e.target as any).dataset?.scriptEditor)) {\n      return\n    }\n\n    // Script Formatting Shortcuts\n    if (isCmd && !isShift && !isAlt) {\n      switch (key) {\n        case '1':\n          e.preventDefault()\n          onFormatShortcut('SceneHeading')\n          break\n        case '2':\n          e.preventDefault()\n          onFormatShortcut('Action')\n          break\n        case '3':\n          e.preventDefault()\n          onFormatShortcut('Character')\n          break\n        case '4':\n          e.preventDefault()\n          onFormatShortcut('Dialogue')\n          break\n        case '5':\n          e.preventDefault()\n          onFormatShortcut('Parenthetical')\n          break\n        case '6':\n          e.preventDefault()\n          onFormatShortcut('Transition')\n          break\n        case '7':\n          e.preventDefault()\n          onFormatShortcut('Shot')\n          break\n      }\n    }\n\n    // Auto-format entire script\n    if (isCmd && isShift && key === 'f') {\n      e.preventDefault()\n      onSmartFeature('autoFormat')\n    }\n\n    // File Operations\n    if (isCmd && !isShift && !isAlt) {\n      switch (key) {\n        case 'n':\n          e.preventDefault()\n          onFileOperation('new')\n          break\n        case 'o':\n          e.preventDefault()\n          onFileOperation('open')\n          break\n        case 's':\n          e.preventDefault()\n          onFileOperation('save')\n          break\n        case 'e':\n          e.preventDefault()\n          onFileOperation('exportPDF')\n          break\n      }\n    }\n\n    // File Operations with modifiers\n    if (isCmd && isShift && !isAlt) {\n      switch (key) {\n        case 's':\n          e.preventDefault()\n          onFileOperation('saveAs')\n          break\n        case 'e':\n          e.preventDefault()\n          onFileOperation('exportFDX')\n          break\n      }\n    }\n\n    // Export as text\n    if (isCmd && isAlt && key === 'e') {\n      e.preventDefault()\n      onFileOperation('exportTXT')\n    }\n\n    // Navigation & View\n    if (isCmd && !isShift && !isAlt) {\n      switch (key) {\n        case 'p':\n          e.preventDefault()\n          onNavigation('togglePreview')\n          break\n        case 'r':\n          e.preventDefault()\n          onNavigation('viewRevisions')\n          break\n        case 'k':\n          e.preventDefault()\n          onNavigation('keyboardShortcuts')\n          break\n        case 'f':\n          e.preventDefault()\n          onNavigation('find')\n          break\n        case 'g':\n          e.preventDefault()\n          onNavigation('findNext')\n          break\n        case 'l':\n          e.preventDefault()\n          onNavigation('goToLine')\n          break\n      }\n    }\n\n    // Find previous\n    if (isCmd && isShift && key === 'g') {\n      e.preventDefault()\n      onNavigation('findPrevious')\n    }\n\n    // Standard editing shortcuts (handled by browser/system mostly)\n    if (isCmd && !isShift && !isAlt) {\n      switch (key) {\n        case 'z':\n          // Let browser handle undo\n          break\n        case 'a':\n          // Let browser handle select all\n          break\n        case 'c':\n          // Let browser handle copy\n          break\n        case 'v':\n          // Let browser handle paste\n          break\n        case 'x':\n          // Let browser handle cut\n          break\n      }\n    }\n\n    // Redo\n    if (isCmd && isShift && key === 'z') {\n      // Let browser handle redo\n    }\n\n    // Smart Features\n    if (key === 'tab') {\n      // Only handle if in our editor context\n      const target = e.target as HTMLElement\n      if (target.dataset?.scriptEditor) {\n        e.preventDefault()\n        onSmartFeature('acceptAutocomplete')\n      }\n    }\n\n    if (key === 'escape') {\n      e.preventDefault()\n      onSmartFeature('closeDialogs')\n    }\n\n    // Smart line break is handled in the editor component\n    // Shift+Enter for simple line break is handled in the editor component\n\n    // Toggle comment/note\n    if (isCmd && key === '/') {\n      e.preventDefault()\n      onSmartFeature('toggleComment')\n    }\n\n    // Duplicate current line\n    if (isCmd && key === 'd') {\n      e.preventDefault()\n      onSmartFeature('duplicateLine')\n    }\n\n    // Production Tools\n    if (isCmd && !isShift && !isAlt) {\n      switch (key) {\n        case 'b':\n          e.preventDefault()\n          onProduction('scriptBreakdown')\n          break\n        case 't':\n          e.preventDefault()\n          onProduction('createTask')\n          break\n        case 'm':\n          e.preventDefault()\n          onProduction('addNote')\n          break\n      }\n    }\n\n    // Auto-breakdown current scene\n    if (isCmd && isShift && key === 'b') {\n      e.preventDefault()\n      onProduction('autoBreakdownScene')\n    }\n\n  }, [onFormatShortcut, onFileOperation, onNavigation, onEditing, onSmartFeature, onProduction])\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown)\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown)\n    }\n  }, [handleKeyDown])\n\n  return null\n}\n\n// Keyboard shortcuts reference for display\nexport const KEYBOARD_SHORTCUTS = {\n  formatting: [\n    { label: 'Scene Heading', shortcut: '⌘+1' },\n    { label: 'Action', shortcut: '⌘+2' },\n    { label: 'Character', shortcut: '⌘+3' },\n    { label: 'Dialogue', shortcut: '⌘+4' },\n    { label: 'Parenthetical', shortcut: '⌘+5' },\n    { label: 'Transition', shortcut: '⌘+6' },\n    { label: 'Shot', shortcut: '⌘+7' },\n    { label: 'Auto-format entire script', shortcut: '⌘+⇧+F' }\n  ],\n  fileOperations: [\n    { label: 'New script', shortcut: '⌘+N' },\n    { label: 'Open/Import script', shortcut: '⌘+O' },\n    { label: 'Save script', shortcut: '⌘+S' },\n    { label: 'Save As...', shortcut: '⌘+⇧+S' },\n    { label: 'Export as PDF', shortcut: '⌘+E' },\n    { label: 'Export as Final Draft', shortcut: '⌘+⇧+E' },\n    { label: 'Export as Text', shortcut: '⌘+⌥+E' }\n  ],\n  navigation: [\n    { label: 'Toggle Preview mode', shortcut: '⌘+P' },\n    { label: 'View Revisions', shortcut: '⌘+R' },\n    { label: 'Keyboard shortcuts', shortcut: '⌘+K' },\n    { label: 'Find in script', shortcut: '⌘+F' },\n    { label: 'Find next', shortcut: '⌘+G' },\n    { label: 'Find previous', shortcut: '⌘+⇧+G' },\n    { label: 'Go to line', shortcut: '⌘+L' }\n  ],\n  editing: [\n    { label: 'Accept autocomplete suggestion', shortcut: 'Tab' },\n    { label: 'Navigate autocomplete suggestions', shortcut: '↑↓' },\n    { label: 'Close autocomplete/dialogs', shortcut: 'Esc' },\n    { label: 'Undo', shortcut: '⌘+Z' },\n    { label: 'Redo', shortcut: '⌘+⇧+Z' },\n    { label: 'Select all', shortcut: '⌘+A' },\n    { label: 'Copy', shortcut: '⌘+C' },\n    { label: 'Paste', shortcut: '⌘+V' },\n    { label: 'Cut', shortcut: '⌘+X' }\n  ],\n  smartFeatures: [\n    { label: 'Smart line break with proper indentation', shortcut: 'Enter' },\n    { label: 'Simple line break', shortcut: '⇧+Enter' },\n    { label: 'Toggle comment/note', shortcut: '⌘+/' },\n    { label: 'Duplicate current line', shortcut: '⌘+D' }\n  ],\n  production: [\n    { label: 'Open Script Breakdown', shortcut: '⌘+B' },\n    { label: 'Create Task', shortcut: '⌘+T' },\n    { label: 'Add Note/Comment', shortcut: '⌘+M' },\n    { label: 'Auto-breakdown current scene', shortcut: '⌘+⇧+B' }\n  ]\n}","import { useState, useRef, useCallback, useEffect } from 'react'\nimport { useProjectStore } from './stores/projectStore'\nimport { useAuthStore } from './stores/authStore'\nimport toast, { Toaster } from 'react-hot-toast'\nimport { \n  DocumentTextIcon,\n  SparklesIcon,\n  EyeIcon,\n  UserIcon,\n  ChatBubbleLeftRightIcon,\n  PlayIcon,\n  ArrowRightIcon,\n  CameraIcon,\n  FilmIcon,\n  ChevronDownIcon,\n  ArrowDownTrayIcon,\n  KeyIcon,\n  CalendarIcon,\n  UsersIcon,\n  ClockIcon,\n  DocumentDuplicateIcon,\n  Cog6ToothIcon,\n  QuestionMarkCircleIcon\n} from '@heroicons/react/24/outline'\nimport ProfessionalVerticalStackEditor, { ScriptEditorRef } from './components/ProfessionalVerticalStackEditor'\nimport { formatScriptProfessionally, detectElementType } from './utils/professionalFormatter'\nimport { useKeyboardShortcuts, KEYBOARD_SHORTCUTS } from './hooks/useKeyboardShortcuts'\n\nexport default function App() {\n  const { currentProject, createProject, updateScriptContent } = useProjectStore()\n  const { user, initializeUser } = useAuthStore()\n  \n  const [content, setContent] = useState(`FADE IN:\n\nEXT. HEMANTDOC SCRIPTWRITER PRO - DAY\n\nA revolutionary screenplay writing application comes to life with professional formatting, industry-standard positioning, and Celtx-style character/dialogue layout.\n\nWRITER\n(excited)\nFinally! Character buttons that actually format text, cursor positioning that works, and consistent formatting across all modes!\n\nThe Writer begins typing, experiencing the seamless professional formatting system with scene numbering, enhanced PDF export, and AI script analysis.\n\nFADE OUT.`)\n\n  const [isPreviewMode, setIsPreviewMode] = useState(false)\n  const [wordCount, setWordCount] = useState(0)\n  const [pageCount, setPageCount] = useState(1)\n  const [showQuickActions, setShowQuickActions] = useState(false)\n  const [showExportOptions, setShowExportOptions] = useState(false)\n  const [showKeyboardShortcuts, setShowKeyboardShortcuts] = useState(false)\n  const [showBreakdownModal, setShowBreakdownModal] = useState(false)\n  const scriptEditorRef = useRef<ScriptEditorRef>(null)\n  \n  // Initialize user and project on app start\n  useEffect(() => {\n    initializeUser()\n    \n    // Create default project if none exists\n    if (!currentProject) {\n      createProject('My First Screenplay', 'A professional screenplay with industry-standard formatting')\n    }\n  }, [])\n  \n  // Sync content with current project\n  useEffect(() => {\n    if (currentProject) {\n      setContent(currentProject.scriptContent)\n    }\n  }, [currentProject])\n\n  // Format buttons configuration\n  const formatButtons = [\n    { type: 'SceneHeading', label: 'Scene Heading', icon: FilmIcon, shortcut: '⌘1', color: 'bg-blue-500' },\n    { type: 'Action', label: 'Action', icon: PlayIcon, shortcut: '⌘2', color: 'bg-green-500' },\n    { type: 'Character', label: 'Character', icon: UserIcon, shortcut: '⌘3', color: 'bg-red-500' },\n    { type: 'Dialogue', label: 'Dialogue', icon: ChatBubbleLeftRightIcon, shortcut: '⌘4', color: 'bg-purple-500' },\n    { type: 'Parenthetical', label: 'Parenthetical', icon: DocumentTextIcon, shortcut: '⌘5', color: 'bg-yellow-500' },\n    { type: 'Transition', label: 'Transition', icon: ArrowRightIcon, shortcut: '⌘6', color: 'bg-pink-500' },\n    { type: 'Shot', label: 'Shot', icon: CameraIcon, shortcut: '⌘7', color: 'bg-indigo-500' }\n  ]\n\n  const handleContentChange = useCallback((newContent: string) => {\n    setContent(newContent)\n    \n    // Update statistics\n    const words = newContent.split(/\\\\s+/).filter(word => word.length > 0).length\n    const pages = Math.ceil(newContent.split('\\\\n').length / 55)\n    setWordCount(words)\n    setPageCount(pages)\n    \n    // Auto-save to project store with debouncing\n    clearTimeout((window as any).saveTimer)\n    ;(window as any).saveTimer = setTimeout(() => {\n      updateScriptContent(newContent)\n    }, 1000)\n  }, [updateScriptContent])\n\n  const handleElementFormat = (elementType: string) => {\n    console.log('🔥 Format button clicked in App:', elementType)\n    console.log('📋 Script editor ref:', scriptEditorRef.current)\n    \n    if (scriptEditorRef.current) {\n      console.log('✅ Calling formatCurrentLine...')\n      scriptEditorRef.current.formatCurrentLine(elementType)\n      toast.success(`🎯 Formatted as ${elementType}`, {\n        duration: 2000,\n        style: { background: '#fed7aa', color: '#9a3412', fontWeight: '600' }\n      })\n    } else {\n      console.error('❌ Script editor ref is null!')\n      toast.error('Editor not ready. Please try again.')\n    }\n  }\n\n  // Keyboard shortcuts handlers\n  const handleFormatShortcut = (format: string) => {\n    handleElementFormat(format)\n  }\n\n  const handleFileOperation = (operation: string) => {\n    switch (operation) {\n      case 'new':\n        setContent('')\n        toast.success('📄 New script created')\n        break\n      case 'save':\n        toast.success('💾 Script saved')\n        break\n      case 'exportPDF':\n        handleExportPDF()\n        break\n      case 'exportTXT':\n        handleExportTXT()\n        break\n      case 'exportFDX':\n        handleExportFDX()\n        break\n      default:\n        toast(`${operation} feature coming soon!`, { icon: 'ℹ️' })\n    }\n  }\n\n  const handleNavigation = (action: string) => {\n    switch (action) {\n      case 'togglePreview':\n        setIsPreviewMode(!isPreviewMode)\n        break\n      case 'keyboardShortcuts':\n        setShowKeyboardShortcuts(true)\n        break\n      case 'find':\n        toast('🔍 Find feature coming soon!', { icon: 'ℹ️' })\n        break\n      default:\n        toast(`${action} feature coming soon!`, { icon: 'ℹ️' })\n    }\n  }\n\n  const handleEditing = (action: string) => {\n    toast(`${action} handled by browser`, { icon: 'ℹ️' })\n  }\n\n  const handleSmartFeature = (action: string) => {\n    switch (action) {\n      case 'autoFormat':\n        handleAutoFormat()\n        break\n      case 'toggleComment':\n        toast('💬 Comment feature coming soon!', { icon: 'ℹ️' })\n        break\n      case 'duplicateLine':\n        toast('📋 Duplicate line feature coming soon!', { icon: 'ℹ️' })\n        break\n      default:\n        toast(`${action} feature coming soon!`, { icon: 'ℹ️' })\n    }\n  }\n\n  const handleProduction = (action: string) => {\n    switch (action) {\n      case 'scriptBreakdown':\n        setShowBreakdownModal(true)\n        break\n      default:\n        toast(`${action} feature coming soon!`, { icon: 'ℹ️' })\n    }\n  }\n\n  // Initialize keyboard shortcuts\n  useKeyboardShortcuts({\n    onFormatShortcut: handleFormatShortcut,\n    onFileOperation: handleFileOperation,\n    onNavigation: handleNavigation,\n    onEditing: handleEditing,\n    onSmartFeature: handleSmartFeature,\n    onProduction: handleProduction\n  })\n\n  const handleAutoFormat = () => {\n    const formattedContent = formatScriptProfessionally(content)\n    setContent(formattedContent)\n    toast.success('✨ Script formatted with industry standards!', { \n      duration: 3000,\n      style: { background: '#fed7aa', color: '#9a3412', fontWeight: '600' }\n    })\n  }\n\n  const handleExportTXT = () => {\n    const blob = new Blob([content], { type: 'text/plain' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = 'screenplay.txt'\n    a.click()\n    URL.revokeObjectURL(url)\n    toast.success('📝 TXT file exported!', { duration: 2000 })\n  }\n\n  const handleExportFDX = () => {\n    // Basic FDX format structure\n    const fdxContent = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<FinalDraft DocumentType=\"Script\" Template=\"No\">\n  <Content>\n    <Paragraph Type=\"Scene Heading\">\n      <Text>${content.split('\\n')[0]}</Text>\n    </Paragraph>\n  </Content>\n</FinalDraft>`\n    \n    const blob = new Blob([fdxContent], { type: 'application/xml' })\n    const url = URL.createObjectURL(blob)\n    const a = document.createElement('a')\n    a.href = url\n    a.download = 'screenplay.fdx'\n    a.click()\n    URL.revokeObjectURL(url)\n    toast.success('🎬 FDX file exported!', { duration: 2000 })\n  }\n\n  const handleExportPDF = async () => {\n    try {\n      const { jsPDF } = await import('jspdf')\n      const pdf = new jsPDF('portrait', 'pt', 'letter')\n      \n      // Professional PDF export with proper positioning\n      const pageWidth = 612\n      const pageHeight = 792\n      const leftMargin = 90\n      const rightMargin = 54\n      const topMargin = 54\n      const lineHeight = 12\n      let yPosition = topMargin + 36\n      \n      // Title page\n      pdf.setFont('courier', 'bold')\n      pdf.setFontSize(24)\n      const titleY = pageHeight / 2 - 100\n      pdf.text('PROFESSIONAL SCREENPLAY', pageWidth / 2, titleY, { align: 'center' })\n      \n      pdf.setFont('courier', 'normal')\n      pdf.setFontSize(12)\n      pdf.text('Written with HemantDoc ScriptWriter Pro', pageWidth / 2, titleY + 60, { align: 'center' })\n      pdf.text('Professional Formatting System', pageWidth / 2, titleY + 80, { align: 'center' })\n      \n      // Script content\n      pdf.addPage()\n      yPosition = topMargin + 36\n      \n      const lines = content.split('\\\\n')\n      \n      for (let i = 0; i < lines.length; i++) {\n        const line = lines[i].trim()\n        if (!line) continue\n        \n        const elementType = detectElementType(line, lines, i)\n        let xPosition = leftMargin\n        let text = line\n        \n        // Professional positioning\n        switch (elementType) {\n          case 'scene_heading':\n            text = text.toUpperCase()\n            pdf.setFont('courier', 'bold')\n            yPosition += lineHeight\n            break\n          case 'character':\n            text = text.toUpperCase()\n            xPosition = leftMargin + 220 // Centered position\n            pdf.setFont('courier', 'bold')\n            yPosition += lineHeight / 2\n            break\n          case 'dialogue':\n            xPosition = leftMargin + 100 // Dialogue indent\n            pdf.setFont('courier', 'normal')\n            break\n          case 'parenthetical':\n            if (!text.startsWith('(')) text = '(' + text\n            if (!text.endsWith(')')) text = text + ')'\n            xPosition = leftMargin + 160\n            pdf.setFont('courier', 'normal')\n            break\n          case 'transition':\n            text = text.toUpperCase()\n            if (!text.endsWith(':')) text = text + ':'\n            const textWidth = pdf.getTextWidth(text)\n            xPosition = pageWidth - rightMargin - textWidth\n            pdf.setFont('courier', 'bold')\n            yPosition += lineHeight\n            break\n          default:\n            pdf.setFont('courier', 'normal')\n            yPosition += lineHeight / 2\n            break\n        }\n        \n        if (yPosition > pageHeight - 100) {\n          pdf.addPage()\n          yPosition = topMargin\n        }\n        \n        pdf.setFontSize(12)\n        pdf.text(text, xPosition, yPosition)\n        yPosition += lineHeight\n      }\n      \n      pdf.save('professional-screenplay.pdf')\n      toast.success('📄 Professional PDF exported!', { \n        duration: 3000,\n        style: { background: '#dcfce7', color: '#166534', fontWeight: '600' }\n      })\n    } catch (error) {\n      console.error('PDF export failed:', error)\n      toast.error('❌ PDF export failed. Please try again.')\n    }\n  }\n\n  return (\n    <div className=\"h-screen flex flex-col\" style={{ background: 'linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)' }}>\n      <Toaster position=\"top-right\" />\n      \n      {/* Orange Header */}\n      <div className=\"bg-gradient-to-r from-orange-400 to-orange-600 shadow-lg\">\n        <div className=\"max-w-7xl mx-auto px-6\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg\">\n                  <DocumentTextIcon className=\"h-6 w-6 text-orange-500\" />\n                </div>\n                <div>\n                  <h1 className=\"text-xl font-bold text-white drop-shadow-sm\">HemantDoc ScriptWriter Pro</h1>\n                  <p className=\"text-sm text-orange-100\">Professional Screenplay Formatting System</p>\n                </div>\n              </div>\n            </div>\n\n            {/* Stats */}\n            <div className=\"hidden md:flex items-center space-x-8 text-white\">\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\">{wordCount}</div>\n                <div className=\"text-xs text-orange-100\">WORDS</div>\n              </div>\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\">{pageCount}</div>\n                <div className=\"text-xs text-orange-100\">PAGES</div>\n              </div>\n            </div>\n\n            {/* Controls */}\n            <div className=\"flex items-center space-x-3\">\n              {/* Quick Actions Dropdown */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowQuickActions(!showQuickActions)}\n                  className=\"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all\"\n                >\n                  <SparklesIcon className=\"h-4 w-4 mr-2\" />\n                  Quick Actions\n                  <ChevronDownIcon className=\"h-3 w-3 ml-1\" />\n                </button>\n                {showQuickActions && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-orange-200 z-50\">\n                    <div className=\"py-2\">\n                      <button onClick={handleAutoFormat} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <SparklesIcon className=\"h-4 w-4 mr-2 text-orange-500\" />\n                        Auto-Format Script\n                      </button>\n                      <button onClick={() => setShowKeyboardShortcuts(true)} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <KeyIcon className=\"h-4 w-4 mr-2 text-blue-500\" />\n                        Keyboard Shortcuts\n                      </button>\n                      <button onClick={() => setShowBreakdownModal(true)} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <CalendarIcon className=\"h-4 w-4 mr-2 text-green-500\" />\n                        Scene Breakdown\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Export Options Dropdown */}\n              <div className=\"relative\">\n                <button\n                  onClick={() => setShowExportOptions(!showExportOptions)}\n                  className=\"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all\"\n                >\n                  <ArrowDownTrayIcon className=\"h-4 w-4 mr-2\" />\n                  Export\n                  <ChevronDownIcon className=\"h-3 w-3 ml-1\" />\n                </button>\n                {showExportOptions && (\n                  <div className=\"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl border border-orange-200 z-50\">\n                    <div className=\"py-2\">\n                      <button onClick={handleExportPDF} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <DocumentTextIcon className=\"h-4 w-4 mr-2 text-red-500\" />\n                        Export PDF\n                      </button>\n                      <button onClick={handleExportTXT} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <DocumentTextIcon className=\"h-4 w-4 mr-2 text-blue-500\" />\n                        Export TXT\n                      </button>\n                      <button onClick={handleExportFDX} className=\"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center\">\n                        <FilmIcon className=\"h-4 w-4 mr-2 text-purple-500\" />\n                        Export FDX\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n\n              {/* Version Revision */}\n              <button\n                onClick={() => toast.success('🔄 Version saved as v3.0.1', { duration: 2000 })}\n                className=\"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all\"\n              >\n                <DocumentDuplicateIcon className=\"h-4 w-4 mr-2\" />\n                v4.0.0\n              </button>\n\n              <button\n                onClick={() => setIsPreviewMode(!isPreviewMode)}\n                className={`flex items-center px-4 py-2 rounded-lg transition-all ${\n                  isPreviewMode \n                    ? 'bg-white text-orange-600 shadow-lg' \n                    : 'bg-white/20 backdrop-blur-sm text-white hover:bg-white/30'\n                }`}\n              >\n                <EyeIcon className=\"h-4 w-4 mr-2\" />\n                {isPreviewMode ? 'Edit' : 'Preview'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex\">\n        {/* Left Sidebar - Formatting Toolbar */}\n        <div className=\"w-64 bg-gradient-to-b from-orange-50 to-orange-100 border-r-2 border-orange-200 p-4 shadow-lg\">\n          <div className=\"space-y-4\">\n            {/* Quick Actions */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Quick Actions</h3>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={handleAutoFormat}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-sm\"\n                >\n                  <SparklesIcon className=\"h-4 w-4 mr-2\" />\n                  Auto-Format Script\n                </button>\n                \n                <button\n                  onClick={() => setShowBreakdownModal(true)}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm\"\n                >\n                  <CalendarIcon className=\"h-4 w-4 mr-2\" />\n                  Scene Breakdown\n                </button>\n                \n                <button\n                  onClick={() => toast.success('🗓️ Schedule feature coming soon!', { duration: 2000 })}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all shadow-sm\"\n                >\n                  <ClockIcon className=\"h-4 w-4 mr-2\" />\n                  Schedule\n                </button>\n                \n                <button\n                  onClick={() => toast.success('👥 Collaborate feature coming soon!', { duration: 2000 })}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-sm\"\n                >\n                  <UsersIcon className=\"h-4 w-4 mr-2\" />\n                  Collaborate\n                </button>\n              </div>\n            </div>\n\n            {/* Formatting Tools */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Format Elements</h3>\n              <div className=\"space-y-1\">\n                {formatButtons.map((button) => {\n                  const Icon = button.icon\n                  return (\n                    <button\n                      key={button.type}\n                      onClick={() => handleElementFormat(button.type)}\n                      className=\"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-800 rounded-lg transition-all group\"\n                      title={`${button.label} (${button.shortcut})`}\n                    >\n                      <div className={`w-3 h-3 rounded-full mr-3 ${button.color} group-hover:scale-110 transition-transform`} />\n                      <Icon className=\"h-4 w-4 mr-2 text-gray-500 group-hover:text-orange-600\" />\n                      <span className=\"flex-1 text-left\">{button.label}</span>\n                      <span className=\"text-xs text-gray-400 group-hover:text-orange-500\">{button.shortcut}</span>\n                    </button>\n                  )\n                })}\n              </div>\n            </div>\n\n            {/* Export Options */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Export Options</h3>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={handleExportPDF}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all shadow-sm\"\n                >\n                  <DocumentTextIcon className=\"h-4 w-4 mr-2\" />\n                  Export PDF\n                </button>\n                \n                <button\n                  onClick={handleExportTXT}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm\"\n                >\n                  <DocumentTextIcon className=\"h-4 w-4 mr-2\" />\n                  Export TXT\n                </button>\n                \n                <button\n                  onClick={handleExportFDX}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-sm\"\n                >\n                  <FilmIcon className=\"h-4 w-4 mr-2\" />\n                  Export FDX\n                </button>\n              </div>\n            </div>\n\n            {/* Keyboard Shortcuts */}\n            <div className=\"bg-white rounded-xl p-4 shadow-sm\">\n              <h3 className=\"text-sm font-semibold text-orange-800 mb-3\">Help & Shortcuts</h3>\n              <div className=\"space-y-2\">\n                <button\n                  onClick={() => setShowKeyboardShortcuts(true)}\n                  className=\"w-full flex items-center px-3 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all shadow-sm\"\n                >\n                  <KeyIcon className=\"h-4 w-4 mr-2\" />\n                  Keyboard Shortcuts\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Main Editor Area */}\n        <div className=\"flex-1 flex flex-col overflow-hidden\">\n          <div className=\"flex-1 p-8 flex flex-col\">\n            <div className=\"bg-white rounded-2xl shadow-xl border-2 border-orange-200 flex-1 flex flex-col min-h-0\">\n              <ProfessionalVerticalStackEditor\n                ref={scriptEditorRef}\n                value={content}\n                onChange={handleContentChange}\n                isPreviewMode={isPreviewMode}\n                className=\"flex-1 rounded-2xl\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Keyboard Shortcuts Modal */}\n      {showKeyboardShortcuts && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" onClick={() => setShowKeyboardShortcuts(false)}>\n          <div className=\"bg-white rounded-2xl p-8 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto\" onClick={e => e.stopPropagation()}>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-3xl font-bold text-orange-800\">Keyboard Shortcuts</h2>\n              <button onClick={() => setShowKeyboardShortcuts(false)} className=\"text-gray-500 hover:text-gray-700 text-2xl\">\n                ✕\n              </button>\n            </div>\n            \n            <div className=\"mb-4 p-4 bg-orange-50 rounded-lg border border-orange-200\">\n              <p className=\"text-sm text-orange-800 font-semibold\">Pro Tip:</p>\n              <p className=\"text-sm text-orange-700\">All shortcuts work in both editing and preview modes</p>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n              {/* Script Formatting */}\n              <div>\n                <h3 className=\"font-bold text-lg text-gray-800 mb-4 flex items-center\">\n                  <FilmIcon className=\"h-5 w-5 mr-2 text-blue-500\" />\n                  Script Formatting\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  {KEYBOARD_SHORTCUTS.formatting.map((shortcut, index) => (\n                    <div key={index} className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-700\">{shortcut.label}</span>\n                      <div className=\"flex\">\n                        {shortcut.shortcut.split('+').map((key, i) => (\n                          <span key={i} className=\"font-mono bg-gray-100 px-2 py-1 rounded text-xs mx-0.5\">\n                            {key}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* File Operations */}\n              <div>\n                <h3 className=\"font-bold text-lg text-gray-800 mb-4 flex items-center\">\n                  <DocumentTextIcon className=\"h-5 w-5 mr-2 text-green-500\" />\n                  File Operations\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  {KEYBOARD_SHORTCUTS.fileOperations.map((shortcut, index) => (\n                    <div key={index} className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-700\">{shortcut.label}</span>\n                      <div className=\"flex\">\n                        {shortcut.shortcut.split('+').map((key, i) => (\n                          <span key={i} className=\"font-mono bg-gray-100 px-2 py-1 rounded text-xs mx-0.5\">\n                            {key}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Navigation & View */}\n              <div>\n                <h3 className=\"font-bold text-lg text-gray-800 mb-4 flex items-center\">\n                  <EyeIcon className=\"h-5 w-5 mr-2 text-purple-500\" />\n                  Navigation & View\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  {KEYBOARD_SHORTCUTS.navigation.map((shortcut, index) => (\n                    <div key={index} className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-700\">{shortcut.label}</span>\n                      <div className=\"flex\">\n                        {shortcut.shortcut.split('+').map((key, i) => (\n                          <span key={i} className=\"font-mono bg-gray-100 px-2 py-1 rounded text-xs mx-0.5\">\n                            {key}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Editing */}\n              <div>\n                <h3 className=\"font-bold text-lg text-gray-800 mb-4 flex items-center\">\n                  <KeyIcon className=\"h-5 w-5 mr-2 text-red-500\" />\n                  Editing\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  {KEYBOARD_SHORTCUTS.editing.map((shortcut, index) => (\n                    <div key={index} className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-700\">{shortcut.label}</span>\n                      <div className=\"flex\">\n                        {shortcut.shortcut.split('+').map((key, i) => (\n                          <span key={i} className=\"font-mono bg-gray-100 px-2 py-1 rounded text-xs mx-0.5\">\n                            {key}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Smart Features */}\n              <div>\n                <h3 className=\"font-bold text-lg text-gray-800 mb-4 flex items-center\">\n                  <SparklesIcon className=\"h-5 w-5 mr-2 text-yellow-500\" />\n                  Smart Features\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  {KEYBOARD_SHORTCUTS.smartFeatures.map((shortcut, index) => (\n                    <div key={index} className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-700\">{shortcut.label}</span>\n                      <div className=\"flex\">\n                        {shortcut.shortcut.split('+').map((key, i) => (\n                          <span key={i} className=\"font-mono bg-gray-100 px-2 py-1 rounded text-xs mx-0.5\">\n                            {key}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Production Tools */}\n              <div>\n                <h3 className=\"font-bold text-lg text-gray-800 mb-4 flex items-center\">\n                  <CalendarIcon className=\"h-5 w-5 mr-2 text-indigo-500\" />\n                  Production Tools\n                </h3>\n                <div className=\"space-y-2 text-sm\">\n                  {KEYBOARD_SHORTCUTS.production.map((shortcut, index) => (\n                    <div key={index} className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-700\">{shortcut.label}</span>\n                      <div className=\"flex\">\n                        {shortcut.shortcut.split('+').map((key, i) => (\n                          <span key={i} className=\"font-mono bg-gray-100 px-2 py-1 rounded text-xs mx-0.5\">\n                            {key}\n                          </span>\n                        ))}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Quick Start Tips */}\n            <div className=\"mt-8 p-4 bg-blue-50 rounded-lg border border-blue-200\">\n              <h3 className=\"font-bold text-blue-800 mb-2\">Quick Start Tips</h3>\n              <ul className=\"text-sm text-blue-700 space-y-1\">\n                <li>• Type \"INT.\" or \"EXT.\" and the line will auto-format as a scene heading</li>\n                <li>• Character names in ALL CAPS will be auto-detected and formatted</li>\n                <li>• Press Tab to accept autocomplete suggestions</li>\n                <li>• Use Enter after character names for automatic dialogue indentation</li>\n                <li>• The script auto-saves every 2 seconds while typing</li>\n              </ul>\n              <div className=\"mt-3 text-center\">\n                <button \n                  onClick={() => setShowKeyboardShortcuts(false)}\n                  className=\"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\n                >\n                  Got it, thanks!\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {showBreakdownModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\" onClick={() => setShowBreakdownModal(false)}>\n          <div className=\"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 h-3/4 overflow-y-auto\" onClick={e => e.stopPropagation()}>\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-2xl font-bold text-orange-800\">Scene Breakdown & Analysis</h2>\n              <button onClick={() => setShowBreakdownModal(false)} className=\"text-gray-500 hover:text-gray-700\">\n                ✕\n              </button>\n            </div>\n            <div className=\"space-y-6\">\n              <div className=\"bg-orange-50 p-4 rounded-lg\">\n                <h3 className=\"font-semibold text-orange-800 mb-2\">Script Statistics</h3>\n                <div className=\"grid grid-cols-4 gap-4 text-sm\">\n                  <div><strong>Total Lines:</strong> {content.split('\\n').length}</div>\n                  <div><strong>Scene Headings:</strong> {content.split('\\n').filter(line => /^(INT\\.|EXT\\.)/i.test(line.trim())).length}</div>\n                  <div><strong>Characters:</strong> {Array.from(new Set(content.split('\\n').filter(line => /^[A-Z][A-Z\\s\\-']{1,}(\\s\\(.*\\))?$/.test(line.trim()) && line.trim().length < 50))).length}</div>\n                  <div><strong>Dialogue Lines:</strong> {content.split('\\n').filter(line => line.trim() && !/^(INT\\.|EXT\\.|[A-Z][A-Z\\s\\-']{1,}(\\s\\(.*\\))?$|\\(.*\\)|CUT TO:|FADE)/.test(line.trim())).length}</div>\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h3 className=\"font-semibold text-gray-800 mb-3\">Scene Headings</h3>\n                  <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                    {content.split('\\n')\n                      .map((line, index) => ({ line: line.trim(), index }))\n                      .filter(item => /^(INT\\.|EXT\\.)/i.test(item.line))\n                      .map((scene, sceneIndex) => (\n                        <div key={sceneIndex} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                          <div className=\"flex-1\">\n                            <span className=\"font-semibold text-blue-600\">Scene {sceneIndex + 1}</span>\n                            <span className=\"ml-3 text-gray-700 text-sm\">{scene.line}</span>\n                          </div>\n                          <div className=\"text-xs text-gray-500\">Line {scene.index + 1}</div>\n                        </div>\n                      ))}\n                  </div>\n                </div>\n                \n                <div>\n                  <h3 className=\"font-semibold text-gray-800 mb-3\">Characters</h3>\n                  <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                    {Array.from(new Set(\n                      content.split('\\n')\n                        .filter(line => /^[A-Z][A-Z\\s\\-']{1,}(\\s\\(.*\\))?$/.test(line.trim()) && line.trim().length < 50)\n                        .map(line => line.trim().replace(/\\s\\(.*\\)$/, ''))\n                    )).sort().map((character, index) => {\n                      const dialogueCount = content.split('\\n')\n                        .filter((line, i) => {\n                          const prevLine = content.split('\\n')[i - 1]\n                          return prevLine && prevLine.trim().startsWith(character) && line.trim() && !line.trim().startsWith('(')\n                        }).length\n                      \n                      return (\n                        <div key={index} className=\"flex items-center justify-between p-2 bg-gray-50 rounded\">\n                          <span className=\"font-medium text-red-600\">{character}</span>\n                          <span className=\"text-xs text-gray-500\">{dialogueCount} lines</span>\n                        </div>\n                      )\n                    })}\n                  </div>\n                </div>\n              </div>\n              \n              <div>\n                <h3 className=\"font-semibold text-gray-800 mb-3\">Format Breakdown</h3>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                  <div className=\"bg-blue-50 p-3 rounded-lg text-center\">\n                    <div className=\"font-bold text-blue-600 text-lg\">\n                      {content.split('\\n').filter(line => /^(INT\\.|EXT\\.)/i.test(line.trim())).length}\n                    </div>\n                    <div className=\"text-blue-800 text-xs\">Scene Headings</div>\n                  </div>\n                  <div className=\"bg-red-50 p-3 rounded-lg text-center\">\n                    <div className=\"font-bold text-red-600 text-lg\">\n                      {Array.from(new Set(content.split('\\n').filter(line => /^[A-Z][A-Z\\s\\-']{1,}(\\s\\(.*\\))?$/.test(line.trim()) && line.trim().length < 50))).length}\n                    </div>\n                    <div className=\"text-red-800 text-xs\">Characters</div>\n                  </div>\n                  <div className=\"bg-yellow-50 p-3 rounded-lg text-center\">\n                    <div className=\"font-bold text-yellow-600 text-lg\">\n                      {content.split('\\n').filter(line => /^\\(.*\\)$/.test(line.trim())).length}\n                    </div>\n                    <div className=\"text-yellow-800 text-xs\">Parentheticals</div>\n                  </div>\n                  <div className=\"bg-pink-50 p-3 rounded-lg text-center\">\n                    <div className=\"font-bold text-pink-600 text-lg\">\n                      {content.split('\\n').filter(line => /^(CUT TO:|FADE TO:|DISSOLVE TO:)/i.test(line.trim())).length}\n                    </div>\n                    <div className=\"text-pink-800 text-xs\">Transitions</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Status Bar */}\n      <div className=\"bg-gradient-to-r from-orange-100 to-orange-200 border-t-2 border-orange-300 px-6 py-3\">\n        <div className=\"flex items-center justify-between text-sm\">\n          <div className=\"flex items-center space-x-6 text-orange-800\">\n            <span className=\"font-semibold\">Format: Professional Screenplay</span>\n            <span>Font: Courier New 12pt</span>\n            <span className=\"flex items-center\">\n              <QuestionMarkCircleIcon className=\"h-4 w-4 mr-1\" />\n              Vertical Line Stack • Real Screenplay Editor\n            </span>\n          </div>\n          <div className=\"flex items-center space-x-6 text-orange-700\">\n            <span className=\"font-bold text-orange-600 flex items-center\">\n              <div className=\"w-2 h-2 bg-orange-500 rounded-full mr-2\" />\n              Vertical Stack Professional Editor v4.0.0\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App.tsx'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n)"],"file":"assets/index-d413feb7.js"}