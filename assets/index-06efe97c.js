import{r as i,a as $e,R as K}from"./vendor-8a332d8f.js";import{_ as Ie}from"./utils-34ded122.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Ce={exports:{}},oe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=i,_e=Symbol.for("react.element"),He=Symbol.for("react.fragment"),Ue=Object.prototype.hasOwnProperty,Be=We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ze={key:!0,ref:!0,__self:!0,__source:!0};function Ee(e,t,n){var o,a={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)Ue.call(t,o)&&!Ze.hasOwnProperty(o)&&(a[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)a[o]===void 0&&(a[o]=t[o]);return{$$typeof:_e,type:e,key:s,ref:l,props:a,_owner:Be.current}}oe.Fragment=He;oe.jsx=Ee;oe.jsxs=Ee;Ce.exports=oe;var r=Ce.exports,me={},xe=$e;me.createRoot=xe.createRoot,me.hydrateRoot=xe.hydrateRoot;const be=e=>{let t;const n=new Set,o=(u,g)=>{const v=typeof u=="function"?u(t):u;if(!Object.is(v,t)){const y=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),n.forEach(b=>b(t,y))}},a=()=>t,c={setState:o,getState:a,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u))},d=t=e(o,a,c);return c},ze=e=>e?be(e):be,Ve=e=>e;function Xe(e,t=Ve){const n=K.useSyncExternalStore(e.subscribe,K.useCallback(()=>t(e.getState()),[e,t]),K.useCallback(()=>t(e.getInitialState()),[e,t]));return K.useDebugValue(n),n}const we=e=>{const t=ze(e),n=o=>Xe(t,o);return Object.assign(n,t),n},Se=e=>e?we(e):we;function Ke(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var s;const l=d=>d===null?null:JSON.parse(d,t==null?void 0:t.reviver),c=(s=n.getItem(a))!=null?s:null;return c instanceof Promise?c.then(l):l(c)},setItem:(a,s)=>n.setItem(a,JSON.stringify(s,t==null?void 0:t.replacer)),removeItem:a=>n.removeItem(a)}}const fe=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(o){return fe(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return fe(o)(n)}}}},Ye=(e,t)=>(n,o,a)=>{let s={storage:Ke(()=>localStorage),partialize:x=>x,version:0,merge:(x,L)=>({...L,...x}),...t},l=!1;const c=new Set,d=new Set;let u=s.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...x)},o,a);const g=()=>{const x=s.partialize({...o()});return u.setItem(s.name,{state:x,version:s.version})},v=a.setState;a.setState=(x,L)=>{v(x,L),g()};const y=e((...x)=>{n(...x),g()},o,a);a.getInitialState=()=>y;let b;const R=()=>{var x,L;if(!u)return;l=!1,c.forEach(j=>{var T;return j((T=o())!=null?T:y)});const I=((L=s.onRehydrateStorage)==null?void 0:L.call(s,(x=o())!=null?x:y))||void 0;return fe(u.getItem.bind(u))(s.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==s.version){if(s.migrate){const T=s.migrate(j.state,j.version);return T instanceof Promise?T.then(P=>[!0,P]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var T;const[P,O]=j;if(b=s.merge(O,(T=o())!=null?T:y),n(b,!0),P)return g()}).then(()=>{I==null||I(b,void 0),b=o(),l=!0,d.forEach(j=>j(b))}).catch(j=>{I==null||I(void 0,j)})};return a.persist={setOptions:x=>{s={...s,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>R(),hasHydrated:()=>l,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},s.skipHydration||R(),b||y},Le=Ye,Ge=Se()(Le((e,t)=>({projects:[],currentProject:null,isLoading:!1,createProject:(n,o)=>{const a={id:`project_${Date.now()}`,title:n,description:o||"",scriptContent:`FADE IN:

EXT. ${n.toUpperCase()} - DAY

A new story begins...

FADE OUT.`,createdAt:new Date,updatedAt:new Date,author:"Writer",genre:"Drama",pageCount:1,wordCount:8,characterCount:50};e(s=>({projects:[...s.projects,a],currentProject:a}))},updateProject:(n,o)=>{e(a=>{var s;return{projects:a.projects.map(l=>l.id===n?{...l,...o,updatedAt:new Date}:l),currentProject:((s=a.currentProject)==null?void 0:s.id)===n?{...a.currentProject,...o,updatedAt:new Date}:a.currentProject}})},deleteProject:n=>{e(o=>{var a;return{projects:o.projects.filter(s=>s.id!==n),currentProject:((a=o.currentProject)==null?void 0:a.id)===n?null:o.currentProject}})},setCurrentProject:n=>{e({currentProject:n})},updateScriptContent:n=>{const{currentProject:o}=t();if(!o)return;const a=n.split(/\\s+/).filter(d=>d.length>0).length,s=Math.ceil(n.split("\\n").length/55),l=n.length,c={scriptContent:n,wordCount:a,pageCount:s,characterCount:l,updatedAt:new Date};e(d=>({currentProject:{...o,...c},projects:d.projects.map(u=>u.id===o.id?{...u,...c}:u)}))},getProjectById:n=>t().projects.find(o=>o.id===n),duplicateProject:n=>{const{projects:o}=t(),a=o.find(s=>s.id===n);if(a){const s={...a,id:`project_${Date.now()}`,title:`${a.title} (Copy)`,createdAt:new Date,updatedAt:new Date};e(l=>({projects:[...l.projects,s]}))}},exportProject:(n,o)=>{const a=t().getProjectById(n);a&&console.log(`Exporting project ${a.title} as ${o}`)}}),{name:"hemantdoc-scriptwriter-projects",version:1})),Qe={theme:"light",fontSize:12,fontFamily:"Courier New",autoSave:!0,spellCheck:!0,wordWrap:!0,showLineNumbers:!1,showPageBreaks:!0},Je=Se()(Le((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,setUser:n=>{e({user:n,isAuthenticated:!0,isLoading:!1})},logout:()=>{e({user:null,isAuthenticated:!1,isLoading:!1})},updateUserPreferences:n=>{const{user:o}=t();if(!o)return;const a={...o,preferences:{...o.preferences,...n}};e({user:a})},initializeUser:()=>{const{user:n}=t();n||e({user:{id:"demo-user",name:"Professional Writer",email:"writer@hemantdoc.com",preferences:Qe},isAuthenticated:!0,isLoading:!1})}}),{name:"hemantdoc-scriptwriter-auth",version:1}));let qe={data:""},et=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||qe,tt=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rt=/\/\*[^]*?\*\/|  +/g,ye=/\n+/g,_=(e,t)=>{let n="",o="",a="";for(let s in e){let l=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+l+";":o+=s[1]=="f"?_(l,s):s+"{"+_(l,s[1]=="k"?"":t)+"}":typeof l=="object"?o+=_(l,t?t.replace(/([^,])+/g,c=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=_.p?_.p(s,l):s+":"+l+";")}return n+(t&&a?t+"{"+a+"}":a)+o},D={},Te=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Te(e[n]);return t}return e},nt=(e,t,n,o,a)=>{let s=Te(e),l=D[s]||(D[s]=(d=>{let u=0,g=11;for(;u<d.length;)g=101*g+d.charCodeAt(u++)>>>0;return"go"+g})(s));if(!D[l]){let d=s!==e?e:(u=>{let g,v,y=[{}];for(;g=tt.exec(u.replace(rt,""));)g[4]?y.shift():g[3]?(v=g[3].replace(ye," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][g[1]]=g[2].replace(ye," ").trim();return y[0]})(e);D[l]=_(a?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&D.g?D.g:null;return n&&(D.g=D[l]),((d,u,g,v)=>{v?u.data=u.data.replace(v,d):u.data.indexOf(d)===-1&&(u.data=g?d+u.data:u.data+d)})(D[l],t,o,c),l},ot=(e,t,n)=>e.reduce((o,a,s)=>{let l=t[s];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":_(c,""):c===!1?"":c}return o+a+(l??"")},"");function se(e){let t=this||{},n=e.call?e(t.p):e;return nt(n.unshift?n.raw?ot(n,[].slice.call(arguments,1),t.p):n.reduce((o,a)=>Object.assign(o,a&&a.call?a(t.p):a),{}):n,et(t.target),t.g,t.o,t.k)}let Ae,he,pe;se.bind({g:1});let $=se.bind({k:1});function st(e,t,n,o){_.p=t,Ae=e,he=n,pe=o}function H(e,t){let n=this||{};return function(){let o=arguments;function a(s,l){let c=Object.assign({},s),d=c.className||a.className;n.p=Object.assign({theme:he&&he()},c),n.o=/ *go\d+/.test(d),c.className=se.apply(n,o)+(d?" "+d:""),t&&(c.ref=l);let u=e;return e[0]&&(u=c.as||e,delete c.as),pe&&u[0]&&pe(c),Ae(u,c)}return t?t(a):a}}var at=e=>typeof e=="function",ne=(e,t)=>at(e)?e(t):e,it=(()=>{let e=0;return()=>(++e).toString()})(),Pe=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lt=20,Re=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,lt)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return Re(e,{type:e.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},re=[],U={toasts:[],pausedAt:void 0},B=e=>{U=Re(U,e),re.forEach(t=>{t(U)})},ct={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dt=(e={})=>{let[t,n]=i.useState(U),o=i.useRef(U);i.useEffect(()=>(o.current!==U&&n(U),re.push(n),()=>{let s=re.indexOf(n);s>-1&&re.splice(s,1)}),[]);let a=t.toasts.map(s=>{var l,c,d;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((l=e[s.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((c=e[s.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||ct[s.type],style:{...e.style,...(d=e[s.type])==null?void 0:d.style,...s.style}}});return{...t,toasts:a}},ut=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||it()}),G=e=>(t,n)=>{let o=ut(t,e,n);return B({type:2,toast:o}),o.id},S=(e,t)=>G("blank")(e,t);S.error=G("error");S.success=G("success");S.loading=G("loading");S.custom=G("custom");S.dismiss=e=>{B({type:3,toastId:e})};S.remove=e=>B({type:4,toastId:e});S.promise=(e,t,n)=>{let o=S.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=t.success?ne(t.success,a):void 0;return s?S.success(s,{id:o,...n,...n==null?void 0:n.success}):S.dismiss(o),a}).catch(a=>{let s=t.error?ne(t.error,a):void 0;s?S.error(s,{id:o,...n,...n==null?void 0:n.error}):S.dismiss(o)}),e};var mt=(e,t)=>{B({type:1,toast:{id:e,height:t}})},ft=()=>{B({type:5,time:Date.now()})},Y=new Map,ht=1e3,pt=(e,t=ht)=>{if(Y.has(e))return;let n=setTimeout(()=>{Y.delete(e),B({type:4,toastId:e})},t);Y.set(e,n)},gt=e=>{let{toasts:t,pausedAt:n}=dt(e);i.useEffect(()=>{if(n)return;let s=Date.now(),l=t.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(s-c.createdAt);if(d<0){c.visible&&S.dismiss(c.id);return}return setTimeout(()=>S.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[t,n]);let o=i.useCallback(()=>{n&&B({type:6,time:Date.now()})},[n]),a=i.useCallback((s,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:u}=l||{},g=t.filter(b=>(b.position||u)===(s.position||u)&&b.height),v=g.findIndex(b=>b.id===s.id),y=g.filter((b,R)=>R<v&&b.visible).length;return g.filter(b=>b.visible).slice(...c?[y+1]:[0,y]).reduce((b,R)=>b+(R.height||0)+d,0)},[t]);return i.useEffect(()=>{t.forEach(s=>{if(s.dismissed)pt(s.id,s.removeDelay);else{let l=Y.get(s.id);l&&(clearTimeout(l),Y.delete(s.id))}})},[t]),{toasts:t,handlers:{updateHeight:mt,startPause:ft,endPause:o,calculateOffset:a}}},xt=$`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bt=$`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wt=$`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yt=H("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bt} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wt} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vt=$`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,jt=H("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${vt} 1s linear infinite;
`,Nt=$`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,kt=$`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ct=H("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${kt} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Et=H("div")`
  position: absolute;
`,St=H("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Lt=$`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Tt=H("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Lt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,At=({toast:e})=>{let{icon:t,type:n,iconTheme:o}=e;return t!==void 0?typeof t=="string"?i.createElement(Tt,null,t):t:n==="blank"?null:i.createElement(St,null,i.createElement(jt,{...o}),n!=="loading"&&i.createElement(Et,null,n==="error"?i.createElement(yt,{...o}):i.createElement(Ct,{...o})))},Pt=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Rt=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Ft="0%{opacity:0;} 100%{opacity:1;}",Ot="0%{opacity:1;} 100%{opacity:0;}",Mt=H("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Dt=H("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,$t=(e,t)=>{let n=e.includes("top")?1:-1,[o,a]=Pe()?[Ft,Ot]:[Pt(n),Rt(n)];return{animation:t?`${$(o)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},It=i.memo(({toast:e,position:t,style:n,children:o})=>{let a=e.height?$t(e.position||t||"top-center",e.visible):{opacity:0},s=i.createElement(At,{toast:e}),l=i.createElement(Dt,{...e.ariaProps},ne(e.message,e));return i.createElement(Mt,{className:e.className,style:{...a,...n,...e.style}},typeof o=="function"?o({icon:s,message:l}):i.createElement(i.Fragment,null,s,l))});st(i.createElement);var Wt=({id:e,className:t,style:n,onHeightUpdate:o,children:a})=>{let s=i.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;o(e,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,o]);return i.createElement("div",{ref:s,className:t,style:n},a)},_t=(e,t)=>{let n=e.includes("top"),o=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Pe()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...o,...a}},Ht=se`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ee=16,Ut=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:o,children:a,containerStyle:s,containerClassName:l})=>{let{toasts:c,handlers:d}=gt(n);return i.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ee,left:ee,right:ee,bottom:ee,pointerEvents:"none",...s},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let g=u.position||t,v=d.calculateOffset(u,{reverseOrder:e,gutter:o,defaultPosition:t}),y=_t(g,v);return i.createElement(Wt,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?Ht:"",style:y},u.type==="custom"?ne(u.message,u):a?a(u):i.createElement(It,{toast:u,position:g}))}))},F=S;function Bt({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Zt=i.forwardRef(Bt),zt=Zt;function Vt({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Xt=i.forwardRef(Vt),Kt=Xt;function Yt({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Gt=i.forwardRef(Yt),ve=Gt;function Qt({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Jt=i.forwardRef(Qt),qt=Jt;function er({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const tr=i.forwardRef(er),rr=tr;function nr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const or=i.forwardRef(nr),je=or;function sr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ar=i.forwardRef(sr),ir=ar;function lr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const cr=i.forwardRef(lr),dr=cr;function ur({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const mr=i.forwardRef(ur),z=mr;function fr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const hr=i.forwardRef(fr),pr=hr;function gr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const xr=i.forwardRef(gr),de=xr;function br({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const wr=i.forwardRef(br),Ne=wr;function yr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const vr=i.forwardRef(yr),jr=vr;function Nr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const kr=i.forwardRef(Nr),Cr=kr;function Er({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Sr=i.forwardRef(Er),ue=Sr;function Lr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Tr=i.forwardRef(Lr),Ar=Tr;function Pr({title:e,titleId:t,...n},o){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Rr=i.forwardRef(Pr),Fr=Rr,ke={scene_heading:{marginLeft:0,marginRight:60,textAlign:"left",textTransform:"uppercase",fontWeight:"bold",marginTop:24,marginBottom:0},character:{marginLeft:220,marginRight:0,textAlign:"center",textTransform:"uppercase",fontWeight:"bold",marginTop:12,marginBottom:0},dialogue:{marginLeft:100,marginRight:120,textAlign:"left",textTransform:"none",fontWeight:"normal",marginTop:0,marginBottom:0},parenthetical:{marginLeft:160,marginRight:100,textAlign:"center",textTransform:"none",fontWeight:"normal",marginTop:0,marginBottom:0},action:{marginLeft:0,marginRight:60,textAlign:"left",textTransform:"none",fontWeight:"normal",marginTop:12,marginBottom:0},transition:{marginLeft:0,marginRight:0,textAlign:"right",textTransform:"uppercase",fontWeight:"bold",marginTop:12,marginBottom:0},shot:{marginLeft:0,marginRight:60,textAlign:"left",textTransform:"uppercase",fontWeight:"bold",marginTop:12,marginBottom:0}};function ge(e,t,n){var a,s;const o=e.trim();if(!o)return"action";if(/^(INT\\.|EXT\\.|FADE IN:|FADE OUT\\.|CUT TO:)/i.test(o))return"scene_heading";if(/^[A-Z\\s']{2,}$/.test(o)&&o.length<50){const l=(a=t[n+1])==null?void 0:a.trim();if(l&&!/^[A-Z\\s']{2,}$/.test(l))return"character"}if(/^\\([^)]+\\)$/.test(o))return"parenthetical";if(/^(CUT TO:|FADE TO:|DISSOLVE TO:|SMASH CUT TO:)/.test(o))return"transition";if(n>0){const l=(s=t[n-1])==null?void 0:s.trim();if(l&&/^[A-Z\\s']{2,}$/.test(l))return"dialogue"}return/^(CLOSE UP|WIDE SHOT|MEDIUM SHOT|POV|INSERT)/i.test(o)?"shot":"action"}function Or(e,t){const n=e.trim();if(!n)return"";const o=ke[t]||ke.action;let a=n;o.textTransform==="uppercase"?a=a.toUpperCase():o.textTransform==="lowercase"&&(a=a.toLowerCase()),t==="parenthetical"&&!a.startsWith("(")&&(a=`(${a})`),t==="transition"&&!a.endsWith(":")&&!a.endsWith(".")&&(a=a+":");const s=Math.round(o.marginLeft/12);return" ".repeat(Math.max(0,s))+a}function Mr(e){const t=e.split("\\n");return t.map((o,a)=>{const s=ge(o,t,a);return Or(o,s)}).join("\\n")}const k={scene_heading:{bg:"#e3f2fd",border:"#1976d2",text:"#0d47a1"},character:{bg:"#ffebee",border:"#d32f2f",text:"#c62828"},dialogue:{bg:"#f3e5f5",border:"#7b1fa2",text:"#4a148c"},parenthetical:{bg:"#fff3e0",border:"#f57c00",text:"#e65100"},action:{bg:"#e8f5e8",border:"#388e3c",text:"#1b5e20"},transition:{bg:"#fce4ec",border:"#c2185b",text:"#880e4f"},shot:{bg:"#e1f5fe",border:"#0288d1",text:"#01579b"}},te={scene_heading:{marginLeft:"0px",textAlign:"left",textTransform:"uppercase",fontWeight:"bold",color:k.scene_heading.text,backgroundColor:k.scene_heading.bg},character:{marginLeft:"220px",textAlign:"center",textTransform:"uppercase",fontWeight:"bold",color:k.character.text,backgroundColor:k.character.bg},dialogue:{marginLeft:"100px",textAlign:"left",textTransform:"none",fontWeight:"normal",color:k.dialogue.text,backgroundColor:k.dialogue.bg},parenthetical:{marginLeft:"160px",textAlign:"center",textTransform:"none",fontWeight:"normal",color:k.parenthetical.text,backgroundColor:k.parenthetical.bg},action:{marginLeft:"0px",textAlign:"left",textTransform:"none",fontWeight:"normal",color:k.action.text,backgroundColor:k.action.bg},transition:{marginLeft:"0px",textAlign:"right",textTransform:"uppercase",fontWeight:"bold",color:k.transition.text,backgroundColor:k.transition.bg},shot:{marginLeft:"0px",textAlign:"left",textTransform:"uppercase",fontWeight:"bold",color:k.shot.text,backgroundColor:k.shot.bg}},Fe=i.forwardRef(({value:e,onChange:t,isPreviewMode:n,className:o="",placeholder:a},s)=>{var j,T,P,O,Q,J;const l=i.useRef(null),[c,d]=i.useState("action"),[u,g]=i.useState({line:0,col:0}),[v,y]=i.useState(!1);i.useImperativeHandle(s,()=>({formatCurrentLine:p=>{console.log("ðŸŽ¯ GOLD STANDARD: Format mode set to:",p),d(p),y(!0),setTimeout(()=>y(!1),3e3),l.current&&(l.current.focus(),b(p)),console.log("âœ¨ Ready to type in",p,"format!")},insertTextAtCursor:p=>{if(!l.current)return;const f=l.current,w=f.selectionStart,N=f.selectionEnd,C=e.substring(0,w)+p+e.substring(N);t(C),setTimeout(()=>{const m=w+p.length;f.setSelectionRange(m,m),f.focus()},0)},focus:()=>{var p;(p=l.current)==null||p.focus()},getCurrentLine:()=>{if(!l.current)return"";const p=l.current.selectionStart,f=e.substring(0,p),w=e.substring(p),N=f.lastIndexOf(`
`),C=w.indexOf(`
`),m=N+1,h=C===-1?e.length:p+C;return e.substring(m,h)},getCurrentElementType:()=>c}));const b=i.useCallback(p=>{var N;if(!l.current)return;const f=l.current,w=te[p]||te.action;f.style.textAlign=w.textAlign,f.style.textTransform=w.textTransform,f.style.fontWeight=w.fontWeight,f.style.color=w.color,f.style.backgroundColor=w.backgroundColor,f.style.paddingLeft=w.marginLeft,f.style.caretColor=((N=k[p])==null?void 0:N.border)||"#f97316",console.log("ðŸ“ Applied formatting style:",p,w)},[]),R=i.useCallback(p=>{if(p.key==="Enter"&&(console.log("âŽ Enter pressed in format mode:",c),setTimeout(()=>{let f="action";switch(c){case"scene_heading":f="action";break;case"character":f="dialogue";break;case"dialogue":f="action";break;case"parenthetical":f="dialogue";break;case"action":f="action";break;case"transition":f="scene_heading";break;case"shot":f="action";break}console.log("ðŸ”„ Auto-switching format:",c,"â†’",f),d(f),b(f)},0)),c==="parenthetical"&&p.key!=="Backspace"&&p.key!=="Delete"){const f=x();!f.startsWith("(")&&f.length===0&&setTimeout(()=>{if(l.current){const w=l.current.selectionStart,N=e.substring(0,w)+"("+e.substring(w);t(N),l.current.setSelectionRange(w+1,w+1)}},0)}},[c,e,t,b]),x=i.useCallback(()=>{if(!l.current)return"";const p=l.current.selectionStart,f=e.substring(0,p),w=e.substring(p),N=f.lastIndexOf(`
`),C=w.indexOf(`
`),m=N+1,h=C===-1?e.length:p+C;return e.substring(m,h)},[e]);i.useEffect(()=>{b(c)},[c,b]);const L=i.useCallback(()=>{if(!l.current)return;const f=l.current.selectionStart,N=e.substring(0,f).split(`
`),C=N.length-1,m=N[N.length-1].length;g({line:C,col:m})},[e]);i.useEffect(()=>{L()},[e,L]);const I=p=>({scene_heading:'ðŸŽ¬ Scene Heading Mode: Type location and time (e.g., "INT. OFFICE - DAY")',character:"ðŸ‘¤ Character Mode: Type character name (will be centered and uppercase)",dialogue:"ðŸ’¬ Dialogue Mode: Type character's speech (indented properly)",parenthetical:"ðŸ“ Parenthetical Mode: Type actor direction (will be wrapped in parentheses)",action:"ðŸŽ­ Action Mode: Type scene description (left-aligned)",transition:'ðŸŽžï¸ Transition Mode: Type transition (e.g., "CUT TO:", right-aligned)',shot:'ðŸ“· Shot Mode: Type camera direction (e.g., "CLOSE UP")'})[p]||"Type in this format mode";return n?r.jsx("div",{className:`flex-1 w-full p-8 overflow-y-auto bg-white ${o}`,children:e.split(`
`).map((p,f)=>{var h;const w=e.split(`
`),N=ge(p,w,f),C=f===u.line,m=te[N]||te.action;return r.jsxs("div",{style:{fontFamily:"Courier New, monospace",fontSize:"12pt",lineHeight:"1.2",minHeight:"14.4px",marginBottom:"0px",...m,backgroundColor:C?m.backgroundColor:"transparent",borderLeft:C?`4px solid ${(h=k[N])==null?void 0:h.border}`:"none",paddingLeft:C?"8px":m.marginLeft,paddingRight:"8px"},title:`${N.replace("_"," ").toUpperCase()}`,className:`screenplay-${N.replace("_","-")}`,children:[C&&r.jsx("div",{className:"absolute -left-4 top-0 w-2 h-full bg-orange-400 rounded-r"}),p||"Â "]},f)})}):r.jsxs("div",{className:`flex-1 flex flex-col ${o} relative`,children:[r.jsx("div",{className:"absolute top-2 right-2 z-10 bg-white/95 backdrop-blur-sm rounded-lg p-3 shadow-lg border-2",style:{borderColor:(j=k[c])==null?void 0:j.border},children:r.jsxs("div",{className:"text-xs font-mono",children:[r.jsxs("div",{className:"flex items-center mb-1",children:[r.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:(T=k[c])==null?void 0:T.border}}),r.jsxs("span",{className:"font-bold text-sm capitalize",style:{color:(P=k[c])==null?void 0:P.text},children:[c.replace("_"," ")," Mode"]})]}),r.jsxs("div",{className:"text-xs text-gray-600",children:["Line ",u.line+1,", Col ",u.col+1]}),r.jsx("div",{className:"text-xs font-semibold mt-1",style:{color:(O=k[c])==null?void 0:O.text},children:"Start typing!"})]})}),v&&r.jsxs("div",{className:"absolute top-20 right-2 z-20 text-white text-sm rounded-lg px-4 py-3 max-w-md shadow-xl",style:{backgroundColor:(Q=k[c])==null?void 0:Q.border},children:[r.jsxs("div",{className:"font-semibold mb-1",children:[c.replace("_"," ").toUpperCase()," Mode Active"]}),r.jsx("div",{className:"text-xs opacity-90",children:I(c)}),r.jsx("div",{className:"absolute -top-2 right-4 w-4 h-4 transform rotate-45",style:{backgroundColor:(J=k[c])==null?void 0:J.border}})]}),r.jsx("textarea",{ref:l,value:e,onChange:p=>{t(p.target.value),L()},onKeyDown:R,onSelect:L,onClick:L,placeholder:a||`ðŸŽ¬ GOLD STANDARD SCREENPLAY EDITOR

âœ¨ How to use:
1. Click any FORMAT BUTTON (Character, Scene Heading, etc.)
2. Start typing immediately - see real-time formatting!
3. Press ENTER to auto-switch to next logical format
4. See your active format mode in top-right corner

ðŸŽ¯ EXAMPLE WORKFLOW:
â€¢ Click SCENE HEADING â†’ Type "INT. OFFICE - DAY" â†’ Press Enter
â€¢ Click CHARACTER â†’ Type "HEMANT" â†’ Press Enter  
â€¢ Now in DIALOGUE mode â†’ Type character's speech
â€¢ Press Enter â†’ Back to ACTION mode

Ready to create professional screenplays!`,className:"flex-1 w-full p-8 border-none outline-none resize-none relative z-10",style:{fontFamily:"Courier New, monospace",fontSize:"12pt",lineHeight:"1.2",backgroundColor:"transparent",transition:"all 0.2s ease"},spellCheck:!1})]})});Fe.displayName="GoldStandardEditor";function Dr(){const{currentProject:e,createProject:t,updateScriptContent:n}=Ge(),{user:o,initializeUser:a}=Je(),[s,l]=i.useState(`FADE IN:

EXT. HEMANTDOC SCRIPTWRITER PRO - DAY

A revolutionary screenplay writing application comes to life with professional formatting, industry-standard positioning, and Celtx-style character/dialogue layout.

WRITER
(excited)
Finally! Character buttons that actually format text, cursor positioning that works, and consistent formatting across all modes!

The Writer begins typing, experiencing the seamless professional formatting system with scene numbering, enhanced PDF export, and AI script analysis.

FADE OUT.`),[c,d]=i.useState(!1),[u,g]=i.useState(0),[v,y]=i.useState(1),[b,R]=i.useState(!1),[x,L]=i.useState(!1),[I,j]=i.useState(!1),[T,P]=i.useState(!1),O=i.useRef(null);i.useEffect(()=>{a(),e||t("My First Screenplay","A professional screenplay with industry-standard formatting")},[]),i.useEffect(()=>{e&&l(e.scriptContent)},[e]);const Q=[{type:"scene_heading",label:"Scene Heading",icon:de,shortcut:"âŒ˜1",color:"bg-blue-500"},{type:"action",label:"Action",icon:jr,shortcut:"âŒ˜2",color:"bg-green-500"},{type:"character",label:"Character",icon:Ar,shortcut:"âŒ˜3",color:"bg-red-500"},{type:"dialogue",label:"Dialogue",icon:rr,shortcut:"âŒ˜4",color:"bg-purple-500"},{type:"parenthetical",label:"Parenthetical",icon:z,shortcut:"âŒ˜5",color:"bg-yellow-500"},{type:"transition",label:"Transition",icon:Kt,shortcut:"âŒ˜6",color:"bg-pink-500"},{type:"shot",label:"Shot",icon:qt,shortcut:"âŒ˜7",color:"bg-indigo-500"}],J=i.useCallback(m=>{l(m);const h=m.split(/\\s+/).filter(W=>W.length>0).length,A=Math.ceil(m.split("\\n").length/55);g(h),y(A),clearTimeout(window.saveTimer),window.saveTimer=setTimeout(()=>{n(m)},1e3)},[n]),p=m=>{console.log("ðŸ”¥ Format button clicked in App:",m),console.log("ðŸ“‹ Script editor ref:",O.current),O.current?(console.log("âœ… Calling formatCurrentLine..."),O.current.formatCurrentLine(m),F.success(`ðŸŽ¯ Formatted as ${m.replace("_"," ").toUpperCase()}`,{duration:2e3,style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})):(console.error("âŒ Script editor ref is null!"),F.error("Editor not ready. Please try again."))},f=()=>{const m=Mr(s);l(m),F.success("âœ¨ Script formatted with industry standards!",{duration:3e3,style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})},w=()=>{const m=new Blob([s],{type:"text/plain"}),h=URL.createObjectURL(m),A=document.createElement("a");A.href=h,A.download="screenplay.txt",A.click(),URL.revokeObjectURL(h),F.success("ðŸ“ TXT file exported!",{duration:2e3})},N=()=>{const m=`<?xml version="1.0" encoding="UTF-8"?>
<FinalDraft DocumentType="Script" Template="No">
  <Content>
    <Paragraph Type="Scene Heading">
      <Text>${s.split(`
`)[0]}</Text>
    </Paragraph>
  </Content>
</FinalDraft>`,h=new Blob([m],{type:"application/xml"}),A=URL.createObjectURL(h),W=document.createElement("a");W.href=A,W.download="screenplay.fdx",W.click(),URL.revokeObjectURL(A),F.success("ðŸŽ¬ FDX file exported!",{duration:2e3})},C=async()=>{try{const{jsPDF:m}=await Ie(()=>import("./utils-34ded122.js").then(Z=>Z.j),[]),h=new m("portrait","pt","letter"),A=612,W=792,q=90,Oe=54,ae=54,V=12;let M=ae+36;h.setFont("courier","bold"),h.setFontSize(24);const ie=W/2-100;h.text("PROFESSIONAL SCREENPLAY",A/2,ie,{align:"center"}),h.setFont("courier","normal"),h.setFontSize(12),h.text("Written with HemantDoc ScriptWriter Pro",A/2,ie+60,{align:"center"}),h.text("Professional Formatting System",A/2,ie+80,{align:"center"}),h.addPage(),M=ae+36;const le=s.split("\\n");for(let Z=0;Z<le.length;Z++){const ce=le[Z].trim();if(!ce)continue;const Me=ge(ce,le,Z);let X=q,E=ce;switch(Me){case"scene_heading":E=E.toUpperCase(),h.setFont("courier","bold"),M+=V;break;case"character":E=E.toUpperCase(),X=q+220,h.setFont("courier","bold"),M+=V/2;break;case"dialogue":X=q+100,h.setFont("courier","normal");break;case"parenthetical":E.startsWith("(")||(E="("+E),E.endsWith(")")||(E=E+")"),X=q+160,h.setFont("courier","normal");break;case"transition":E=E.toUpperCase(),E.endsWith(":")||(E=E+":");const De=h.getTextWidth(E);X=A-Oe-De,h.setFont("courier","bold"),M+=V;break;default:h.setFont("courier","normal"),M+=V/2;break}M>W-100&&(h.addPage(),M=ae),h.setFontSize(12),h.text(E,X,M),M+=V}h.save("professional-screenplay.pdf"),F.success("ðŸ“„ Professional PDF exported!",{duration:3e3,style:{background:"#dcfce7",color:"#166534",fontWeight:"600"}})}catch(m){console.error("PDF export failed:",m),F.error("âŒ PDF export failed. Please try again.")}};return r.jsxs("div",{className:"h-screen flex flex-col",style:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)"},children:[r.jsx(Ut,{position:"top-right"}),r.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 shadow-lg",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg",children:r.jsx(z,{className:"h-6 w-6 text-orange-500"})}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-white drop-shadow-sm",children:"HemantDoc ScriptWriter Pro"}),r.jsx("p",{className:"text-sm text-orange-100",children:"Professional Screenplay Formatting System"})]})]})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-8 text-white",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:u}),r.jsx("div",{className:"text-xs text-orange-100",children:"WORDS"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:v}),r.jsx("div",{className:"text-xs text-orange-100",children:"PAGES"})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>R(!b),className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all",children:[r.jsx(ue,{className:"h-4 w-4 mr-2"}),"Quick Actions",r.jsx(je,{className:"h-3 w-3 ml-1"})]}),b&&r.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-orange-200 z-50",children:r.jsxs("div",{className:"py-2",children:[r.jsxs("button",{onClick:f,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center",children:[r.jsx(ue,{className:"h-4 w-4 mr-2 text-orange-500"}),"Auto-Format Script"]}),r.jsxs("button",{onClick:()=>j(!0),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center",children:[r.jsx(Ne,{className:"h-4 w-4 mr-2 text-blue-500"}),"Keyboard Shortcuts"]}),r.jsxs("button",{onClick:()=>P(!0),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center",children:[r.jsx(ve,{className:"h-4 w-4 mr-2 text-green-500"}),"Scene Breakdown"]})]})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>L(!x),className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all",children:[r.jsx(zt,{className:"h-4 w-4 mr-2"}),"Export",r.jsx(je,{className:"h-3 w-3 ml-1"})]}),x&&r.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white rounded-lg shadow-xl border border-orange-200 z-50",children:r.jsxs("div",{className:"py-2",children:[r.jsxs("button",{onClick:C,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center",children:[r.jsx(z,{className:"h-4 w-4 mr-2 text-red-500"}),"Export PDF"]}),r.jsxs("button",{onClick:w,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center",children:[r.jsx(z,{className:"h-4 w-4 mr-2 text-blue-500"}),"Export TXT"]}),r.jsxs("button",{onClick:N,className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-orange-50 flex items-center",children:[r.jsx(de,{className:"h-4 w-4 mr-2 text-purple-500"}),"Export FDX"]})]})})]}),r.jsxs("button",{onClick:()=>F.success("ðŸ”„ Version saved as v3.0.1",{duration:2e3}),className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white hover:bg-white/30 rounded-lg transition-all",children:[r.jsx(dr,{className:"h-4 w-4 mr-2"}),"v3.0.0"]}),r.jsxs("button",{onClick:()=>d(!c),className:`flex items-center px-4 py-2 rounded-lg transition-all ${c?"bg-white text-orange-600 shadow-lg":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"}`,children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),c?"Edit":"Preview"]})]})]})})}),r.jsxs("div",{className:"flex-1 flex",children:[r.jsx("div",{className:"w-64 bg-gradient-to-b from-orange-50 to-orange-100 border-r-2 border-orange-200 p-4 shadow-lg",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:f,className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-sm",children:[r.jsx(ue,{className:"h-4 w-4 mr-2"}),"Auto-Format Script"]}),r.jsxs("button",{onClick:()=>P(!0),className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm",children:[r.jsx(ve,{className:"h-4 w-4 mr-2"}),"Scene Breakdown"]}),r.jsxs("button",{onClick:()=>F.success("ðŸ—“ï¸ Schedule feature coming soon!",{duration:2e3}),className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all shadow-sm",children:[r.jsx(ir,{className:"h-4 w-4 mr-2"}),"Schedule"]}),r.jsxs("button",{onClick:()=>F.success("ðŸ‘¥ Collaborate feature coming soon!",{duration:2e3}),className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-sm",children:[r.jsx(Fr,{className:"h-4 w-4 mr-2"}),"Collaborate"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Format Elements"}),r.jsx("div",{className:"space-y-1",children:Q.map(m=>{const h=m.icon;return r.jsxs("button",{onClick:()=>p(m.type),className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-800 rounded-lg transition-all group",title:`${m.label} (${m.shortcut})`,children:[r.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${m.color} group-hover:scale-110 transition-transform`}),r.jsx(h,{className:"h-4 w-4 mr-2 text-gray-500 group-hover:text-orange-600"}),r.jsx("span",{className:"flex-1 text-left",children:m.label}),r.jsx("span",{className:"text-xs text-gray-400 group-hover:text-orange-500",children:m.shortcut})]},m.type)})})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Export Options"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("button",{onClick:C,className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transition-all shadow-sm",children:[r.jsx(z,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),r.jsxs("button",{onClick:w,className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all shadow-sm",children:[r.jsx(z,{className:"h-4 w-4 mr-2"}),"Export TXT"]}),r.jsxs("button",{onClick:N,className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-purple-700 transition-all shadow-sm",children:[r.jsx(de,{className:"h-4 w-4 mr-2"}),"Export FDX"]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[r.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Help & Shortcuts"}),r.jsx("div",{className:"space-y-2",children:r.jsxs("button",{onClick:()=>j(!0),className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all shadow-sm",children:[r.jsx(Ne,{className:"h-4 w-4 mr-2"}),"Keyboard Shortcuts"]})})]})]})}),r.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:r.jsx("div",{className:"flex-1 p-8 flex flex-col",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-orange-200 flex-1 flex flex-col min-h-0",children:r.jsx(Fe,{ref:O,value:s,onChange:J,isPreviewMode:c,className:"flex-1 rounded-2xl"})})})})]}),I&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-2xl w-full mx-4",onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-orange-800",children:"Keyboard Shortcuts"}),r.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Formatting"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Scene Heading"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+1"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Action"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+2"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Character"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+3"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Dialogue"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+4"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Parenthetical"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+5"})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Actions"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Auto-Format"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+â‡§+F"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Export PDF"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+E"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Preview Mode"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+P"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Save"}),r.jsx("span",{className:"font-mono bg-gray-100 px-2 py-1 rounded",children:"âŒ˜+S"})]})]})]})]})]})}),T&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>P(!1),children:r.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 h-3/4 overflow-y-auto",onClick:m=>m.stopPropagation(),children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-2xl font-bold text-orange-800",children:"Scene Breakdown & Analysis"}),r.jsx("button",{onClick:()=>P(!1),className:"text-gray-500 hover:text-gray-700",children:"âœ•"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[r.jsx("h3",{className:"font-semibold text-orange-800 mb-2",children:"Script Statistics"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"Total Scenes:"})," ",s.split("EXT.").length+s.split("INT.").length-2]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Characters:"})," ",Array.from(new Set(s.match(/^[A-Z][A-Z ]+$/gm)||[])).length]}),r.jsxs("div",{children:[r.jsx("strong",{children:"Locations:"})," ",Array.from(new Set(s.match(/(EXT|INT)\. [A-Z ]+/g)||[])).length]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Scene List"}),r.jsx("div",{className:"space-y-2",children:s.split(`
`).filter(m=>m.match(/(EXT|INT)\./)).map((m,h)=>r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("span",{className:"font-semibold text-blue-600",children:["Scene ",h+1]}),r.jsx("span",{className:"ml-3 text-gray-700",children:m})]}),r.jsxs("div",{className:"text-sm text-gray-500",children:["Page ",Math.floor(h/3)+1]})]},h))})]})]})]})}),r.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-orange-200 border-t-2 border-orange-300 px-6 py-3",children:r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-6 text-orange-800",children:[r.jsx("span",{className:"font-semibold",children:"Format: Professional Screenplay"}),r.jsx("span",{children:"Font: Courier New 12pt"}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Cr,{className:"h-4 w-4 mr-1"}),"Press buttons to format + move cursor"]})]}),r.jsx("div",{className:"flex items-center space-x-6 text-orange-700",children:r.jsxs("span",{className:"font-bold text-orange-600 flex items-center",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"Professional Formatting System v3.0.0"]})})]})})]})}me.createRoot(document.getElementById("root")).render(r.jsx(K.StrictMode,{children:r.jsx(Dr,{})}));
//# sourceMappingURL=index-06efe97c.js.map
