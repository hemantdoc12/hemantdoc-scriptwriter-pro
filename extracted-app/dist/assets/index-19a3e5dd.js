var Ur=Object.defineProperty;var Hr=(r,e,s)=>e in r?Ur(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var Fe=(r,e,s)=>(Hr(r,typeof e!="symbol"?e+"":e,s),s);import{r as d,a as zr,g as Br,R as Nt,u as Ge,N as xe,b as _r,c as Wr,O as Vr,d as qr,f as Y,B as Gr}from"./vendor-7622f6d1.js";import{c as Xr,f as Kr,a as rt}from"./utils-1822e385.js";import{q as st,_ as nt}from"./ui-355b2679.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=s(a);fetch(a.href,o)}})();var ar={exports:{}},Xe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=d,Zr=Symbol.for("react.element"),Jr=Symbol.for("react.fragment"),Qr=Object.prototype.hasOwnProperty,es=Yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ts={key:!0,ref:!0,__self:!0,__source:!0};function or(r,e,s){var n,a={},o=null,i=null;s!==void 0&&(o=""+s),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Qr.call(e,n)&&!ts.hasOwnProperty(n)&&(a[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Zr,type:r,key:o,ref:i,props:a,_owner:es.current}}Xe.Fragment=Jr;Xe.jsx=or;Xe.jsxs=or;ar.exports=Xe;var t=ar.exports,mt={},Lt=zr;mt.createRoot=Lt.createRoot,mt.hydrateRoot=Lt.hydrateRoot;class Ke{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const s={listener:e};return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const St=typeof window>"u"||"Deno"in window;function K(){}function rs(r,e){return typeof r=="function"?r(e):r}function ss(r){return typeof r=="number"&&r>=0&&r!==1/0}function ns(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Le(r,e,s){return Ye(r)?typeof e=="function"?{...s,queryKey:r,queryFn:e}:{...e,queryKey:r}:r}function ne(r,e,s){return Ye(r)?[{...e,queryKey:r},s]:[r||{},e]}function Pt(r,e){const{type:s="all",exact:n,fetchStatus:a,predicate:o,queryKey:i,stale:l}=r;if(Ye(i)){if(n){if(e.queryHash!==Ct(i,e.options))return!1}else if(!ze(e.queryKey,i))return!1}if(s!=="all"){const c=e.isActive();if(s==="active"&&!c||s==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||typeof a<"u"&&a!==e.state.fetchStatus||o&&!o(e))}function Mt(r,e){const{exact:s,fetching:n,predicate:a,mutationKey:o}=r;if(Ye(o)){if(!e.options.mutationKey)return!1;if(s){if(de(e.options.mutationKey)!==de(o))return!1}else if(!ze(e.options.mutationKey,o))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||a&&!a(e))}function Ct(r,e){return((e==null?void 0:e.queryKeyHashFn)||de)(r)}function de(r){return JSON.stringify(r,(e,s)=>ht(s)?Object.keys(s).sort().reduce((n,a)=>(n[a]=s[a],n),{}):s)}function ze(r,e){return ir(r,e)}function ir(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?!Object.keys(e).some(s=>!ir(r[s],e[s])):!1}function lr(r,e){if(r===e)return r;const s=$t(r)&&$t(e);if(s||ht(r)&&ht(e)){const n=s?r.length:Object.keys(r).length,a=s?e:Object.keys(e),o=a.length,i=s?[]:{};let l=0;for(let c=0;c<o;c++){const u=s?c:a[c];i[u]=lr(r[u],e[u]),i[u]===r[u]&&l++}return n===o&&l===n?r:i}return e}function $t(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function ht(r){if(!Ut(r))return!1;const e=r.constructor;if(typeof e>"u")return!0;const s=e.prototype;return!(!Ut(s)||!s.hasOwnProperty("isPrototypeOf"))}function Ut(r){return Object.prototype.toString.call(r)==="[object Object]"}function Ye(r){return Array.isArray(r)}function cr(r){return new Promise(e=>{setTimeout(e,r)})}function Ht(r){cr(0).then(r)}function as(){if(typeof AbortController=="function")return new AbortController}function os(r,e,s){return s.isDataEqual!=null&&s.isDataEqual(r,e)?r:typeof s.structuralSharing=="function"?s.structuralSharing(r,e):s.structuralSharing!==!1?lr(r,e):e}class is extends Ke{constructor(){super(),this.setup=e=>{if(!St&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),()=>{window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var s;this.setup=e,(s=this.cleanup)==null||s.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const pt=new is,zt=["online","offline"];class ls extends Ke{constructor(){super(),this.setup=e=>{if(!St&&window.addEventListener){const s=()=>e();return zt.forEach(n=>{window.addEventListener(n,s,!1)}),()=>{zt.forEach(n=>{window.removeEventListener(n,s)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var s;this.setup=e,(s=this.cleanup)==null||s.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Be=new ls;function cs(r){return Math.min(1e3*2**r,3e4)}function Et(r){return(r??"online")==="online"?Be.isOnline():!0}class dr{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function at(r){return r instanceof dr}function ur(r){let e=!1,s=0,n=!1,a,o,i;const l=new Promise((p,g)=>{o=p,i=g}),c=p=>{n||(m(new dr(p)),r.abort==null||r.abort())},u=()=>{e=!0},h=()=>{e=!1},v=()=>!pt.isFocused()||r.networkMode!=="always"&&!Be.isOnline(),b=p=>{n||(n=!0,r.onSuccess==null||r.onSuccess(p),a==null||a(),o(p))},m=p=>{n||(n=!0,r.onError==null||r.onError(p),a==null||a(),i(p))},y=()=>new Promise(p=>{a=g=>{const f=n||!v();return f&&p(g),f},r.onPause==null||r.onPause()}).then(()=>{a=void 0,n||r.onContinue==null||r.onContinue()}),x=()=>{if(n)return;let p;try{p=r.fn()}catch(g){p=Promise.reject(g)}Promise.resolve(p).then(b).catch(g=>{var f,w;if(n)return;const T=(f=r.retry)!=null?f:3,S=(w=r.retryDelay)!=null?w:cs,j=typeof S=="function"?S(s,g):S,N=T===!0||typeof T=="number"&&s<T||typeof T=="function"&&T(s,g);if(e||!N){m(g);return}s++,r.onFail==null||r.onFail(s,g),cr(j).then(()=>{if(v())return y()}).then(()=>{e?m(g):x()})})};return Et(r.networkMode)?x():y().then(x),{promise:l,cancel:c,continue:()=>(a==null?void 0:a())?l:Promise.resolve(),cancelRetry:u,continueRetry:h}}const Tt=console;function ds(){let r=[],e=0,s=h=>{h()},n=h=>{h()};const a=h=>{let v;e++;try{v=h()}finally{e--,e||l()}return v},o=h=>{e?r.push(h):Ht(()=>{s(h)})},i=h=>(...v)=>{o(()=>{h(...v)})},l=()=>{const h=r;r=[],h.length&&Ht(()=>{n(()=>{h.forEach(v=>{s(v)})})})};return{batch:a,batchCalls:i,schedule:o,setNotifyFunction:h=>{s=h},setBatchNotifyFunction:h=>{n=h}}}const B=ds();class mr{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ss(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(St?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class us extends mr{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Tt,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||ms(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,s){const n=os(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),n}setState(e,s){this.dispatch({type:"setState",state:e,setStateOptions:s})}cancel(e){var s;const n=this.promise;return(s=this.retryer)==null||s.cancel(e),n?n.then(K).catch(K):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ns(this.state.dataUpdatedAt,e)}onFocus(){var e;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s&&s.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s&&s.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,s){var n,a;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&s!=null&&s.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return(o=this.retryer)==null||o.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const i=as(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};c(l);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(c(h),(n=this.options.behavior)==null||n.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=h.fetchOptions)==null?void 0:a.meta)){var v;this.dispatch({type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta})}const b=m=>{if(at(m)&&m.silent||this.dispatch({type:"error",error:m}),!at(m)){var y,x,p,g;(y=(x=this.cache.config).onError)==null||y.call(x,m,this),(p=(g=this.cache.config).onSettled)==null||p.call(g,this.state.data,m,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=ur({fn:h.fetchFn,abort:i==null?void 0:i.abort.bind(i),onSuccess:m=>{var y,x,p,g;if(typeof m>"u"){b(new Error(this.queryHash+" data is undefined"));return}this.setData(m),(y=(x=this.cache.config).onSuccess)==null||y.call(x,m,this),(p=(g=this.cache.config).onSettled)==null||p.call(g,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:b,onFail:(m,y)=>{this.dispatch({type:"failed",failureCount:m,error:y})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const s=n=>{var a,o;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(a=e.meta)!=null?a:null,fetchStatus:Et(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(o=e.dataUpdatedAt)!=null?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return at(i)&&i.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),B.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function ms(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,s=typeof e<"u",n=s?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:s?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"loading",fetchStatus:"idle"}}class hs extends Ke{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,s,n){var a;const o=s.queryKey,i=(a=s.queryHash)!=null?a:Ct(o,s);let l=this.get(i);return l||(l=new us({cache:this,logger:e.getLogger(),queryKey:o,queryHash:i,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(l)),l}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const s=this.queriesMap[e.queryHash];s&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),s===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){B.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,s){const[n]=ne(e,s);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(a=>Pt(n,a))}findAll(e,s){const[n]=ne(e,s);return Object.keys(n).length>0?this.queries.filter(a=>Pt(n,a)):this.queries}notify(e){B.batch(()=>{this.listeners.forEach(({listener:s})=>{s(e)})})}onFocus(){B.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){B.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class ps extends mr{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Tt,this.observers=[],this.state=e.state||fs(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(s=>s!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,s;return(e=(s=this.retryer)==null?void 0:s.continue())!=null?e:this.execute()}async execute(){const e=()=>{var N;return this.retryer=ur({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(A,$)=>{this.dispatch({type:"failed",failureCount:A,error:$})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(N=this.options.retry)!=null?N:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},s=this.state.status==="loading";try{var n,a,o,i,l,c,u,h;if(!s){var v,b,m,y;this.dispatch({type:"loading",variables:this.options.variables}),await((v=(b=this.mutationCache.config).onMutate)==null?void 0:v.call(b,this.state.variables,this));const A=await((m=(y=this.options).onMutate)==null?void 0:m.call(y,this.state.variables));A!==this.state.context&&this.dispatch({type:"loading",context:A,variables:this.state.variables})}const N=await e();return await((n=(a=this.mutationCache.config).onSuccess)==null?void 0:n.call(a,N,this.state.variables,this.state.context,this)),await((o=(i=this.options).onSuccess)==null?void 0:o.call(i,N,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,N,null,this.state.variables,this.state.context,this)),await((u=(h=this.options).onSettled)==null?void 0:u.call(h,N,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:N}),N}catch(N){try{var x,p,g,f,w,T,S,j;throw await((x=(p=this.mutationCache.config).onError)==null?void 0:x.call(p,N,this.state.variables,this.state.context,this)),await((g=(f=this.options).onError)==null?void 0:g.call(f,N,this.state.variables,this.state.context)),await((w=(T=this.mutationCache.config).onSettled)==null?void 0:w.call(T,void 0,N,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,void 0,N,this.state.variables,this.state.context)),N}finally{this.dispatch({type:"error",error:N})}}}dispatch(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Et(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=s(this.state),B.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function fs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class gs extends Ke{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,s,n){const a=new ps({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(s),state:n,defaultOptions:s.mutationKey?e.getMutationDefaults(s.mutationKey):void 0});return this.add(a),a}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(s=>s!==e),this.notify({type:"removed",mutation:e})}clear(){B.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(s=>Mt(e,s))}findAll(e){return this.mutations.filter(s=>Mt(e,s))}notify(e){B.batch(()=>{this.listeners.forEach(({listener:s})=>{s(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const s=this.mutations.filter(n=>n.state.isPaused);return B.batch(()=>s.reduce((n,a)=>n.then(()=>a.continue().catch(K)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function xs(){return{onFetch:r=>{r.fetchFn=()=>{var e,s,n,a,o,i;const l=(e=r.fetchOptions)==null||(s=e.meta)==null?void 0:s.refetchPage,c=(n=r.fetchOptions)==null||(a=n.meta)==null?void 0:a.fetchMore,u=c==null?void 0:c.pageParam,h=(c==null?void 0:c.direction)==="forward",v=(c==null?void 0:c.direction)==="backward",b=((o=r.state.data)==null?void 0:o.pages)||[],m=((i=r.state.data)==null?void 0:i.pageParams)||[];let y=m,x=!1;const p=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>{var N;if((N=r.signal)!=null&&N.aborted)x=!0;else{var A;(A=r.signal)==null||A.addEventListener("abort",()=>{x=!0})}return r.signal}})},g=r.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+r.options.queryHash+"'")),f=(j,N,A,$)=>(y=$?[N,...y]:[...y,N],$?[A,...j]:[...j,A]),w=(j,N,A,$)=>{if(x)return Promise.reject("Cancelled");if(typeof A>"u"&&!N&&j.length)return Promise.resolve(j);const H={queryKey:r.queryKey,pageParam:A,meta:r.options.meta};p(H);const q=g(H);return Promise.resolve(q).then(J=>f(j,A,J,$))};let T;if(!b.length)T=w([]);else if(h){const j=typeof u<"u",N=j?u:Bt(r.options,b);T=w(b,j,N)}else if(v){const j=typeof u<"u",N=j?u:ys(r.options,b);T=w(b,j,N,!0)}else{y=[];const j=typeof r.options.getNextPageParam>"u";T=(l&&b[0]?l(b[0],0,b):!0)?w([],j,m[0]):Promise.resolve(f([],m[0],b[0]));for(let A=1;A<b.length;A++)T=T.then($=>{if(l&&b[A]?l(b[A],A,b):!0){const q=j?m[A]:Bt(r.options,$);return w($,j,q)}return Promise.resolve(f($,m[A],b[A]))})}return T.then(j=>({pages:j,pageParams:y}))}}}}function Bt(r,e){return r.getNextPageParam==null?void 0:r.getNextPageParam(e[e.length-1],e)}function ys(r,e){return r.getPreviousPageParam==null?void 0:r.getPreviousPageParam(e[0],e)}class bs{constructor(e={}){this.queryCache=e.queryCache||new hs,this.mutationCache=e.mutationCache||new gs,this.logger=e.logger||Tt,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=pt.subscribe(()=>{pt.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Be.subscribe(()=>{Be.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,s;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(s=this.unsubscribeOnline)==null||s.call(this),this.unsubscribeOnline=void 0)}isFetching(e,s){const[n]=ne(e,s);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,s){var n;return(n=this.queryCache.find(e,s))==null?void 0:n.state.data}ensureQueryData(e,s,n){const a=Le(e,s,n),o=this.getQueryData(a.queryKey);return o?Promise.resolve(o):this.fetchQuery(a)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:s,state:n})=>{const a=n.data;return[s,a]})}setQueryData(e,s,n){const a=this.queryCache.find(e),o=a==null?void 0:a.state.data,i=rs(s,o);if(typeof i>"u")return;const l=Le(e),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(i,{...n,manual:!0})}setQueriesData(e,s,n){return B.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,s,n)]))}getQueryState(e,s){var n;return(n=this.queryCache.find(e,s))==null?void 0:n.state}removeQueries(e,s){const[n]=ne(e,s),a=this.queryCache;B.batch(()=>{a.findAll(n).forEach(o=>{a.remove(o)})})}resetQueries(e,s,n){const[a,o]=ne(e,s,n),i=this.queryCache,l={type:"active",...a};return B.batch(()=>(i.findAll(a).forEach(c=>{c.reset()}),this.refetchQueries(l,o)))}cancelQueries(e,s,n){const[a,o={}]=ne(e,s,n);typeof o.revert>"u"&&(o.revert=!0);const i=B.batch(()=>this.queryCache.findAll(a).map(l=>l.cancel(o)));return Promise.all(i).then(K).catch(K)}invalidateQueries(e,s,n){const[a,o]=ne(e,s,n);return B.batch(()=>{var i,l;if(this.queryCache.findAll(a).forEach(u=>{u.invalidate()}),a.refetchType==="none")return Promise.resolve();const c={...a,type:(i=(l=a.refetchType)!=null?l:a.type)!=null?i:"active"};return this.refetchQueries(c,o)})}refetchQueries(e,s,n){const[a,o]=ne(e,s,n),i=B.batch(()=>this.queryCache.findAll(a).filter(c=>!c.isDisabled()).map(c=>{var u;return c.fetch(void 0,{...o,cancelRefetch:(u=o==null?void 0:o.cancelRefetch)!=null?u:!0,meta:{refetchPage:a.refetchPage}})}));let l=Promise.all(i).then(K);return o!=null&&o.throwOnError||(l=l.catch(K)),l}fetchQuery(e,s,n){const a=Le(e,s,n),o=this.defaultQueryOptions(a);typeof o.retry>"u"&&(o.retry=!1);const i=this.queryCache.build(this,o);return i.isStaleByTime(o.staleTime)?i.fetch(o):Promise.resolve(i.state.data)}prefetchQuery(e,s,n){return this.fetchQuery(e,s,n).then(K).catch(K)}fetchInfiniteQuery(e,s,n){const a=Le(e,s,n);return a.behavior=xs(),this.fetchQuery(a)}prefetchInfiniteQuery(e,s,n){return this.fetchInfiniteQuery(e,s,n).then(K).catch(K)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,s){const n=this.queryDefaults.find(a=>de(e)===de(a.queryKey));n?n.defaultOptions=s:this.queryDefaults.push({queryKey:e,defaultOptions:s})}getQueryDefaults(e){if(!e)return;const s=this.queryDefaults.find(n=>ze(e,n.queryKey));return s==null?void 0:s.defaultOptions}setMutationDefaults(e,s){const n=this.mutationDefaults.find(a=>de(e)===de(a.mutationKey));n?n.defaultOptions=s:this.mutationDefaults.push({mutationKey:e,defaultOptions:s})}getMutationDefaults(e){if(!e)return;const s=this.mutationDefaults.find(n=>ze(e,n.mutationKey));return s==null?void 0:s.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const s={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!s.queryHash&&s.queryKey&&(s.queryHash=Ct(s.queryKey,s)),typeof s.refetchOnReconnect>"u"&&(s.refetchOnReconnect=s.networkMode!=="always"),typeof s.useErrorBoundary>"u"&&(s.useErrorBoundary=!!s.suspense),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var hr={exports:{}},pr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=d;function vs(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var ws=typeof Object.is=="function"?Object.is:vs,js=ve.useState,Ns=ve.useEffect,Ss=ve.useLayoutEffect,Cs=ve.useDebugValue;function Es(r,e){var s=e(),n=js({inst:{value:s,getSnapshot:e}}),a=n[0].inst,o=n[1];return Ss(function(){a.value=s,a.getSnapshot=e,ot(a)&&o({inst:a})},[r,s,e]),Ns(function(){return ot(a)&&o({inst:a}),r(function(){ot(a)&&o({inst:a})})},[r]),Cs(s),s}function ot(r){var e=r.getSnapshot;r=r.value;try{var s=e();return!ws(r,s)}catch{return!0}}function Ts(r,e){return e()}var As=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ts:Es;pr.useSyncExternalStore=ve.useSyncExternalStore!==void 0?ve.useSyncExternalStore:As;hr.exports=pr;var Os=hr.exports;const _t=d.createContext(void 0),ks=d.createContext(!1);function Is(r,e){return r||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=_t),window.ReactQueryClientContext):_t)}const Rs=({client:r,children:e,context:s,contextSharing:n=!1})=>{d.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]);const a=Is(s,n);return d.createElement(ks.Provider,{value:!s&&n},d.createElement(a.Provider,{value:r},e))},Wt=r=>{let e;const s=new Set,n=(h,v)=>{const b=typeof h=="function"?h(e):h;if(!Object.is(b,e)){const m=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),s.forEach(y=>y(e,m))}},a=()=>e,c={setState:n,getState:a,getInitialState:()=>u,subscribe:h=>(s.add(h),()=>s.delete(h)),destroy:()=>{s.clear()}},u=e=r(n,a,c);return c},Ds=r=>r?Wt(r):Wt;var fr={exports:{}},gr={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=d,Fs=Os;function Ls(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var Ps=typeof Object.is=="function"?Object.is:Ls,Ms=Fs.useSyncExternalStore,$s=Ze.useRef,Us=Ze.useEffect,Hs=Ze.useMemo,zs=Ze.useDebugValue;gr.useSyncExternalStoreWithSelector=function(r,e,s,n,a){var o=$s(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=Hs(function(){function c(m){if(!u){if(u=!0,h=m,m=n(m),a!==void 0&&i.hasValue){var y=i.value;if(a(y,m))return v=y}return v=m}if(y=v,Ps(h,m))return y;var x=n(m);return a!==void 0&&a(y,x)?(h=m,y):(h=m,v=x)}var u=!1,h,v,b=s===void 0?null:s;return[function(){return c(e())},b===null?void 0:function(){return c(b())}]},[e,s,n,a]);var l=Ms(r,o[0],o[1]);return Us(function(){i.hasValue=!0,i.value=l},[l]),zs(l),l};fr.exports=gr;var Bs=fr.exports;const _s=Br(Bs),{useDebugValue:Ws}=Nt,{useSyncExternalStoreWithSelector:Vs}=_s;const qs=r=>r;function Gs(r,e=qs,s){const n=Vs(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,s);return Ws(n),n}const Vt=r=>{const e=typeof r=="function"?Ds(r):r,s=(n,a)=>Gs(e,n,a);return Object.assign(s,e),s},xr=r=>r?Vt(r):Vt,ft=new Map,Pe=r=>{const e=ft.get(r);return e?Object.fromEntries(Object.entries(e.stores).map(([s,n])=>[s,n.getState()])):{}},Xs=(r,e,s)=>{if(r===void 0)return{type:"untracked",connection:e.connect(s)};const n=ft.get(s.name);if(n)return{type:"tracked",store:r,...n};const a={connection:e.connect(s),stores:{}};return ft.set(s.name,a),{type:"tracked",store:r,...a}},Ks=(r,e={})=>(s,n,a)=>{const{enabled:o,anonymousActionType:i,store:l,...c}=e;let u;try{u=(o??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return r(s,n,a);const{connection:h,...v}=Xs(l,u,c);let b=!0;a.setState=(x,p,g)=>{const f=s(x,p);if(!b)return f;const w=g===void 0?{type:i||"anonymous"}:typeof g=="string"?{type:g}:g;return l===void 0?(h==null||h.send(w,n()),f):(h==null||h.send({...w,type:`${l}/${w.type}`},{...Pe(c.name),[l]:a.getState()}),f)};const m=(...x)=>{const p=b;b=!1,s(...x),b=p},y=r(a.setState,n,a);if(v.type==="untracked"?h==null||h.init(y):(v.stores[v.store]=a,h==null||h.init(Object.fromEntries(Object.entries(v.stores).map(([x,p])=>[x,x===v.store?y:p.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let x=!1;const p=a.dispatch;a.dispatch=(...g)=>{p(...g)}}return h.subscribe(x=>{var p;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return it(x.payload,g=>{if(g.type==="__setState"){if(l===void 0){m(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const f=g.state[l];if(f==null)return;JSON.stringify(a.getState())!==JSON.stringify(f)&&m(f);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(g)});case"DISPATCH":switch(x.payload.type){case"RESET":return m(y),l===void 0?h==null?void 0:h.init(a.getState()):h==null?void 0:h.init(Pe(c.name));case"COMMIT":if(l===void 0){h==null||h.init(a.getState());return}return h==null?void 0:h.init(Pe(c.name));case"ROLLBACK":return it(x.state,g=>{if(l===void 0){m(g),h==null||h.init(a.getState());return}m(g[l]),h==null||h.init(Pe(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return it(x.state,g=>{if(l===void 0){m(g);return}JSON.stringify(a.getState())!==JSON.stringify(g[l])&&m(g[l])});case"IMPORT_STATE":{const{nextLiftedState:g}=x.payload,f=(p=g.computedStates.slice(-1)[0])==null?void 0:p.state;if(!f)return;m(l===void 0?f:f[l]),h==null||h.send(null,g);return}case"PAUSE_RECORDING":return b=!b}return}}),y},Ys=Ks,it=(r,e)=>{let s;try{s=JSON.parse(r)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}s!==void 0&&e(s)};function Zs(r,e){let s;try{s=r()}catch{return}return{getItem:a=>{var o;const i=c=>c===null?null:JSON.parse(c,e==null?void 0:e.reviver),l=(o=s.getItem(a))!=null?o:null;return l instanceof Promise?l.then(i):i(l)},setItem:(a,o)=>s.setItem(a,JSON.stringify(o,e==null?void 0:e.replacer)),removeItem:a=>s.removeItem(a)}}const Oe=r=>e=>{try{const s=r(e);return s instanceof Promise?s:{then(n){return Oe(n)(s)},catch(n){return this}}}catch(s){return{then(n){return this},catch(n){return Oe(n)(s)}}}},Js=(r,e)=>(s,n,a)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...e},i=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return r((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),s(...p)},n,a);const h=Oe(o.serialize),v=()=>{const p=o.partialize({...n()});let g;const f=h({state:p,version:o.version}).then(w=>u.setItem(o.name,w)).catch(w=>{g=w});if(g)throw g;return f},b=a.setState;a.setState=(p,g)=>{b(p,g),v()};const m=r((...p)=>{s(...p),v()},n,a);let y;const x=()=>{var p;if(!u)return;i=!1,l.forEach(f=>f(n()));const g=((p=o.onRehydrateStorage)==null?void 0:p.call(o,n()))||void 0;return Oe(u.getItem.bind(u))(o.name).then(f=>{if(f)return o.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return o.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var w;return y=o.merge(f,(w=n())!=null?w:m),s(y,!0),v()}).then(()=>{g==null||g(y,void 0),i=!0,c.forEach(f=>f(y))}).catch(f=>{g==null||g(void 0,f)})};return a.persist={setOptions:p=>{o={...o,...p},p.getStorage&&(u=p.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>i,onHydrate:p=>(l.add(p),()=>{l.delete(p)}),onFinishHydration:p=>(c.add(p),()=>{c.delete(p)})},x(),y||m},Qs=(r,e)=>(s,n,a)=>{let o={storage:Zs(()=>localStorage),partialize:x=>x,version:0,merge:(x,p)=>({...p,...x}),...e},i=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return r((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),s(...x)},n,a);const h=()=>{const x=o.partialize({...n()});return u.setItem(o.name,{state:x,version:o.version})},v=a.setState;a.setState=(x,p)=>{v(x,p),h()};const b=r((...x)=>{s(...x),h()},n,a);a.getInitialState=()=>b;let m;const y=()=>{var x,p;if(!u)return;i=!1,l.forEach(f=>{var w;return f((w=n())!=null?w:b)});const g=((p=o.onRehydrateStorage)==null?void 0:p.call(o,(x=n())!=null?x:b))||void 0;return Oe(u.getItem.bind(u))(o.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==o.version){if(o.migrate)return[!0,o.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var w;const[T,S]=f;if(m=o.merge(S,(w=n())!=null?w:b),s(m,!0),T)return h()}).then(()=>{g==null||g(m,void 0),m=n(),i=!0,c.forEach(f=>f(m))}).catch(f=>{g==null||g(void 0,f)})};return a.persist={setOptions:x=>{o={...o,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},o.skipHydration||y(),m||b},en=(r,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?Js(r,e):Qs(r,e),tn=en,ke=xr()(tn((r,e)=>({user:null,token:null,isLoading:!1,isAuthenticated:!1,login:async(s,n)=>{r({isLoading:!0});try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error("Invalid email format");const o={id:"standalone-user",name:s.split("@")[0].charAt(0).toUpperCase()+s.split("@")[0].slice(1),email:s,role:"admin",avatar:`https://ui-avatars.com/api/?name=${s.split("@")[0]}&background=2563eb&color=fff`,preferences:{theme:"light",scriptFont:"Courier New",scriptFontSize:12},subscription:{plan:"enterprise",status:"active"},createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()},i=`standalone-token-${Date.now()}`;return localStorage.setItem("hemantdoc_user",JSON.stringify(o)),localStorage.setItem("hemantdoc_token",i),r({user:o,token:i,isAuthenticated:!0,isLoading:!1}),console.log("✅ Standalone login successful:",o),!0}catch(a){return console.error("Login error:",a),r({isLoading:!1}),!1}},register:async(s,n,a)=>{r({isLoading:!0});try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||!s.trim())throw new Error("Invalid name or email format");const i={id:`user-${Date.now()}`,name:s.trim(),email:n,role:"admin",avatar:`https://ui-avatars.com/api/?name=${s}&background=2563eb&color=fff`,preferences:{theme:"light",scriptFont:"Courier New",scriptFontSize:12},subscription:{plan:"enterprise",status:"active"},createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString()},l=`standalone-token-${Date.now()}`;return localStorage.setItem("hemantdoc_user",JSON.stringify(i)),localStorage.setItem("hemantdoc_token",l),r({user:i,token:l,isAuthenticated:!0,isLoading:!1}),console.log("✅ Standalone registration successful:",i),!0}catch(o){return console.error("Registration error:",o),r({isLoading:!1}),!1}},logout:()=>{localStorage.removeItem("hemantdoc_user"),localStorage.removeItem("hemantdoc_token"),r({user:null,token:null,isAuthenticated:!1}),console.log("✅ User logged out")},updateProfile:async s=>{const{user:n}=e();if(n)try{const a={...n,...s};localStorage.setItem("hemantdoc_user",JSON.stringify(a)),r({user:a}),console.log("✅ Profile updated:",a)}catch(a){throw console.error("Profile update error:",a),a}},initializeAuth:()=>{try{const s=localStorage.getItem("hemantdoc_user"),n=localStorage.getItem("hemantdoc_token");if(s&&n){const a=JSON.parse(s);r({user:a,token:n,isAuthenticated:!0}),console.log("✅ Auto-login successful:",a)}}catch(s){console.error("Auto-login failed:",s),localStorage.removeItem("hemantdoc_user"),localStorage.removeItem("hemantdoc_token")}},refreshToken:async()=>{const{user:s,token:n}=e();return!s||!n?!1:(console.log("✅ Token refresh (standalone mode)"),!0)}}),{name:"auth-store",partialize:r=>({user:r.user,token:r.token,isAuthenticated:r.isAuthenticated})}));let rn={data:""},sn=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||rn,nn=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,an=/\/\*[^]*?\*\/|  +/g,qt=/\n+/g,ae=(r,e)=>{let s="",n="",a="";for(let o in r){let i=r[o];o[0]=="@"?o[1]=="i"?s=o+" "+i+";":n+=o[1]=="f"?ae(i,o):o+"{"+ae(i,o[1]=="k"?"":e)+"}":typeof i=="object"?n+=ae(i,e?e.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=ae.p?ae.p(o,i):o+":"+i+";")}return s+(e&&a?e+"{"+a+"}":a)+n},ee={},yr=r=>{if(typeof r=="object"){let e="";for(let s in r)e+=s+yr(r[s]);return e}return r},on=(r,e,s,n,a)=>{let o=yr(r),i=ee[o]||(ee[o]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(o));if(!ee[i]){let c=o!==r?r:(u=>{let h,v,b=[{}];for(;h=nn.exec(u.replace(an,""));)h[4]?b.shift():h[3]?(v=h[3].replace(qt," ").trim(),b.unshift(b[0][v]=b[0][v]||{})):b[0][h[1]]=h[2].replace(qt," ").trim();return b[0]})(r);ee[i]=ae(a?{["@keyframes "+i]:c}:c,s?"":"."+i)}let l=s&&ee.g?ee.g:null;return s&&(ee.g=ee[i]),((c,u,h,v)=>{v?u.data=u.data.replace(v,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(ee[i],e,n,l),i},ln=(r,e,s)=>r.reduce((n,a,o)=>{let i=e[o];if(i&&i.call){let l=i(s),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":ae(l,""):l===!1?"":l}return n+a+(i??"")},"");function Je(r){let e=this||{},s=r.call?r(e.p):r;return on(s.unshift?s.raw?ln(s,[].slice.call(arguments,1),e.p):s.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):s,sn(e.target),e.g,e.o,e.k)}let br,gt,xt;Je.bind({g:1});let re=Je.bind({k:1});function cn(r,e,s,n){ae.p=e,br=r,gt=s,xt=n}function ie(r,e){let s=this||{};return function(){let n=arguments;function a(o,i){let l=Object.assign({},o),c=l.className||a.className;s.p=Object.assign({theme:gt&&gt()},l),s.o=/ *go\d+/.test(c),l.className=Je.apply(s,n)+(c?" "+c:""),e&&(l.ref=i);let u=r;return r[0]&&(u=l.as||r,delete l.as),xt&&u[0]&&xt(l),br(u,l)}return e?e(a):a}}var dn=r=>typeof r=="function",_e=(r,e)=>dn(r)?r(e):r,un=(()=>{let r=0;return()=>(++r).toString()})(),vr=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),mn=20,wr=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,mn)};case 1:return{...r,toasts:r.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:s}=e;return wr(r,{type:r.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:n}=e;return{...r,toasts:r.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let a=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},He=[],ue={toasts:[],pausedAt:void 0},he=r=>{ue=wr(ue,r),He.forEach(e=>{e(ue)})},hn={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pn=(r={})=>{let[e,s]=d.useState(ue),n=d.useRef(ue);d.useEffect(()=>(n.current!==ue&&s(ue),He.push(s),()=>{let o=He.indexOf(s);o>-1&&He.splice(o,1)}),[]);let a=e.toasts.map(o=>{var i,l,c;return{...r,...r[o.type],...o,removeDelay:o.removeDelay||((i=r[o.type])==null?void 0:i.removeDelay)||(r==null?void 0:r.removeDelay),duration:o.duration||((l=r[o.type])==null?void 0:l.duration)||(r==null?void 0:r.duration)||hn[o.type],style:{...r.style,...(c=r[o.type])==null?void 0:c.style,...o.style}}});return{...e,toasts:a}},fn=(r,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...s,id:(s==null?void 0:s.id)||un()}),Ie=r=>(e,s)=>{let n=fn(e,r,s);return he({type:2,toast:n}),n.id},_=(r,e)=>Ie("blank")(r,e);_.error=Ie("error");_.success=Ie("success");_.loading=Ie("loading");_.custom=Ie("custom");_.dismiss=r=>{he({type:3,toastId:r})};_.remove=r=>he({type:4,toastId:r});_.promise=(r,e,s)=>{let n=_.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof r=="function"&&(r=r()),r.then(a=>{let o=e.success?_e(e.success,a):void 0;return o?_.success(o,{id:n,...s,...s==null?void 0:s.success}):_.dismiss(n),a}).catch(a=>{let o=e.error?_e(e.error,a):void 0;o?_.error(o,{id:n,...s,...s==null?void 0:s.error}):_.dismiss(n)}),r};var gn=(r,e)=>{he({type:1,toast:{id:r,height:e}})},xn=()=>{he({type:5,time:Date.now()})},Ae=new Map,yn=1e3,bn=(r,e=yn)=>{if(Ae.has(r))return;let s=setTimeout(()=>{Ae.delete(r),he({type:4,toastId:r})},e);Ae.set(r,s)},vn=r=>{let{toasts:e,pausedAt:s}=pn(r);d.useEffect(()=>{if(s)return;let o=Date.now(),i=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&_.dismiss(l.id);return}return setTimeout(()=>_.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[e,s]);let n=d.useCallback(()=>{s&&he({type:6,time:Date.now()})},[s]),a=d.useCallback((o,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},h=e.filter(m=>(m.position||u)===(o.position||u)&&m.height),v=h.findIndex(m=>m.id===o.id),b=h.filter((m,y)=>y<v&&m.visible).length;return h.filter(m=>m.visible).slice(...l?[b+1]:[0,b]).reduce((m,y)=>m+(y.height||0)+c,0)},[e]);return d.useEffect(()=>{e.forEach(o=>{if(o.dismissed)bn(o.id,o.removeDelay);else{let i=Ae.get(o.id);i&&(clearTimeout(i),Ae.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:gn,startPause:xn,endPause:n,calculateOffset:a}}},wn=re`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jn=re`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Nn=re`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Sn=ie("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jn} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Nn} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Cn=re`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,En=ie("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Cn} 1s linear infinite;
`,Tn=re`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,An=re`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,On=ie("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tn} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${An} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,kn=ie("div")`
  position: absolute;
`,In=ie("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Rn=re`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dn=ie("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Rn} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Fn=({toast:r})=>{let{icon:e,type:s,iconTheme:n}=r;return e!==void 0?typeof e=="string"?d.createElement(Dn,null,e):e:s==="blank"?null:d.createElement(In,null,d.createElement(En,{...n}),s!=="loading"&&d.createElement(kn,null,s==="error"?d.createElement(Sn,{...n}):d.createElement(On,{...n})))},Ln=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Pn=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Mn="0%{opacity:0;} 100%{opacity:1;}",$n="0%{opacity:1;} 100%{opacity:0;}",Un=ie("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Hn=ie("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zn=(r,e)=>{let s=r.includes("top")?1:-1,[n,a]=vr()?[Mn,$n]:[Ln(s),Pn(s)];return{animation:e?`${re(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${re(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Bn=d.memo(({toast:r,position:e,style:s,children:n})=>{let a=r.height?zn(r.position||e||"top-center",r.visible):{opacity:0},o=d.createElement(Fn,{toast:r}),i=d.createElement(Hn,{...r.ariaProps},_e(r.message,r));return d.createElement(Un,{className:r.className,style:{...a,...s,...r.style}},typeof n=="function"?n({icon:o,message:i}):d.createElement(d.Fragment,null,o,i))});cn(d.createElement);var _n=({id:r,className:e,style:s,onHeightUpdate:n,children:a})=>{let o=d.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(r,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return d.createElement("div",{ref:o,className:e,style:s},a)},Wn=(r,e)=>{let s=r.includes("top"),n=s?{top:0}:{bottom:0},a=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...n,...a}},Vn=Je`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Me=16,qn=({reverseOrder:r,position:e="top-center",toastOptions:s,gutter:n,children:a,containerStyle:o,containerClassName:i})=>{let{toasts:l,handlers:c}=vn(s);return d.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Me,left:Me,right:Me,bottom:Me,pointerEvents:"none",...o},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let h=u.position||e,v=c.calculateOffset(u,{reverseOrder:r,gutter:n,defaultPosition:e}),b=Wn(h,v);return d.createElement(_n,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?Vn:"",style:b},u.type==="custom"?_e(u.message,u):a?a(u):d.createElement(Bn,{toast:u,position:h}))}))},F=_;function Gn(){for(var r=0,e,s,n="";r<arguments.length;)(e=arguments[r++])&&(s=jr(e))&&(n&&(n+=" "),n+=s);return n}function jr(r){if(typeof r=="string")return r;for(var e,s="",n=0;n<r.length;n++)r[n]&&(e=jr(r[n]))&&(s&&(s+=" "),s+=e);return s}var At="-";function Xn(r){var e=Yn(r),s=r.conflictingClassGroups,n=r.conflictingClassGroupModifiers,a=n===void 0?{}:n;function o(l){var c=l.split(At);return c[0]===""&&c.length!==1&&c.shift(),Nr(c,e)||Kn(l)}function i(l,c){var u=s[l]||[];return c&&a[l]?[].concat(u,a[l]):u}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function Nr(r,e){var i;if(r.length===0)return e.classGroupId;var s=r[0],n=e.nextPart.get(s),a=n?Nr(r.slice(1),n):void 0;if(a)return a;if(e.validators.length!==0){var o=r.join(At);return(i=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:i.classGroupId}}var Gt=/^\[(.+)\]$/;function Kn(r){if(Gt.test(r)){var e=Gt.exec(r)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}}function Yn(r){var e=r.theme,s=r.prefix,n={nextPart:new Map,validators:[]},a=Jn(Object.entries(r.classGroups),s);return a.forEach(function(o){var i=o[0],l=o[1];yt(l,n,i,e)}),n}function yt(r,e,s,n){r.forEach(function(a){if(typeof a=="string"){var o=a===""?e:Xt(e,a);o.classGroupId=s;return}if(typeof a=="function"){if(Zn(a)){yt(a(n),e,s,n);return}e.validators.push({validator:a,classGroupId:s});return}Object.entries(a).forEach(function(i){var l=i[0],c=i[1];yt(c,Xt(e,l),s,n)})})}function Xt(r,e){var s=r;return e.split(At).forEach(function(n){s.nextPart.has(n)||s.nextPart.set(n,{nextPart:new Map,validators:[]}),s=s.nextPart.get(n)}),s}function Zn(r){return r.isThemeGetter}function Jn(r,e){return e?r.map(function(s){var n=s[0],a=s[1],o=a.map(function(i){return typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(function(l){var c=l[0],u=l[1];return[e+c,u]})):i});return[n,o]}):r}function Qn(r){if(r<1)return{get:function(){},set:function(){}};var e=0,s=new Map,n=new Map;function a(o,i){s.set(o,i),e++,e>r&&(e=0,n=s,s=new Map)}return{get:function(i){var l=s.get(i);if(l!==void 0)return l;if((l=n.get(i))!==void 0)return a(i,l),l},set:function(i,l){s.has(i)?s.set(i,l):a(i,l)}}}var Sr="!";function ea(r){var e=r.separator||":",s=e.length===1,n=e[0],a=e.length;return function(i){for(var l=[],c=0,u=0,h,v=0;v<i.length;v++){var b=i[v];if(c===0){if(b===n&&(s||i.slice(v,v+a)===e)){l.push(i.slice(u,v)),u=v+a;continue}if(b==="/"){h=v;continue}}b==="["?c++:b==="]"&&c--}var m=l.length===0?i:i.substring(u),y=m.startsWith(Sr),x=y?m.substring(1):m,p=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:p}}}function ta(r){if(r.length<=1)return r;var e=[],s=[];return r.forEach(function(n){var a=n[0]==="[";a?(e.push.apply(e,s.sort().concat([n])),s=[]):s.push(n)}),e.push.apply(e,s.sort()),e}function ra(r){return{cache:Qn(r.cacheSize),splitModifiers:ea(r),...Xn(r)}}var sa=/\s+/;function na(r,e){var s=e.splitModifiers,n=e.getClassGroupId,a=e.getConflictingClassGroupIds,o=new Set;return r.trim().split(sa).map(function(i){var l=s(i),c=l.modifiers,u=l.hasImportantModifier,h=l.baseClassName,v=l.maybePostfixModifierPosition,b=n(v?h.substring(0,v):h),m=!!v;if(!b){if(!v)return{isTailwindClass:!1,originalClassName:i};if(b=n(h),!b)return{isTailwindClass:!1,originalClassName:i};m=!1}var y=ta(c).join(":"),x=u?y+Sr:y;return{isTailwindClass:!0,modifierId:x,classGroupId:b,originalClassName:i,hasPostfixModifier:m}}).reverse().filter(function(i){if(!i.isTailwindClass)return!0;var l=i.modifierId,c=i.classGroupId,u=i.hasPostfixModifier,h=l+c;return o.has(h)?!1:(o.add(h),a(c,u).forEach(function(v){return o.add(l+v)}),!0)}).reverse().map(function(i){return i.originalClassName}).join(" ")}function aa(){for(var r=arguments.length,e=new Array(r),s=0;s<r;s++)e[s]=arguments[s];var n,a,o,i=l;function l(u){var h=e[0],v=e.slice(1),b=v.reduce(function(m,y){return y(m)},h());return n=ra(b),a=n.cache.get,o=n.cache.set,i=c,c(u)}function c(u){var h=a(u);if(h)return h;var v=na(u,n);return o(u,v),v}return function(){return i(Gn.apply(null,arguments))}}function M(r){var e=function(n){return n[r]||[]};return e.isThemeGetter=!0,e}var Cr=/^\[(?:([a-z-]+):)?(.+)\]$/i,oa=/^\d+\/\d+$/,ia=new Set(["px","full","screen"]),la=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ca=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,da=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function X(r){return me(r)||ia.has(r)||oa.test(r)||bt(r)}function bt(r){return pe(r,"length",ga)}function ua(r){return pe(r,"size",Er)}function ma(r){return pe(r,"position",Er)}function ha(r){return pe(r,"url",xa)}function $e(r){return pe(r,"number",me)}function me(r){return!Number.isNaN(Number(r))}function pa(r){return r.endsWith("%")&&me(r.slice(0,-1))}function Ee(r){return Kt(r)||pe(r,"number",Kt)}function R(r){return Cr.test(r)}function Te(){return!0}function se(r){return la.test(r)}function fa(r){return pe(r,"",ya)}function pe(r,e,s){var n=Cr.exec(r);return n?n[1]?n[1]===e:s(n[2]):!1}function ga(r){return ca.test(r)}function Er(){return!1}function xa(r){return r.startsWith("url(")}function Kt(r){return Number.isInteger(Number(r))}function ya(r){return da.test(r)}function ba(){var r=M("colors"),e=M("spacing"),s=M("blur"),n=M("brightness"),a=M("borderColor"),o=M("borderRadius"),i=M("borderSpacing"),l=M("borderWidth"),c=M("contrast"),u=M("grayscale"),h=M("hueRotate"),v=M("invert"),b=M("gap"),m=M("gradientColorStops"),y=M("gradientColorStopPositions"),x=M("inset"),p=M("margin"),g=M("opacity"),f=M("padding"),w=M("saturate"),T=M("scale"),S=M("sepia"),j=M("skew"),N=M("space"),A=M("translate"),$=function(){return["auto","contain","none"]},H=function(){return["auto","hidden","clip","visible","scroll"]},q=function(){return["auto",R,e]},D=function(){return[R,e]},J=function(){return["",X]},Q=function(){return["auto",me,R]},E=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},I=function(){return["solid","dashed","dotted","double","none"]},U=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},V=function(){return["start","end","center","between","around","evenly","stretch"]},C=function(){return["","0",R]},O=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},k=function(){return[me,$e]},P=function(){return[me,R]};return{cacheSize:500,theme:{colors:[Te],spacing:[X],blur:["none","",se,R],brightness:k(),borderColor:[r],borderRadius:["none","","full",se,R],borderSpacing:D(),borderWidth:J(),contrast:k(),grayscale:C(),hueRotate:P(),invert:C(),gap:D(),gradientColorStops:[r],gradientColorStopPositions:[pa,bt],inset:q(),margin:q(),opacity:k(),padding:D(),saturate:k(),scale:k(),sepia:C(),skew:P(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",R]}],container:["container"],columns:[{columns:[se]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(E(),[R])}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ee]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",R]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Ee]}],"grid-cols":[{"grid-cols":[Te]}],"col-start-end":[{col:["auto",{span:["full",Ee]},R]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Te]}],"row-start-end":[{row:["auto",{span:[Ee]},R]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",R]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",R]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal"].concat(V())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(V(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(V(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[p]}],mx:[{mx:[p]}],my:[{my:[p]}],ms:[{ms:[p]}],me:[{me:[p]}],mt:[{mt:[p]}],mr:[{mr:[p]}],mb:[{mb:[p]}],ml:[{ml:[p]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",R,e]}],"min-w":[{"min-w":["min","max","fit",R,X]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[se]},se,R]}],h:[{h:[R,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",R,X]}],"max-h":[{"max-h":[R,e,"min","max","fit"]}],"font-size":[{text:["base",se,bt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$e]}],"font-family":[{font:[Te]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",R]}],"line-clamp":[{"line-clamp":["none",me,$e]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",R,X]}],"list-image":[{"list-image":["none",R]}],"list-style-type":[{list:["none","disc","decimal",R]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(I(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",X]}],"underline-offset":[{"underline-offset":["auto",R,X]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",R]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",R]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(E(),[ma])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ua]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ha]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[].concat(I(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:I()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(I())}],"outline-offset":[{"outline-offset":[R,X]}],"outline-w":[{outline:[X]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[X]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",se,fa]}],"shadow-color":[{shadow:[Te]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":U()}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",se,R]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[v]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",R]}],duration:[{duration:P()}],ease:[{ease:["linear","in","out","in-out",R]}],delay:[{delay:P()}],animate:[{animate:["none","spin","ping","pulse","bounce",R]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Ee,R]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",R]}],accent:[{accent:["auto",r]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",R]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",R]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[X,$e]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var va=aa(ba);function wa(...r){return va(Xr(r))}const ja={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"};function Z({size:r="md",className:e}){return t.jsx("div",{className:wa("animate-spin rounded-full border-2 border-gray-300 border-t-primary-600",ja[r],e),role:"status","aria-label":"Loading",children:t.jsx("span",{className:"sr-only",children:"Loading..."})})}function Na(){const r=Ge(),[e,s]=d.useState(!0),[n,a]=d.useState({name:"",email:"",password:""}),[o,i]=d.useState(""),{login:l,register:c,isLoading:u,user:h}=ke();if(h)return t.jsx(xe,{to:"/dashboard",replace:!0});const v=async m=>{m.preventDefault(),i("");try{let y=!1;e?(y=await l(n.email,n.password),y&&r("/dashboard")):(y=await c(n.name,n.email,n.password),y&&r("/dashboard")),y||i(e?"Invalid credentials":"Registration failed")}catch(y){console.error("Login/Register error:",y),i("An error occurred. Please try again.")}},b=m=>{a(y=>({...y,[m.target.name]:m.target.value}))};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:e?"Sign in to your account":"Create your account"}),t.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"HemantDoc ScriptWriter Pro"})]}),t.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[t.jsxs("div",{className:"space-y-4",children:[!e&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),t.jsx("input",{id:"name",name:"name",type:"text",required:!e,className:"form-input",placeholder:"Full Name",value:n.name,onChange:b})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),t.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"form-input",placeholder:"Email address",value:n.email,onChange:b})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),t.jsx("input",{id:"password",name:"password",type:"password",autoComplete:e?"current-password":"new-password",required:!0,className:"form-input",placeholder:"Password",value:n.password,onChange:b})]})]}),o&&t.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:u,className:"btn-primary w-full",children:u?t.jsx(Z,{size:"sm"}):e?"Sign in":"Sign up"})}),t.jsx("div",{className:"text-center",children:t.jsx("button",{type:"button",className:"text-primary-600 hover:text-primary-500 text-sm",onClick:()=>s(!e),children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[t.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"🎬 Standalone App Mode"}),t.jsxs("p",{className:"text-xs text-blue-700",children:["This is a standalone version. Use any valid email address and password to get started.",t.jsx("br",{}),"Example: ",t.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"user@example.com"})]})]})]})]})})}const le=xr()(Ys((r,e)=>({currentProject:null,projects:[],isLoading:!1,selectedScenes:[],loadProjects:async()=>{r({isLoading:!0});try{const s=localStorage.getItem("hemantdoc_projects");let n=[];s?n=JSON.parse(s):(n=[{id:"sample-project-"+Date.now(),title:"Sample Screenplay",description:"A sample project to get started with HemantDoc ScriptWriter Pro",format:"short",status:"development",genre:["Drama"],scriptContent:`FADE IN:

EXT. COFFEE SHOP - DAY

A small coffee shop buzzes with morning activity. SARAH (30s) enters, looking determined.

SARAH
(to barista)
One large coffee, please. And make it strong.

FADE OUT.`,scenes:[],characters:["SARAH","BARISTA"],locations:["COFFEE SHOP - EXT"],pageCount:1,wordCount:32,estimatedRuntime:5,owner:"standalone-user",collaborators:[],version:"1.0",versions:[],settings:{allowPublicView:!1,requireApprovalForChanges:!1,enableRealTimeCollaboration:!0,backupFrequency:"daily",exportWatermark:"HemantDoc ScriptWriter Pro"},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],localStorage.setItem("hemantdoc_projects",JSON.stringify(n))),r({projects:n,isLoading:!1})}catch(s){console.error("Load projects error:",s),r({projects:[],isLoading:!1})}},loadProject:async s=>{r({isLoading:!0});try{const n=localStorage.getItem("hemantdoc_projects");if(n){const o=JSON.parse(n).find(i=>i.id===s);r({currentProject:o||null,isLoading:!1})}else r({currentProject:null,isLoading:!1})}catch(n){console.error("Load project error:",n),r({currentProject:null,isLoading:!1})}},createProject:async s=>{try{const n={id:"project-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),title:s.title||"Untitled Project",description:s.description||"",format:s.format||"feature",status:s.status||"development",genre:s.genre||[],scriptContent:s.scriptContent||`FADE IN:



FADE OUT.`,scenes:[],characters:[],locations:[],pageCount:1,wordCount:6,estimatedRuntime:0,owner:"standalone-user",collaborators:[],version:"1.0",versions:[],settings:{allowPublicView:!1,requireApprovalForChanges:!1,enableRealTimeCollaboration:!0,backupFrequency:"daily",exportWatermark:"HemantDoc ScriptWriter Pro"},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},a=localStorage.getItem("hemantdoc_projects"),o=a?JSON.parse(a):[];return o.push(n),localStorage.setItem("hemantdoc_projects",JSON.stringify(o)),r(i=>({projects:[...i.projects,n],currentProject:n})),n.id}catch(n){throw console.error("Create project error:",n),n}},updateProject:async(s,n)=>{try{const a=localStorage.getItem("hemantdoc_projects");if(!a)return;const o=JSON.parse(a),i=o.findIndex(c=>c.id===s);if(i===-1)return;const l={...o[i],...n,updatedAt:new Date().toISOString()};o[i]=l,localStorage.setItem("hemantdoc_projects",JSON.stringify(o)),r(c=>{var u;return{projects:c.projects.map(h=>h.id===s?l:h),currentProject:((u=c.currentProject)==null?void 0:u.id)===s?l:c.currentProject}})}catch(a){throw console.error("Update project error:",a),a}},deleteProject:async s=>{try{const n=localStorage.getItem("hemantdoc_projects");if(n){const o=JSON.parse(n).filter(i=>i.id!==s);localStorage.setItem("hemantdoc_projects",JSON.stringify(o))}r(a=>{var o;return{projects:a.projects.filter(i=>i.id!==s),currentProject:((o=a.currentProject)==null?void 0:o.id)===s?null:a.currentProject}})}catch(n){throw console.error("Delete project error:",n),n}},duplicateProject:async s=>{try{const n=localStorage.getItem("hemantdoc_projects");if(!n)throw new Error("No projects found");const a=JSON.parse(n),o=a.find(l=>l.id===s);if(!o)throw new Error("Project not found");const i={...o,id:"project-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),title:o.title+" (Copy)",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:"1.0",versions:[]};return a.push(i),localStorage.setItem("hemantdoc_projects",JSON.stringify(a)),r(l=>({projects:[...l.projects,i]})),i.id}catch(n){throw console.error("Duplicate project error:",n),n}},updateScriptContent:s=>{r(n=>({currentProject:n.currentProject?{...n.currentProject,scriptContent:s,wordCount:s.split(/\s+/).length,updatedAt:new Date().toISOString()}:null}))},parseScript:async()=>{const{currentProject:s}=e();if(s)try{const n=s.scriptContent,a=n.split(`
`),o=[],i=new Set,l=new Set;let c=null,u=0;if(a.forEach(y=>{var p;const x=y.trim().toUpperCase();if(x.match(/^(INT\.|EXT\.|FADE IN|FADE OUT)/)){if(c){const g=c;o.push({id:`scene-${u}`,number:(u+1).toString(),heading:g.heading||"",description:g.description||"",location:g.location||"",timeOfDay:g.timeOfDay||"DAY",intExt:g.intExt||"INT",pageCount:1,estimatedMinutes:2,characters:Array.from(i),elements:[],notes:"",tags:[],status:"draft",schedulingPriority:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),u++}c={heading:y.trim(),description:"",location:x.replace(/^(INT\.|EXT\.)\s*/,"").split(" - ")[0],timeOfDay:x.includes(" - NIGHT")?"NIGHT":"DAY",intExt:x.startsWith("INT.")?"INT":"EXT"},c.location&&l.add(c.location)}if(x&&x===x.toUpperCase()&&!x.match(/^(INT\.|EXT\.|FADE)/)){const g=x.split(/\s+/);g.length<=3&&!g.some(f=>f.includes("."))&&i.add(x)}c&&!((p=c.heading)!=null&&p.toUpperCase().includes(x))&&(c.description+=y+`
`)}),c){const y=c;o.push({id:`scene-${u}`,number:(u+1).toString(),heading:y.heading||"",description:y.description||"",location:y.location||"",timeOfDay:y.timeOfDay||"DAY",intExt:y.intExt||"INT",pageCount:1,estimatedMinutes:2,characters:Array.from(i),elements:[],notes:"",tags:[],status:"draft",schedulingPriority:"medium",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}const h=Math.ceil(n.length/250),v=h*1,b={...s,scenes:o,characters:Array.from(i),locations:Array.from(l),pageCount:h,estimatedRuntime:v,updatedAt:new Date().toISOString()},m=localStorage.getItem("hemantdoc_projects");if(m){const y=JSON.parse(m),x=y.findIndex(p=>p.id===s.id);x!==-1&&(y[x]=b,localStorage.setItem("hemantdoc_projects",JSON.stringify(y)))}r(y=>({currentProject:b,projects:y.projects.map(x=>x.id===s.id?b:x)}))}catch(n){console.error("Parse script error:",n)}},addScene:async s=>{const{currentProject:n}=e();if(n)try{const a={...s,id:"scene-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o={...n,scenes:[...n.scenes,a],updatedAt:new Date().toISOString()},i=localStorage.getItem("hemantdoc_projects");if(i){const l=JSON.parse(i),c=l.findIndex(u=>u.id===n.id);c!==-1&&(l[c]=o,localStorage.setItem("hemantdoc_projects",JSON.stringify(l)))}r(l=>({currentProject:o,projects:l.projects.map(c=>c.id===n.id?o:c)}))}catch(a){console.error("Add scene error:",a)}},updateScene:async(s,n)=>{const{currentProject:a}=e();if(a)try{const o=a.scenes.findIndex(u=>u.id===s);if(o===-1)return;const i={...a.scenes[o],...n,updatedAt:new Date().toISOString()},l={...a,scenes:a.scenes.map(u=>u.id===s?i:u),updatedAt:new Date().toISOString()},c=localStorage.getItem("hemantdoc_projects");if(c){const u=JSON.parse(c),h=u.findIndex(v=>v.id===a.id);h!==-1&&(u[h]=l,localStorage.setItem("hemantdoc_projects",JSON.stringify(u)))}r(u=>({currentProject:l,projects:u.projects.map(h=>h.id===a.id?l:h)}))}catch(o){console.error("Update scene error:",o)}},deleteScene:async s=>{const{currentProject:n}=e();if(n)try{const a={...n,scenes:n.scenes.filter(i=>i.id!==s),updatedAt:new Date().toISOString()},o=localStorage.getItem("hemantdoc_projects");if(o){const i=JSON.parse(o),l=i.findIndex(c=>c.id===n.id);l!==-1&&(i[l]=a,localStorage.setItem("hemantdoc_projects",JSON.stringify(i)))}r(i=>({currentProject:a,projects:i.projects.map(l=>l.id===n.id?a:l)}))}catch(a){console.error("Delete scene error:",a)}},reorderScenes:async s=>{const{currentProject:n}=e();if(n)try{const a=s.map(l=>n.scenes.find(c=>c.id===l)).filter(Boolean),o={...n,scenes:a,updatedAt:new Date().toISOString()},i=localStorage.getItem("hemantdoc_projects");if(i){const l=JSON.parse(i),c=l.findIndex(u=>u.id===n.id);c!==-1&&(l[c]=o,localStorage.setItem("hemantdoc_projects",JSON.stringify(l)))}r(l=>({currentProject:o,projects:l.projects.map(c=>c.id===n.id?o:c)}))}catch(a){console.error("Reorder scenes error:",a)}},addElement:async s=>{const{currentProject:n}=e();if(n)try{const a={...s,id:"element-"+Date.now()+"-"+Math.random().toString(36).substr(2,9),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o={...n,scenes:n.scenes.map(l=>s.scenes.includes(l.id)?{...l,elements:[...l.elements,a]}:l),updatedAt:new Date().toISOString()},i=localStorage.getItem("hemantdoc_projects");if(i){const l=JSON.parse(i),c=l.findIndex(u=>u.id===n.id);c!==-1&&(l[c]=o,localStorage.setItem("hemantdoc_projects",JSON.stringify(l)))}r(l=>({currentProject:o,projects:l.projects.map(c=>c.id===n.id?o:c)}))}catch(a){console.error("Add element error:",a)}},updateElement:async(s,n)=>{const{currentProject:a}=e();if(a)try{const o={...a,scenes:a.scenes.map(l=>({...l,elements:l.elements.map(c=>c.id===s?{...c,...n,updatedAt:new Date().toISOString()}:c)})),updatedAt:new Date().toISOString()},i=localStorage.getItem("hemantdoc_projects");if(i){const l=JSON.parse(i),c=l.findIndex(u=>u.id===a.id);c!==-1&&(l[c]=o,localStorage.setItem("hemantdoc_projects",JSON.stringify(l)))}r(l=>({currentProject:o,projects:l.projects.map(c=>c.id===a.id?o:c)}))}catch(o){console.error("Update element error:",o)}},deleteElement:async s=>{const{currentProject:n}=e();if(n)try{const a={...n,scenes:n.scenes.map(i=>({...i,elements:i.elements.filter(l=>l.id!==s)})),updatedAt:new Date().toISOString()},o=localStorage.getItem("hemantdoc_projects");if(o){const i=JSON.parse(o),l=i.findIndex(c=>c.id===n.id);l!==-1&&(i[l]=a,localStorage.setItem("hemantdoc_projects",JSON.stringify(i)))}r(i=>({currentProject:a,projects:i.projects.map(l=>l.id===n.id?a:l)}))}catch(a){console.error("Delete element error:",a)}},tagElementInScene:async(s,n)=>{const{currentProject:a}=e();if(a)try{const o=a.scenes.flatMap(i=>i.elements).find(i=>i.id===s);if(o){const i={...a,scenes:a.scenes.map(c=>c.id===n?{...c,elements:[...c.elements,o]}:c),updatedAt:new Date().toISOString()},l=localStorage.getItem("hemantdoc_projects");if(l){const c=JSON.parse(l),u=c.findIndex(h=>h.id===a.id);u!==-1&&(c[u]=i,localStorage.setItem("hemantdoc_projects",JSON.stringify(c)))}r(c=>({currentProject:i,projects:c.projects.map(u=>u.id===a.id?i:u)}))}}catch(o){console.error("Tag element error:",o)}},untagElementFromScene:async(s,n)=>{const{currentProject:a}=e();if(a)try{const o={...a,scenes:a.scenes.map(l=>l.id===n?{...l,elements:l.elements.filter(c=>c.id!==s)}:l),updatedAt:new Date().toISOString()},i=localStorage.getItem("hemantdoc_projects");if(i){const l=JSON.parse(i),c=l.findIndex(u=>u.id===a.id);c!==-1&&(l[c]=o,localStorage.setItem("hemantdoc_projects",JSON.stringify(l)))}r(l=>({currentProject:o,projects:l.projects.map(c=>c.id===a.id?o:c)}))}catch(o){console.error("Untag element error:",o)}},setSelectedScenes:s=>{r({selectedScenes:s})},clearSelectedScenes:()=>{r({selectedScenes:[]})},getElementsByType:s=>{const{currentProject:n}=e();if(!n)return[];const a=new Map;return n.scenes.forEach(o=>{o.elements.forEach(i=>{i.type===s&&a.set(i.id,i)})}),Array.from(a.values())},getScenesByLocation:s=>{const{currentProject:n}=e();return n?n.scenes.filter(a=>a.location===s):[]},getScenesByCharacter:s=>{const{currentProject:n}=e();return n?n.scenes.filter(a=>a.characters.includes(s)):[]},getTotalPageCount:()=>{const{currentProject:s}=e();return s?s.scenes.reduce((n,a)=>n+a.pageCount,0):0},getEstimatedRuntime:()=>{const{currentProject:s}=e();return s?s.scenes.reduce((n,a)=>n+a.estimatedMinutes,0):0}}),{name:"project-store"}));function Sa({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Ca=d.forwardRef(Sa),Ea=Ca;function Ta({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Aa=d.forwardRef(Ta),Oa=Aa;function ka({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Ia=d.forwardRef(ka),Ra=Ia;function Da({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))}const Fa=d.forwardRef(Da),La=Fa;function Pa({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Ma=d.forwardRef(Pa),$a=Ma;function Ua({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const Ha=d.forwardRef(Ua),Yt=Ha;function za({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Ba=d.forwardRef(za),_a=Ba;function Wa({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Va=d.forwardRef(Wa),qa=Va;function Ga({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Xa=d.forwardRef(Ga),Ka=Xa;function Ya({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Za=d.forwardRef(Ya),vt=Za;function Ja({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Qa=d.forwardRef(Ja),Tr=Qa;function eo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const to=d.forwardRef(eo),Ar=to;function ro({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const so=d.forwardRef(ro),ye=so;function no({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const ao=d.forwardRef(no),Or=ao;function oo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const io=d.forwardRef(oo),kr=io;function lo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const co=d.forwardRef(lo),uo=co;function mo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ho=d.forwardRef(mo),be=ho;function po({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const fo=d.forwardRef(po),go=fo;function xo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const yo=d.forwardRef(xo),Ot=yo;function bo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0 1 18 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0 1 18 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 0 1 6 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const vo=d.forwardRef(bo),we=vo;function wo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const jo=d.forwardRef(wo),No=jo;function So({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Co=d.forwardRef(So),Eo=Co;function To({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Ao=d.forwardRef(To),Oo=Ao;function ko({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const Io=d.forwardRef(ko),Ro=Io;function Do({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Fo=d.forwardRef(Do),Lo=Fo;function Po({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))}const Mo=d.forwardRef(Po),$o=Mo;function Uo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Ho=d.forwardRef(Uo),zo=Ho;function Bo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const _o=d.forwardRef(Bo),We=_o;function Wo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Vo=d.forwardRef(Wo),qo=Vo;function Go({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Xo=d.forwardRef(Go),Ve=Xo;function Ko({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Yo=d.forwardRef(Ko),oe=Yo;function Zo({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Jo=d.forwardRef(Zo),Qo=Jo;function ei({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"}))}const ti=d.forwardRef(ei),ri=ti;function si({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const ni=d.forwardRef(si),qe=ni;function ai({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const oi=d.forwardRef(ai),Ir=oi;function ii({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 20.25h12m-7.5-3v3m3-3v3m-10.125-3h17.25c.621 0 1.125-.504 1.125-1.125V4.875c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125Z"}))}const li=d.forwardRef(ii),ci=li;function di({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ui=d.forwardRef(di),Zt=ui;function mi({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const hi=d.forwardRef(mi),Rr=hi;function pi({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const fi=d.forwardRef(pi),gi=fi;function xi({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const yi=d.forwardRef(xi),kt=yi;function bi({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"}))}const vi=d.forwardRef(bi),wi=vi;function ji({title:r,titleId:e,...s},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},s),r?d.createElement("title",{id:e},r):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ni=d.forwardRef(ji),It=Ni,Si={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function Rt({isOpen:r,onClose:e,title:s,children:n,size:a="md"}){return t.jsx(st,{appear:!0,show:r,as:d.Fragment,children:t.jsxs(nt,{as:"div",className:"relative z-50",onClose:e,children:[t.jsx(st.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm"})}),t.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:t.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:t.jsx(st.Child,{as:d.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t.jsxs(nt.Panel,{className:`w-full ${Si[a]} transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx(nt.Title,{as:"h3",className:"text-lg font-semibold text-gray-900",children:s}),t.jsxs("button",{type:"button",className:"text-gray-400 hover:text-gray-500 transition-colors",onClick:e,children:[t.jsx("span",{className:"sr-only",children:"Close"}),t.jsx(It,{className:"h-6 w-6","aria-hidden":"true"})]})]}),n]})})})})]})})}const Ci=[{id:"feature-film",name:"Feature Film",description:"Standard feature film screenplay template with proper formatting and structure.",category:"film",content:`FADE IN:

EXT. [LOCATION] - DAY

[Your story begins here. This is an action line that describes what we see on screen. Action lines should be written in present tense and be visually descriptive.]

[Action lines are left-aligned and use regular capitalization except for character names when first introduced and important sound effects.]

CHARACTER NAME enters the frame, looking around nervously.

CHARACTER NAME
(emotional state)
This is dialogue. It should sound natural and advance the story or reveal character. Keep it concise and impactful.

ANOTHER CHARACTER
This is how you format dialogue for different characters. Each character name should be in ALL CAPS and centered above their dialogue.

CHARACTER NAME
(beat)
Parentheticals like the one above should be used sparingly. They indicate a pause, emotion, or action during dialogue.

[More action description here. Remember to keep paragraphs short for better readability.]

INT. [INTERIOR LOCATION] - NIGHT

[Scene headings like the one above indicate location and time. They should be in ALL CAPS.]

CHARACTER NAME (V.O.)
This is voice-over dialogue. V.O. stands for "voice over" and indicates the character is speaking but not visible on screen, or is narrating.

CUT TO:

EXT. [NEW LOCATION] - DAY

[Transitions like "CUT TO:" are optional in modern screenwriting but can be used to indicate specific cuts or time passage.]

FADE OUT.

THE END`,tags:["feature","film","standard","professional"]},{id:"tv-episode",name:"TV Episode",description:"Television episode template with act breaks and standard TV formatting.",category:"tv",content:`"[SERIES TITLE]"

Episode [NUMBER]: "[EPISODE TITLE]"

Written by
[WRITER NAME]

TEASER

FADE IN:

EXT. [LOCATION] - DAY

[Television scripts often start with a teaser - a brief scene to hook the audience before the opening credits.]

CHARACTER NAME
Welcome to the world of professional television writing. This template will help you format your TV script correctly.

FADE TO BLACK.

END OF TEASER

ACT ONE

FADE IN:

INT. [LOCATION] - DAY

[Act One begins the main story. TV episodes are typically broken into acts for commercial breaks.]

CHARACTER NAME
Television dialogue tends to be snappier and more compressed than feature films. Every line should serve a purpose.

SUPPORTING CHARACTER
Right! And don't forget that TV characters are usually more familiar to the audience, so you can jump into action faster.

[TV action lines are similar to film but often more concise due to time constraints.]

FADE OUT.

END OF ACT ONE

ACT TWO

FADE IN:

INT. [LOCATION] - CONTINUOUS

[Acts should end with hooks or cliffhangers to keep viewers engaged through commercial breaks.]

CHARACTER NAME
This is where the main conflict of your episode develops. Build tension and raise stakes.

MONTAGE - CHARACTER DEVELOPMENT

[TV scripts often use montages to show time passage or character development efficiently.]

-- Character at work
-- Character at home
-- Character facing challenges

END MONTAGE

FADE OUT.

END OF ACT TWO

ACT THREE

FADE IN:

INT. [LOCATION] - DAY

[The final act resolves the main conflict while potentially setting up future episodes.]

CHARACTER NAME
Time to wrap up this episode's story while leaving room for the series to continue.

FADE TO BLACK.

END OF ACT THREE

TAG (OPTIONAL)

FADE IN:

INT. [LOCATION] - DAY

[A tag is a short scene after the main story, often used for humor or to set up future plots.]

CHARACTER NAME
Tags are great for final jokes or emotional beats.

FADE OUT.

END OF EPISODE`,tags:["television","tv","series","acts","broadcast"]},{id:"short-film",name:"Short Film",description:"Concise short film template focused on a single story or moment.",category:"film",content:`FADE IN:

EXT. [LOCATION] - [TIME OF DAY]

[Short films need to establish character, conflict, and resolution quickly. Every element should be essential.]

[Your protagonist should be introduced with a clear want or need.]

PROTAGONIST
(to themselves)
In a short film, every word counts. Make each line of dialogue serve multiple purposes.

[Action lines in short films should be especially visual and economical. Paint clear pictures with minimal words.]

[The central conflict of your short film should emerge quickly - often within the first page.]

INT. [LOCATION] - CONTINUOUS

[Short films often work best with limited locations and a tight timeframe.]

PROTAGONIST
The beauty of short films is their focus. One moment, one story, one emotional truth.

[Show don't tell becomes even more important in short form. Let actions and visuals carry the story.]

[Your climax should feel both surprising and inevitable.]

PROTAGONIST
(realizing something important)
This is where everything changes. The moment of truth.

[Resolution in short films should be clean and impactful. Leave the audience with a clear emotional takeaway.]

EXT. [LOCATION] - [TIME OF DAY]

[Circle back to your opening image or theme for a satisfying conclusion.]

FADE OUT.

THE END

[Total page count for short films typically ranges from 1-20 pages, depending on intended runtime. Aim for about 1 page per minute of screen time.]`,tags:["short","film","festival","independent","concise"]},{id:"commercial-30sec",name:"30-Second Commercial",description:"Television commercial template for 30-second spots.",category:"commercial",content:`FADE IN:

INT./EXT. [LOCATION] - DAY

[0:00 - 0:03]
[Commercials must grab attention immediately. Start with a strong visual or hook.]

ANNOUNCER (V.O.)
(energetic)
Your opening line should connect with your target audience instantly.

[0:03 - 0:10]
[Introduce the product or service with clear, compelling visuals.]

[Show the product in action or demonstrate the problem it solves.]

CUSTOMER/ACTOR
This product changed my life! [Keep testimonials brief and believable.]

[0:10 - 0:20]
[Present the key benefits or unique selling proposition.]

ANNOUNCER (V.O.)
Here's why this matters to you. [Focus on benefits, not just features.]

[Show happy customers or the desired outcome of using the product.]

[0:20 - 0:27]
[Call to action - what do you want viewers to do?]

ANNOUNCER (V.O.)
Call now! Visit our website! Don't wait - limited time offer!

[0:27 - 0:30]
[Logo, contact information, and final tagline.]

SUPER: "Company Logo"
SUPER: "www.website.com"
SUPER: "1-800-XXX-XXXX"

ANNOUNCER (V.O.)
[Company name] - [Memorable tagline]

FADE OUT.

[NOTES: 
- Each second counts in commercials
- Average speaking pace: 2-3 words per second
- Leave time for music, sound effects, and visual impact
- Make sure legal disclaimers fit if required]`,tags:["commercial","advertising","30-second","tv-spot"]},{id:"commercial-60sec",name:"60-Second Commercial",description:"Extended commercial template with more story development.",category:"commercial",content:`FADE IN:

EXT. [LOCATION] - DAY

[0:00 - 0:05]
[60-second spots allow for more storytelling. Start with a relatable situation or problem.]

CUSTOMER
(frustrated)
I hate it when [describe common problem your audience faces].

[0:05 - 0:15]
[Develop the problem and emotional stakes.]

[Show multiple examples of the frustration or challenge.]

NARRATOR (V.O.)
Millions of people face this same problem every day.

[Visual montage showing various people dealing with the issue.]

[0:15 - 0:25]
[Introduce the solution - your product or service.]

CUSTOMER
(discovering product)
Wait, what's this?

[Show the product being introduced or demonstrated.]

[0:25 - 0:40]
[Demonstrate the solution in action with clear benefits.]

NARRATOR (V.O.)
Finally, a solution that actually works. Here's how...

[Show step-by-step benefits or results.]

SATISFIED CUSTOMER
This is incredible! Why didn't I know about this before?

[0:40 - 0:50]
[Social proof and additional benefits.]

NARRATOR (V.O.)
Join thousands of satisfied customers. Plus, you get [additional benefits].

[Show testimonials or statistics.]

[0:50 - 0:57]
[Strong call to action with urgency or incentive.]

NARRATOR (V.O.)
Call in the next 10 minutes and save 50%! But hurry - this offer won't last!

[0:57 - 1:00]
[Branding and contact information.]

SUPER: "Company Logo"
SUPER: "1-800-XXX-XXXX"
SUPER: "www.website.com"

NARRATOR (V.O.)
[Company Name] - [Tagline]

FADE OUT.`,tags:["commercial","advertising","60-second","extended"]},{id:"documentary",name:"Documentary",description:"Documentary template with interview and voice-over structure.",category:"documentary",content:`"[DOCUMENTARY TITLE]"

A Documentary Film

Directed by [DIRECTOR NAME]

FADE IN:

[DOCUMENTARY TITLE CARD]

NARRATOR (V.O.)
Every documentary begins with a question, a mystery, or a truth that needs to be told.

EXT. [LOCATION] - DAY

[Documentary scripts often blend planned sequences with spontaneous moments.]

[B-ROLL: Establishing shots of the documentary's setting or subject matter.]

NARRATOR (V.O.)
This is the world we're about to explore. A place where [describe the central theme].

INT. [INTERVIEW LOCATION] - DAY

[ON CAMERA: INTERVIEW SUBJECT 1]

INTERVIEW SUBJECT 1
(to interviewer)
People don't understand what really happened here. Let me tell you the truth.

[Note: In documentaries, interview questions are usually not included in the script. Focus on the responses.]

NARRATOR (V.O.)
[Subject 1] has been living with this secret for thirty years.

[B-ROLL: Photos, documents, or footage related to the subject's story.]

INT. [DIFFERENT LOCATION] - DAY

[ON CAMERA: INTERVIEW SUBJECT 2]

INTERVIEW SUBJECT 2
That's not how I remember it at all. The real story is much more complicated.

[Documentary scripts often present multiple perspectives on the same events.]

EXT. [RELEVANT LOCATION] - DAY

NARRATOR (V.O.)
As we investigated further, new questions emerged.

[B-ROLL: The filmmaker or crew investigating, searching through records, visiting locations.]

[ARCHIVAL FOOTAGE: Historical footage or photos if relevant.]

NARRATOR (V.O.)
The documents tell a different story entirely.

INT. [INTERVIEW LOCATION] - DAY

[ON CAMERA: EXPERT/HISTORIAN]

EXPERT
Based on the evidence, here's what likely happened...

[Experts provide context and analysis to help audiences understand complex topics.]

NARRATOR (V.O.)
But even experts disagree about the implications.

[MONTAGE: Various interview subjects giving conflicting opinions.]

EXT. [CLIMACTIC LOCATION] - DAY

NARRATOR (V.O.)
In the end, we're left with more questions than answers. But perhaps that's the point.

[Return to the central location or image from the opening.]

INTERVIEW SUBJECT 1
(final thoughts)
I've told you everything I know. Now you have to decide what to believe.

FADE TO BLACK.

[END CREDITS roll over additional B-ROLL or interview clips]

NARRATOR (V.O.)
[Final philosophical observation about the documentary's themes.]

THE END

[PRODUCTION NOTES:
- Leave room for spontaneous moments
- Plan for more footage than you'll use
- Consider legal clearances for archival material
- Interview releases are essential]`,tags:["documentary","non-fiction","interviews","real-life"]},{id:"music-video",name:"Music Video",description:"Music video template with visual storytelling synchronized to music.",category:"other",content:`"[SONG TITLE]"
Music Video Treatment

Artist: [ARTIST NAME]
Director: [DIRECTOR NAME]
Song Length: [X:XX]

CONCEPT:
[Brief description of the overall concept and visual style]

FADE IN:

[0:00 - 0:15] INTRO

EXT. [LOCATION] - [TIME]

[Visual description synchronized to musical intro]

The camera slowly reveals [MAIN VISUAL ELEMENT] as the music begins.

ARTIST appears, embodying the mood and energy of the song.

[0:15 - 0:45] VERSE 1

INT./EXT. [LOCATION] - CONTINUOUS

ARTIST
[Song lyrics - verse 1]

[Visual interpretation of the lyrics through imagery, performance, and cinematography.]

[Cut between performance shots and narrative/conceptual imagery.]

[0:45 - 1:15] CHORUS

EXT. [DYNAMIC LOCATION] - DAY

ARTIST
[Song lyrics - chorus]

[The chorus should be the most visually dynamic section, with increased energy and movement.]

[Consider using different locations, lighting, or performance styles for each chorus to maintain visual interest.]

[1:15 - 1:45] VERSE 2

INT. [NEW LOCATION] - CONTINUOUS

ARTIST
[Song lyrics - verse 2]

[Second verse often develops the story or theme established in verse 1.]

[Introduce new visual elements while maintaining the overall aesthetic.]

[1:45 - 2:15] CHORUS 2

EXT. [HIGH-ENERGY LOCATION] - CONTINUOUS

ARTIST
[Song lyrics - chorus repeat]

[Second chorus should escalate the visual energy while maintaining consistency with the first chorus.]

[2:15 - 2:30] BRIDGE

INT./EXT. [CONTRASTING LOCATION] - CONTINUOUS

ARTIST
[Song lyrics - bridge]

[The bridge often provides a visual and emotional break from the main theme.]

[Consider a different visual style, lighting, or pace for this section.]

[2:30 - 3:00] FINAL CHORUS/OUTRO

EXT. [CLIMACTIC LOCATION] - SUNSET/SUNRISE

ARTIST
[Song lyrics - final chorus]

[Final chorus should be the visual and emotional climax of the video.]

[3:00 - 3:15] OUTRO

[Resolution of the visual story, if applicable, or artistic conclusion]

[Final shots that reinforce the overall theme and leave a lasting impression.]

FADE OUT.

PRODUCTION NOTES:
- Sync visual beats with musical beats
- Plan for lip-sync accuracy
- Consider multiple outfit/location changes
- Budget for special effects or equipment if needed
- Plan for both performance and concept shots
- Consider the target audience and platform (TV, online, etc.)

VISUAL STYLE:
[Description of color palette, lighting, cinematography style, editing pace, etc.]

EQUIPMENT NEEDS:
[Cameras, lenses, lighting, special equipment]

CAST:
[Artist, extras, dancers, actors if narrative elements]`,tags:["music-video","visual","performance","artistic"]},{id:"corporate-video",name:"Corporate Video",description:"Professional corporate video template for training or promotional content.",category:"commercial",content:`"[VIDEO TITLE]"
Corporate Video Script

Client: [COMPANY NAME]
Purpose: [Training/Promotional/Informational]
Target Audience: [Description]
Duration: [X minutes]

FADE IN:

[COMPANY LOGO ANIMATION]

NARRATOR (V.O.)
(professional, warm)
Welcome to [Company Name], where [company mission or values].

INT. MODERN OFFICE - DAY

[Establishing shots of professional, clean work environment]

NARRATOR (V.O.)
For [X years], we've been committed to [key company values or achievements].

[B-ROLL: Employees working, satisfied customers, company milestones]

INT. CONFERENCE ROOM - DAY

[ON CAMERA: CEO or COMPANY REPRESENTATIVE]

CEO
At [Company Name], we believe that [core message]. That's why we've developed [product/service/program].

[Professional lighting and framing for executive interviews]

NARRATOR (V.O.)
Here's how our approach makes a difference...

[DEMONSTRATION SEQUENCE]

INT./EXT. [RELEVANT LOCATIONS] - DAY

[Step-by-step demonstration of product, service, or process]

EMPLOYEE 1
(to camera)
Working here means being part of something bigger than yourself.

CUSTOMER/CLIENT
(testimonial)
The results speak for themselves. [Company Name] delivered exactly what they promised.

[B-ROLL: Charts, graphs, success metrics if appropriate]

NARRATOR (V.O.)
Our commitment to excellence shows in our results:
- [Key statistic 1]
- [Key statistic 2]  
- [Key statistic 3]

INT. TRAINING ROOM - DAY (if training video)

TRAINER
Today we'll cover the essential skills you need to [achieve specific goal].

[For training videos, include clear learning objectives and step-by-step instructions]

NARRATOR (V.O.)
Let's review the key points:

[BULLET POINTS or SUMMARY GRAPHICS]
• Point 1
• Point 2
• Point 3

INT. MODERN OFFICE - DAY

[Return to opening environment for closure]

CEO
(final message)
Thank you for your interest in [Company Name]. Together, we're building [vision for future].

NARRATOR (V.O.)
To learn more, visit [website] or contact us at [phone number].

[COMPANY LOGO and CONTACT INFORMATION]

SUPER: "[Company Website]"
SUPER: "[Phone Number]"
SUPER: "[Email Address]"

FADE OUT.

PRODUCTION NOTES:
- Maintain professional tone throughout
- Use company brand colors and fonts in graphics
- Ensure all employees featured have signed releases
- Include company-approved messaging only
- Plan for potential updates to content
- Consider translation needs for international companies

TECHNICAL SPECIFICATIONS:
- Delivery format: [Specify]
- Resolution: [1080p, 4K, etc.]
- Color space: [Rec 709, etc.]
- Audio: [Stereo, 5.1, etc.]`,tags:["corporate","business","professional","training","promotional"]},{id:"web-series",name:"Web Series Episode",description:"Web series episode template optimized for online viewing.",category:"tv",content:`"[SERIES TITLE]"
Season [X], Episode [X]: "[EPISODE TITLE]"

Written by [WRITER NAME]
Runtime: [X minutes]

COLD OPEN

FADE IN:

EXT./INT. [LOCATION] - DAY

[Web series often start with a hook or continuation from previous episode]

MAIN CHARACTER
(reacting to previous cliffhanger)
This can't be happening!

[Cold opens should be 30-60 seconds and immediately engage viewers who might scroll away]

SMASH CUT TO:

[TITLE SEQUENCE - 10-15 seconds maximum]

ACT ONE

FADE IN:

INT. [MAIN LOCATION] - DAY

[Web content needs to grab attention quickly - viewers have short attention spans]

MAIN CHARACTER
Here's the situation... [exposition should feel natural]

SUPPORTING CHARACTER
But what about [complication that drives this episode]?

[Web series dialogue tends to be snappier and more internet-culture aware than traditional TV]

[Keep scenes short and punchy - mobile viewers prefer quick cuts and variety]

INT. [LOCATION 2] - CONTINUOUS

[B-STORYLINE introduction]

SECONDARY CHARACTER
(checking phone)
Did you see what's trending? This is either going to make us famous or destroy us.

[Social media and technology integration often feels natural in web content]

ACT TWO

INT./EXT. [LOCATION] - LATER

[Main conflict escalation - but remember web audiences multitask]

MAIN CHARACTER
We need to fix this before it goes viral.

[Include visual gags or moments that work well as GIFs or clips for social media promotion]

SUPPORTING CHARACTER
(dramatic realization)
Wait... what if this is exactly what we needed?

[Plot developments should be clear and easy to follow for distracted viewers]

MONTAGE - PROBLEM SOLVING

[Web series often use montages effectively - they're visually engaging and move story quickly]

-- Characters brainstorming
-- Testing solutions  
-- Social media reactions
-- Time pressure building

END MONTAGE

ACT THREE

INT. [CLIMAX LOCATION] - DAY

[Resolution should be satisfying but leave threads for future episodes]

MAIN CHARACTER
I can't believe that actually worked.

SUPPORTING CHARACTER
(looking at phone)
Uh oh... we have a new problem.

[End with hook for next episode - web series rely on binge-watching]

MAIN CHARACTER
(reading over their shoulder)
Who is [NEW CHARACTER/THREAT]?

CUT TO BLACK.

END CREDITS over bloopers or behind-the-scenes footage

[Post-credits scene - 15-30 seconds]

INT. [MYSTERIOUS LOCATION] - DAY

[Tease future storylines or introduce new elements]

MYSTERIOUS CHARACTER
(on phone)
They have no idea what's coming.

FADE OUT.

END OF EPISODE

PRODUCTION NOTES:
- Optimize for vertical and horizontal viewing
- Plan for lower budgets and faster production schedules
- Consider audience interaction and social media integration
- Episodes should work as standalone content but reward regular viewers
- Keep runtime appropriate for platform (YouTube: 3-15 min, streaming: 15-30 min)
- Plan for binge-watching - end episodes with hooks
- Consider international audiences - visual storytelling over dialogue-heavy scenes`,tags:["web-series","online","digital","streaming","episodic"]}],lt={film:we,tv:ci,commercial:Ro,documentary:be,other:oe},Jt={film:"Film & Cinema",tv:"Television & Web",commercial:"Commercial & Advertising",documentary:"Documentary & Non-Fiction",other:"Other Formats"},Qt={film:"bg-red-500",tv:"bg-blue-500",commercial:"bg-green-500",documentary:"bg-purple-500",other:"bg-orange-500"};function Ei({onSelectTemplate:r}){const[e,s]=d.useState("all"),[n,a]=d.useState(""),[o,i]=d.useState(null),[l,c]=d.useState(!1),u=Ci.filter(m=>{const y=e==="all"||m.category===e,x=n===""||m.name.toLowerCase().includes(n.toLowerCase())||m.description.toLowerCase().includes(n.toLowerCase())||m.tags.some(p=>p.toLowerCase().includes(n.toLowerCase()));return y&&x}),h=m=>{i(m),r(m)},v=()=>{i(null),r(null)},b=Object.keys(Jt);return t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Choose Your Script Template"}),t.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Start with a professional template or begin with a blank script. Our templates follow industry standards and include helpful formatting guides."})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Eo,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search templates...",value:n,onChange:m=>a(m.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-lg font-medium transition-all ${e==="all"?"bg-orange-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Templates"}),b.map(m=>{const y=lt[m];return t.jsxs("button",{onClick:()=>s(m),className:`flex items-center px-4 py-2 rounded-lg font-medium transition-all ${e===m?"bg-orange-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[t.jsx(y,{className:"h-4 w-4 mr-2"}),Jt[m]]},m)})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[t.jsxs("div",{onClick:v,className:`group cursor-pointer bg-gradient-to-br from-orange-100 to-orange-200 rounded-2xl p-6 border-2 transition-all hover:shadow-xl hover:scale-105 ${o===null?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:t.jsx(oe,{className:"h-8 w-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Blank Script"}),t.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Start from scratch with a clean, properly formatted screenplay document."}),t.jsxs("div",{className:"flex flex-wrap gap-1 justify-center",children:[t.jsx("span",{className:"px-2 py-1 bg-orange-200 text-orange-800 rounded text-xs font-medium",children:"Custom"}),t.jsx("span",{className:"px-2 py-1 bg-orange-200 text-orange-800 rounded text-xs font-medium",children:"Flexible"})]})]}),o===null&&t.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx(vt,{className:"h-5 w-5 text-white"})})]}),u.map(m=>{const y=lt[m.category],x=(o==null?void 0:o.id)===m.id;return t.jsxs("div",{onClick:()=>h(m),className:`group cursor-pointer bg-white rounded-2xl p-6 border-2 transition-all hover:shadow-xl hover:scale-105 relative ${x?"border-orange-500 bg-orange-50":"border-gray-200"}`,children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`w-12 h-12 ${Qt[m.category]} rounded-lg flex items-center justify-center flex-shrink-0`,children:t.jsx(y,{className:"h-6 w-6 text-white"})}),x&&t.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:t.jsx(vt,{className:"h-5 w-5 text-white"})})]}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:m.name}),t.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:m.description}),t.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[m.tags.slice(0,3).map(p=>t.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:p},p)),m.tags.length>3&&t.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs font-medium",children:["+",m.tags.length-3]})]}),t.jsx("button",{onClick:p=>{p.stopPropagation(),i(m),c(!0)},className:"w-full py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors text-sm font-medium",children:"Preview Template"})]},m.id)})]}),u.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx(be,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No templates found"}),t.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or category filter."})]}),l&&o&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:`w-12 h-12 ${Qt[o.category]} rounded-lg flex items-center justify-center`,children:Nt.createElement(lt[o.category],{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:o.name}),t.jsx("p",{className:"text-gray-600",children:o.description})]})]}),t.jsx("button",{onClick:()=>c(!1),className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:"×"})]})}),t.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:t.jsxs("pre",{className:"text-sm font-mono leading-6 whitespace-pre-wrap text-gray-800 bg-gray-50 p-4 rounded-lg",children:[o.content.substring(0,1500),o.content.length>1500&&`

... [Content continues in full template]`]})}),t.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[t.jsx("button",{onClick:()=>c(!1),className:"px-6 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Close"}),t.jsx("button",{onClick:()=>{h(o),c(!1)},className:"px-6 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:"Use This Template"})]})]})})]})}const Ti=[{value:"feature",label:"Feature Film",description:"90-120+ minutes"},{value:"short",label:"Short Film",description:"5-30 minutes"},{value:"series",label:"TV Series",description:"Episode-based content"},{value:"documentary",label:"Documentary",description:"Non-fiction film"},{value:"commercial",label:"Commercial",description:"30-60 seconds"}],Ai=["Action","Adventure","Animation","Comedy","Crime","Documentary","Drama","Fantasy","Horror","Musical","Mystery","Romance","Sci-Fi","Thriller","War","Western"];function Oi({isOpen:r,onClose:e}){const s=Ge(),{createProject:n}=le(),[a,o]=d.useState("details"),[i,l]=d.useState(null),[c,u]=d.useState({title:"",description:"",format:"feature",genre:[],status:"development"}),[h,v]=d.useState(!1),[b,m]=d.useState(""),y=async S=>{if(S.preventDefault(),!c.title.trim()){m("Project title is required");return}v(!0),m("");try{let j=i?i.content:`FADE IN:

EXT. ${c.title.toUpperCase()} - DAY

[Your story begins here...]

FADE OUT.`;const N=await n({title:c.title.trim(),description:c.description.trim(),format:c.format,genre:c.genre,status:c.status,scriptContent:j,scenes:[],characters:[],locations:[],pageCount:1,wordCount:0,estimatedRuntime:c.format==="feature"?90:c.format==="short"?15:60,collaborators:[],versions:[],settings:{allowPublicView:!1,requireApprovalForChanges:!1,enableRealTimeCollaboration:!0,backupFrequency:"daily"}});e(),s(`/project/${N}`)}catch{m("Failed to create project. Please try again.")}finally{v(!1)}},x=S=>{u(j=>({...j,genre:j.genre.includes(S)?j.genre.filter(N=>N!==S):[...j.genre,S]}))},p=()=>{u({title:"",description:"",format:"feature",genre:[],status:"development"}),o("details"),l(null),m(""),e()},g=()=>{if(!c.title.trim()){m("Project title is required");return}m(""),o("template")},f=()=>{o("details"),m("")},w=S=>{l(S)},T=a==="details"?"Create New Project":"Choose Script Template";return t.jsx(Rt,{isOpen:r,onClose:p,title:T,size:a==="template"?"xl":"lg",children:a==="details"?t.jsxs("form",{onSubmit:S=>{S.preventDefault(),g()},className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Title *"}),t.jsx("input",{type:"text",id:"title",value:c.title,onChange:S=>u(j=>({...j,title:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your project title",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),t.jsx("textarea",{id:"description",value:c.description,onChange:S=>u(j=>({...j,description:S.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Brief description of your project"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project Format"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Ti.map(S=>t.jsx("div",{className:`relative rounded-md border p-3 cursor-pointer transition-colors ${c.format===S.value?"border-primary-500 bg-primary-50":"border-gray-300 hover:bg-gray-50"}`,onClick:()=>u(j=>({...j,format:S.value})),children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:"format",value:S.value,checked:c.format===S.value,onChange:j=>u(N=>({...N,format:j.target.value})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),t.jsxs("div",{className:"ml-3",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-900 cursor-pointer",children:S.label}),t.jsx("p",{className:"text-sm text-gray-500",children:S.description})]})]})},S.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Genre (select multiple)"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:Ai.map(S=>t.jsx("button",{type:"button",onClick:()=>x(S),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${c.genre.includes(S)?"bg-primary-100 text-primary-800 border border-primary-200":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,children:S},S))})]}),b&&t.jsx("div",{className:"text-red-600 text-sm bg-red-50 border border-red-200 rounded-md p-3",children:b}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[t.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:!c.title.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[t.jsx("span",{children:"Next: Choose Template"}),t.jsx(Ar,{className:"h-4 w-4 ml-2"})]})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx(Ei,{onSelectTemplate:w,selectedTemplateId:i==null?void 0:i.id}),t.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200",children:[t.jsxs("button",{type:"button",onClick:f,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[t.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Back to Details"]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),t.jsx("button",{type:"button",onClick:y,disabled:h,className:"px-6 py-2 text-sm font-medium text-white bg-orange-600 border border-transparent rounded-md hover:bg-orange-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:h?t.jsxs(t.Fragment,{children:[t.jsx(Z,{size:"sm",className:"mr-2"}),"Creating Project..."]}):t.jsxs(t.Fragment,{children:["🎬 Create Project",i&&t.jsxs("span",{className:"ml-2 text-xs bg-orange-500 px-2 py-1 rounded",children:["with ",i.name]})]})})]})]})]})})}function ki(){const r=Ge(),{user:e,logout:s}=ke(),{projects:n,loadProjects:a,isLoading:o}=le(),[i,l]=d.useState(!1);d.useEffect(()=>{a()},[a]);const c=u=>{r(`/project/${u}`)};return t.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)"},children:[t.jsx("header",{className:"bg-gradient-to-r from-orange-400 to-orange-600 shadow-lg",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex justify-between items-center py-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-lg",children:"🎬"}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-sm",children:"HemantDoc ScriptWriter Pro"}),t.jsxs("p",{className:"text-orange-100",children:["Welcome back, ",e==null?void 0:e.name]})]})]}),t.jsx("button",{onClick:s,className:"px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-all",children:"Sign out"})]})})}),t.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[t.jsx("div",{className:"mb-8",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Your Projects"}),t.jsx("button",{className:"flex items-center px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg font-semibold",onClick:()=>l(!0),children:"🎬 New Project"})]})}),o?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects yet"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first screenplay project to get started."}),t.jsx("button",{className:"flex items-center px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg font-semibold text-lg",onClick:()=>l(!0),children:"🎬 Create Your First Project"})]}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-orange-200 p-6 hover:shadow-2xl hover:scale-105 transition-all cursor-pointer",onClick:()=>c(u.id),children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:u.title}),t.jsx("p",{className:"text-gray-600 text-sm mb-4",children:u.description||"No description"}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-xs text-gray-500",children:[u.pageCount||0," pages"]}),t.jsx("button",{className:"flex items-center px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-all text-sm font-semibold",onClick:h=>{h.stopPropagation(),c(u.id)},children:"📝 Open"})]})]},u.id))})]})}),t.jsx(Oi,{isOpen:i,onClose:()=>l(!1)})]})}function Ii(){const{projectId:r}=_r(),e=Ge(),s=Wr(),{currentProject:n,loadProject:a,isLoading:o}=le();if(d.useEffect(()=>{r&&a(r)},[r,a]),o)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsx(Z,{size:"lg"})});if(!n)return t.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Project Not Found"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"The project you're looking for doesn't exist."}),t.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-primary",children:"Back to Dashboard"})]})});const i=[{name:"Script Editor",path:"script",icon:We,description:"Write and format your screenplay"},{name:"Breakdown",path:"breakdown",icon:uo,description:"Tag elements and create production sheets"},{name:"Schedule",path:"schedule",icon:_a,description:"Plan and organize your shoot"},{name:"Collaborate",path:"collaborate",icon:Rr,description:"Share and work with your team"}],l=s.pathname.split("/").pop();return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("header",{className:"bg-white shadow",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex items-center justify-between py-6",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("button",{onClick:()=>e("/dashboard"),className:"mr-4 p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:t.jsx(Ea,{className:"h-5 w-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n.title}),t.jsxs("p",{className:"text-sm text-gray-500",children:[n.format," • ",n.status," • v",n.version]})]})]})})})}),t.jsx("nav",{className:"bg-white border-b border-gray-200",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsx("div",{className:"flex space-x-8",children:i.map(c=>{const u=c.icon,h=l===c.path;return t.jsxs("button",{onClick:()=>e(`/project/${r}/${c.path}`),className:`flex items-center py-4 px-1 border-b-2 font-medium text-sm ${h?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[t.jsx(u,{className:"h-5 w-5 mr-2"}),c.name]},c.name)})})})}),t.jsx("main",{className:"flex-1",children:t.jsx(Vr,{})})]})}const Ri="modulepreload",Di=function(r,e){return new URL(r,e).href},er={},Fi=function(e,s,n){if(!s||s.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=Di(o,n),o in er)return;er[o]=!0;const i=o.endsWith(".css"),l=i?'[rel="stylesheet"]':"";if(!!n)for(let h=a.length-1;h>=0;h--){const v=a[h];if(v.href===o&&(!i||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=i?"stylesheet":Ri,i||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),i)return new Promise((h,v)=>{u.addEventListener("load",h),u.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},te={SCENE_HEADING:/^(INT|EXT|INT\/EXT|INTERIOR|EXTERIOR)[\.\s]+(.+?)[\s\-]+(DAY|NIGHT|DAWN|DUSK|MORNING|AFTERNOON|EVENING|LATER|CONTINUOUS|SAME TIME)/i,CHARACTER:/^[A-Z][A-Z\s]+(\([^)]*\))?$/,TRANSITION:/^(FADE IN|FADE OUT|FADE TO BLACK|CUT TO|DISSOLVE TO|MATCH CUT|SMASH CUT|JUMP CUT)[\:\s]/i,PARENTHETICAL:/^\([^)]+\)$/,SHOT:/^(CLOSE UP|CLOSE-UP|WIDE SHOT|MEDIUM SHOT|TWO SHOT|INSERT|POV|ANGLE ON)/i},Li=["INT.","EXT.","INT/EXT.","INTERIOR","EXTERIOR"],Pi=["DAY","NIGHT","DAWN","DUSK","MORNING","AFTERNOON","EVENING","LATER","CONTINUOUS","SAME TIME"],Mi=["FADE IN:","FADE OUT.","FADE TO BLACK.","CUT TO:","DISSOLVE TO:","MATCH CUT TO:","SMASH CUT TO:"];function wt(r,e){const s=r.trim();return s?te.SCENE_HEADING.test(s)?"scene_heading":te.TRANSITION.test(s)?"transition":te.SHOT.test(s)?"shot":te.PARENTHETICAL.test(s)?"parenthetical":te.CHARACTER.test(s)?"character":(e==="character"||e==="parenthetical")&&!te.SCENE_HEADING.test(s)&&!te.TRANSITION.test(s)&&!te.SHOT.test(s)&&!te.CHARACTER.test(s)?"dialogue":"action":"action"}function je(r,e){const s=r[e],n=e>0?r[e-1]:"",a=e>0?wt(n):void 0;return wt(s,a)}function jt(r,e){const s=r.trim();switch(e){case"scene_heading":return s.toUpperCase();case"character":return s.toUpperCase();case"transition":return s.toUpperCase();case"shot":return s.toUpperCase();case"parenthetical":return`(${s.replace(/^\(|\)$/g,"").toLowerCase()})`;case"dialogue":case"action":default:return s}}function $i(r,e){const s=r.toUpperCase();switch(e){case"scene_heading":const n=[];return Li.forEach(a=>{a.startsWith(s)&&n.push(a+" ")}),(r.includes(" - ")||r.endsWith(" -"))&&Pi.forEach(a=>{a.startsWith(s.split(" - ").pop()||"")&&n.push(a)}),n;case"transition":return Mi.filter(a=>a.startsWith(s));default:return[]}}function tr(r){switch(r){case"scene_heading":case"action":case"shot":return"";case"character":return"                    ";case"dialogue":return"          ";case"parenthetical":return"               ";case"transition":return"                                        ";default:return""}}function Ui(r){return["scene_heading","character","transition","shot"].includes(r)}function rr(r){const e=r.split(`
`);return e.map((n,a)=>{const o=je(e,a);return o==="dialogue"?n:jt(n,o)}).join(`
`)}function Hi({value:r,onChange:e,placeholder:s,className:n=""}){const a=d.useRef(null),[o,i]=d.useState({suggestions:[],position:0,selectedIndex:0,isVisible:!1}),[l,c]=d.useState({text:"",isVisible:!1}),u=()=>{if(!a.current)return"";const g=a.current.selectionStart,w=r.substring(0,g).split(`
`);return w[w.length-1]},h=()=>{if(!a.current)return 0;const g=a.current.selectionStart;return r.substring(0,g).lastIndexOf(`
`)+1},v=p=>{if(!a.current)return;const g=a.current,f=g.selectionStart,w=h(),S=r.substring(f).indexOf(`
`),j=S===-1?r.length:f+S,N=r.substring(0,w)+p+r.substring(j);e(N),setTimeout(()=>{const A=w+p.length;g.setSelectionRange(A,A),g.focus()},0)},b=p=>{const g=a.current;if(g){if(p.key==="Tab"&&o.isVisible){p.preventDefault();const f=o.suggestions[o.selectedIndex];f&&(v(f),i(w=>({...w,isVisible:!1})));return}if(o.isVisible){if(p.key==="ArrowDown"){p.preventDefault(),i(f=>({...f,selectedIndex:(f.selectedIndex+1)%f.suggestions.length}));return}if(p.key==="ArrowUp"){p.preventDefault(),i(f=>({...f,selectedIndex:f.selectedIndex===0?f.suggestions.length-1:f.selectedIndex-1}));return}if(p.key==="Escape"){i(f=>({...f,isVisible:!1}));return}}if(p.key==="Enter"){const f=u(),w=wt(f);if(f.trim()){const S=jt(f,w);S!==f&&v(S)}let T="";if(w==="character"?T=tr("dialogue"):w==="scene_heading"&&(T=tr("action")),T){p.preventDefault();const S=g.selectionStart,j=r.substring(0,S)+`
`+T+r.substring(S);e(j),setTimeout(()=>{const N=S+1+T.length;g.setSelectionRange(N,N),g.focus()},0)}}p.key===":"&&u().trim().match(/^(FADE IN|CUT TO|DISSOLVE TO)$/i)&&setTimeout(()=>{const w=u(),T=jt(w,"transition");T!==w&&v(T)},0)}},m=p=>{var $;const g=p.target.value;e(g);const f=u();if(!f.trim()){i(H=>({...H,isVisible:!1})),c(H=>({...H,isVisible:!1}));return}const w=g.split(`
`),T=(($=a.current)==null?void 0:$.selectionStart)||0,j=g.substring(0,T).split(`
`).length-1,N=je(w,j);if(Ui(N)){const H=f.toUpperCase();H!==f&&setTimeout(()=>{v(H)},0)}y(N);const A=$i(f,N);A.length>0?i({suggestions:A,position:h(),selectedIndex:0,isVisible:!0}):i(H=>({...H,isVisible:!1}))},y=p=>{let g="";switch(p){case"scene_heading":g="🎬 Scene Heading: Use INT./EXT. LOCATION - TIME format";break;case"character":g="👤 Character Name: Type in ALL CAPS, press Enter for dialogue";break;case"dialogue":g="💬 Dialogue: Character speech - will be indented in final format";break;case"parenthetical":g="📝 Parenthetical: Actor direction in (parentheses)";break;case"action":g="🎯 Action: Scene description and action lines";break;case"transition":g="🎞️ Transition: Scene transitions like CUT TO:, FADE OUT";break;default:g=""}g&&(c({text:g,isVisible:!0,elementType:p}),setTimeout(()=>{c(f=>({...f,isVisible:!1}))},3e3))},x=()=>{if(!a.current||!o.isVisible)return{display:"none"};const g=a.current.getBoundingClientRect(),f=24,T=r.substring(0,a.current.selectionStart).split(`
`).length-1;return{position:"absolute",left:g.left+20,top:g.top+(T+1)*f,zIndex:1e3,backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"6px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",minWidth:"200px"}};return t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{ref:a,value:r,onChange:m,onKeyDown:b,placeholder:s,className:`${n} script-font`,style:{fontFamily:"Courier New, monospace",fontSize:"12pt",lineHeight:"24px",whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#1f2937",border:"none",outline:"none",padding:"24px",width:"100%",height:"100%",resize:"none"}}),o.isVisible&&t.jsxs("div",{style:x(),children:[t.jsx("div",{className:"py-1 max-h-60 overflow-y-auto",children:o.suggestions.map((p,g)=>t.jsx("div",{className:`px-3 py-2 cursor-pointer text-sm ${g===o.selectedIndex?"bg-primary-100 text-primary-900":"text-gray-900 hover:bg-gray-100"}`,onClick:()=>{v(p),i(f=>({...f,isVisible:!1}))},children:p},g))}),t.jsx("div",{className:"px-3 py-1 bg-gray-50 border-t border-gray-200 text-xs text-gray-500",children:"Press Tab to accept, ↑↓ to navigate, Esc to close"})]}),l.isVisible&&t.jsxs("div",{className:"absolute top-4 right-4 bg-gray-900 text-white px-3 py-2 rounded-lg shadow-lg z-20 max-w-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"text-sm font-medium",children:l.text}),t.jsx("button",{onClick:()=>c(p=>({...p,isVisible:!1})),className:"text-gray-300 hover:text-white",children:t.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),t.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-4 border-transparent border-t-gray-900"})]})]})}function zi({isOpen:r,onClose:e,onImport:s}){const[n,a]=d.useState(!1),[o,i]=d.useState(""),l=d.useRef(null),c=async b=>{var y,x;const m=(y=b.target.files)==null?void 0:y[0];if(m){a(!0),i("");try{const p=(x=m.name.split(".").pop())==null?void 0:x.toLowerCase();let g="";if(p==="txt"||p==="fountain")g=await m.text();else if(p==="pdf")try{const f=await m.arrayBuffer();if(g=await u(f),!g.trim()){i("No text found in PDF. Please ensure the PDF contains selectable text, not scanned images."),a(!1);return}}catch{i("PDF import requires text-based PDFs. For scanned PDFs, please export as text first."),a(!1);return}else if(p==="fdx"){const f=await m.text();g=h(f)}else g=await m.text();g=v(g),s(g),e()}catch(p){i("Failed to import file. Please check the format and try again."),console.error("Import error:",p)}finally{a(!1)}}},u=async b=>{try{const m=new Uint8Array(b),p=new TextDecoder("latin1").decode(m).match(/BT\s+(.*?)\s+ET/gs);if(!p)throw new Error("No text objects found");let g="";return p.forEach(f=>{const w=f.match(/\((.*?)\)\s*Tj/g);w&&w.forEach(T=>{const S=T.replace(/\((.*?)\)\s*Tj/,"$1");g+=S+`
`})}),g.trim()}catch{throw new Error("Failed to extract text from PDF")}},h=b=>{try{return b.replace(/<[^>]+>/g,`
`).replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").split(`
`).map(y=>y.trim()).filter(y=>y.length>0).join(`
`)}catch{throw new Error("Invalid FDX format")}},v=b=>b.split(`
`).map(m=>m.trim()).filter(m=>m.length>0||b.includes(`

`)).join(`
`).replace(/\n{3,}/g,`

`);return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Script"}),t.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:t.jsx(It,{className:"h-6 w-6"})})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Import scripts from various formats. Supported formats:"}),t.jsxs("ul",{className:"text-sm text-gray-500 space-y-1 mb-4",children:[t.jsxs("li",{children:["• ",t.jsx("strong",{children:"TXT/Fountain:"})," Plain text and Fountain markup"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"FDX:"})," Final Draft XML format"]}),t.jsxs("li",{children:["• ",t.jsx("strong",{children:"PDF:"})," Text extraction (text-based PDFs only)"]})]})]}),o&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:t.jsx("p",{className:"text-sm text-red-600",children:o})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("input",{ref:l,type:"file",accept:".txt,.fountain,.fdx,.pdf",onChange:c,className:"hidden"}),t.jsxs("button",{onClick:()=>{var b;return(b=l.current)==null?void 0:b.click()},disabled:n,className:"w-full flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-md hover:border-primary-400 hover:bg-primary-50 transition-colors",children:[t.jsx(kr,{className:"h-8 w-8 text-gray-400 mr-3"}),t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:n?"Processing...":"Choose file to import"}),t.jsx("p",{className:"text-xs text-gray-500",children:"TXT, Fountain, FDX, PDF formats supported"})]})]})]}),t.jsx("div",{className:"flex justify-end space-x-2 mt-6",children:t.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"})})]})}):null}function Bi({isOpen:r,onClose:e,revisions:s,currentContent:n,onRestoreRevision:a,onCreateTag:o,currentUser:i}){const[l,c]=d.useState(null),[u,h]=d.useState(!1),[v,b]=d.useState(""),[m,y]=d.useState("all"),x=s.filter(f=>m==="mine"?f.userId===i:m==="others"?f.userId!==i:!0),p=f=>{window.confirm(`Restore to revision "${f.version}" from ${rt(f.timestamp,"PPpp")}?

This will replace your current script content.`)&&(a(f),e())},g=f=>{v.trim()&&(o(f,v.trim()),b(""))};return t.jsx(Rt,{isOpen:r,onClose:e,title:"Revision History",size:"xl",children:t.jsxs("div",{className:"flex h-[70vh]",children:[t.jsxs("div",{className:"w-1/2 border-r border-gray-200 pr-4",children:[t.jsxs("div",{className:"flex space-x-2 mb-4",children:[t.jsxs("button",{onClick:()=>y("all"),className:`px-3 py-1 text-sm rounded-md ${m==="all"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700"}`,children:["All (",s.length,")"]}),t.jsxs("button",{onClick:()=>y("mine"),className:`px-3 py-1 text-sm rounded-md ${m==="mine"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700"}`,children:["Mine (",s.filter(f=>f.userId===i).length,")"]}),t.jsxs("button",{onClick:()=>y("others"),className:`px-3 py-1 text-sm rounded-md ${m==="others"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-700"}`,children:["Others (",s.filter(f=>f.userId!==i).length,")"]})]}),t.jsxs("div",{className:"space-y-2 max-h-full overflow-y-auto",children:[x.map(f=>t.jsxs("div",{className:`p-3 border rounded-lg cursor-pointer transition-colors ${(l==null?void 0:l.id)===f.id?"border-primary-300 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,onClick:()=>c(f),children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm text-gray-900",children:f.version}),t.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[t.jsx(kt,{className:"h-3 w-3 mr-1"}),f.user,t.jsx(ye,{className:"h-3 w-3 ml-2 mr-1"}),Kr(f.timestamp,{addSuffix:!0})]})]}),t.jsx("div",{className:"text-right",children:t.jsx("div",{className:"text-xs text-gray-500",children:rt(f.timestamp,"MMM d, HH:mm")})})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-xs mb-2",children:[f.changes.added>0&&t.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded",children:["+",f.changes.added]}),f.changes.removed>0&&t.jsxs("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded",children:["-",f.changes.removed]}),f.changes.modified>0&&t.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded",children:["~",f.changes.modified]})]}),f.description&&t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:f.description}),f.tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1",children:f.tags.map(w=>t.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded",children:[t.jsx(qe,{className:"h-3 w-3 mr-1"}),w]},w))})]},f.id)),x.length===0&&t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(ye,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No revisions found"})]})]})]}),t.jsx("div",{className:"w-1/2 pl-4",children:l?t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l.version}),t.jsxs("p",{className:"text-sm text-gray-600",children:["by ",l.user," • ",rt(l.timestamp,"PPpp")]})]}),t.jsxs("div",{className:"flex space-x-2",children:[t.jsxs("button",{onClick:()=>h(!u),className:"btn-outline text-sm",children:[t.jsx(Ot,{className:"h-4 w-4 mr-1"}),u?"Hide":"Preview"]}),t.jsxs("button",{onClick:()=>p(l),className:"btn-primary text-sm",children:[t.jsx(Oa,{className:"h-4 w-4 mr-1"}),"Restore"]})]})]}),t.jsx("div",{className:"mb-4",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("input",{type:"text",value:v,onChange:f=>b(f.target.value),placeholder:"Add tag...",className:"flex-1 px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",onKeyPress:f=>{f.key==="Enter"&&g(l.id)}}),t.jsx("button",{onClick:()=>g(l.id),className:"px-3 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded-md",children:"Add Tag"})]})}),t.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-2",children:"Changes"}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-medium text-green-600",children:["+",l.changes.added]}),t.jsx("div",{className:"text-gray-500",children:"Added"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-medium text-red-600",children:["-",l.changes.removed]}),t.jsx("div",{className:"text-gray-500",children:"Removed"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-medium text-blue-600",children:["~",l.changes.modified]}),t.jsx("div",{className:"text-gray-500",children:"Modified"})]})]})]}),u&&t.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[t.jsx("h4",{className:"font-medium text-sm text-gray-900 mb-2",children:"Script Preview"}),t.jsxs("div",{className:"max-h-64 overflow-y-auto text-sm font-mono leading-6 text-gray-800",children:[l.content.split(`
`).slice(0,20).map((f,w)=>t.jsx("div",{children:f||" "},w)),l.content.split(`
`).length>20&&t.jsxs("div",{className:"text-gray-500 italic",children:["... and ",l.content.split(`
`).length-20," more lines"]})]})]})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:t.jsxs("div",{className:"text-center",children:[t.jsx(ye,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"Select a revision to view details"})]})})})]})})}const _i=[{category:"Script Formatting",shortcuts:[{keys:"Cmd+1",description:"Scene Heading",windows:"Ctrl+1"},{keys:"Cmd+2",description:"Action",windows:"Ctrl+2"},{keys:"Cmd+3",description:"Character",windows:"Ctrl+3"},{keys:"Cmd+4",description:"Dialogue",windows:"Ctrl+4"},{keys:"Cmd+5",description:"Parenthetical",windows:"Ctrl+5"},{keys:"Cmd+6",description:"Transition",windows:"Ctrl+6"},{keys:"Cmd+7",description:"Shot",windows:"Ctrl+7"},{keys:"Cmd+Shift+F",description:"Auto-format entire script",windows:"Ctrl+Shift+F"}]},{category:"File Operations",shortcuts:[{keys:"Cmd+N",description:"New script",windows:"Ctrl+N"},{keys:"Cmd+O",description:"Open/Import script",windows:"Ctrl+O"},{keys:"Cmd+S",description:"Save script",windows:"Ctrl+S"},{keys:"Cmd+Shift+S",description:"Save As...",windows:"Ctrl+Shift+S"},{keys:"Cmd+E",description:"Export as PDF",windows:"Ctrl+E"},{keys:"Cmd+Shift+E",description:"Export as Final Draft",windows:"Ctrl+Shift+E"},{keys:"Cmd+Alt+E",description:"Export as Text",windows:"Ctrl+Alt+E"}]},{category:"Navigation & View",shortcuts:[{keys:"Cmd+P",description:"Toggle Preview mode",windows:"Ctrl+P"},{keys:"Cmd+R",description:"View Revisions",windows:"Ctrl+R"},{keys:"Cmd+K",description:"Keyboard shortcuts (this dialog)",windows:"Ctrl+K"},{keys:"Cmd+F",description:"Find in script",windows:"Ctrl+F"},{keys:"Cmd+G",description:"Find next",windows:"Ctrl+G"},{keys:"Cmd+Shift+G",description:"Find previous",windows:"Ctrl+Shift+G"}]},{category:"Editing",shortcuts:[{keys:"Tab",description:"Accept autocomplete suggestion"},{keys:"↑↓",description:"Navigate autocomplete suggestions"},{keys:"Esc",description:"Close autocomplete/dialogs"},{keys:"Cmd+Z",description:"Undo",windows:"Ctrl+Z"},{keys:"Cmd+Shift+Z",description:"Redo",windows:"Ctrl+Y"},{keys:"Cmd+A",description:"Select all",windows:"Ctrl+A"},{keys:"Cmd+C",description:"Copy",windows:"Ctrl+C"},{keys:"Cmd+V",description:"Paste",windows:"Ctrl+V"},{keys:"Cmd+X",description:"Cut",windows:"Ctrl+X"}]},{category:"Smart Features",shortcuts:[{keys:"Enter",description:"Smart line break with proper indentation"},{keys:"Shift+Enter",description:"Simple line break"},{keys:"Cmd+/",description:"Toggle comment/note",windows:"Ctrl+/"},{keys:"Cmd+D",description:"Duplicate current line",windows:"Ctrl+D"},{keys:"Cmd+L",description:"Go to line",windows:"Ctrl+L"}]},{category:"Production Tools",shortcuts:[{keys:"Cmd+B",description:"Open Script Breakdown",windows:"Ctrl+B"},{keys:"Cmd+T",description:"Create Task",windows:"Ctrl+T"},{keys:"Cmd+M",description:"Add Note/Comment",windows:"Ctrl+M"},{keys:"Cmd+Shift+B",description:"Auto-breakdown current scene",windows:"Ctrl+Shift+B"}]}],sr=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0;function Wi({isOpen:r,onClose:e}){const s=n=>{const a=n.split("+");return t.jsx("div",{className:"flex items-center space-x-1",children:a.map((o,i)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx("kbd",{className:"px-2 py-1 text-xs font-medium bg-gray-100 border border-gray-300 rounded shadow-sm",children:o==="Cmd"&&!sr?"Ctrl":o}),i<a.length-1&&t.jsx("span",{className:"text-gray-400 mx-1",children:"+"})]},i))})};return t.jsx(Rt,{isOpen:r,onClose:e,title:"Keyboard Shortcuts",size:"xl",children:t.jsxs("div",{className:"max-h-[70vh] overflow-y-auto",children:[t.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-center text-blue-800 text-sm",children:[t.jsx(No,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"font-medium",children:"Pro Tip:"}),t.jsx("span",{className:"ml-1",children:"All shortcuts work in both editing and preview modes"})]})}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_i.map(n=>t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[t.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[t.jsx(Or,{className:"h-4 w-4 mr-2"}),n.category]}),t.jsx("div",{className:"space-y-2",children:n.shortcuts.map((a,o)=>t.jsxs("div",{className:"flex items-center justify-between bg-white rounded px-3 py-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx("span",{className:"text-sm text-gray-700",children:a.description})}),t.jsx("div",{className:"ml-4",children:s(sr?a.keys:a.windows||a.keys)})]},o))})]},n.category))}),t.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Quick Start Tips"}),t.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[t.jsx("li",{children:'• Type "INT." or "EXT." and the line will auto-format as a scene heading'}),t.jsx("li",{children:"• Character names in ALL CAPS will be auto-detected and formatted"}),t.jsx("li",{children:"• Press Tab to accept autocomplete suggestions"}),t.jsx("li",{children:"• Use Enter after character names for automatic dialogue indentation"}),t.jsx("li",{children:"• The script auto-saves every 2 seconds while typing"})]})]}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("button",{onClick:e,className:"btn-primary",children:"Got it, thanks!"})})]})})}class Vi{constructor(e,s){Fe(this,"lines");Fe(this,"options");this.lines=e.split(`
`),this.options=s}export(){const e=this.parseElements(),s=this.generateTitlePage(),n=this.generateScriptElements(e);return this.generateFDXDocument(s,n)}parseElements(){const e=[];let s=1;for(let n=0;n<this.lines.length;n++){const a=this.lines[n];if(!a.trim()){e.push({id:s++,type:"Action",text:"",isEmpty:!0});continue}const o=je(this.lines,n),i=this.mapToFDXType(o);e.push({id:s++,type:i,text:a.trim(),isEmpty:!1,originalType:o})}return e}mapToFDXType(e){return{scene_heading:"Scene Heading",action:"Action",character:"Character",dialogue:"Dialogue",parenthetical:"Parenthetical",transition:"Transition",shot:"Shot"}[e]||"Action"}generateTitlePage(){const s=(this.options.date||new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return`
    <TitlePage>
      <Content>
        <Paragraph Type="Title">
          <Text>${this.escapeXML(this.options.title.toUpperCase())}</Text>
        </Paragraph>
        <Paragraph Type="Title">
          <Text></Text>
        </Paragraph>
        <Paragraph Type="Title">
          <Text></Text>
        </Paragraph>
        <Paragraph Type="Written By">
          <Text>Written by</Text>
        </Paragraph>
        <Paragraph Type="Written By">
          <Text></Text>
        </Paragraph>
        <Paragraph Type="Author">
          <Text>${this.escapeXML(this.options.author)}</Text>
        </Paragraph>
        <Paragraph Type="Author">
          <Text></Text>
        </Paragraph>
        <Paragraph Type="Author">
          <Text></Text>
        </Paragraph>
        <Paragraph Type="Author">
          <Text></Text>
        </Paragraph>
        <Paragraph Type="Contact">
          <Text>${this.escapeXML(this.options.contact||"")}</Text>
        </Paragraph>
        <Paragraph Type="Contact">
          <Text>${s}</Text>
        </Paragraph>
        ${this.options.draft?`
        <Paragraph Type="Draft">
          <Text>${this.escapeXML(this.options.draft)}</Text>
        </Paragraph>
        `:""}
      </Content>
    </TitlePage>`}generateScriptElements(e){let s="";return e.forEach(n=>{n.isEmpty?s+=`        <Paragraph Type="Action"><Text></Text></Paragraph>
`:(s+=`        <Paragraph Type="${n.type}">`,n.text&&(s+=`<Text>${this.escapeXML(n.text)}</Text>`),s+=`</Paragraph>
`)}),s}generateFDXDocument(e,s){const n=new Date().toISOString();return`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<FinalDraft DocumentType="Script" Template="No" Version="12">

  <Content>
${e}

    <Body>
      <Content>
${s}
      </Content>
    </Body>
  </Content>

  <ScriptProperties>
    <Title>${this.escapeXML(this.options.title)}</Title>
    <Author>${this.escapeXML(this.options.author)}</Author>
    <Draft>${this.escapeXML(this.options.draft||"First Draft")}</Draft>
    <Date>${n}</Date>
    <Copyright></Copyright>
    <Contact>${this.escapeXML(this.options.contact||"")}</Contact>
    <Summary></Summary>
  <\/ScriptProperties>

  <ElementSettings Type="Action">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="" />
    <Behavior PaginateAs="" ReturnKey="" />
    <Margins Bottom="0" Left="1.5" Right="7.0" Top="12" />
    <LineSpacing Lines="1" />
    <Capitalization>Mixed</Capitalization>
  </ElementSettings>

  <ElementSettings Type="Character">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="" />
    <Behavior PaginateAs="" ReturnKey="Dialogue" />
    <Margins Bottom="0" Left="3.7" Right="7.0" Top="12" />
    <LineSpacing Lines="1" />
    <Capitalization>Upper</Capitalization>
  </ElementSettings>

  <ElementSettings Type="Dialogue">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="" />
    <Behavior PaginateAs="" ReturnKey="" />
    <Margins Bottom="0" Left="2.5" Right="2.5" Top="0" />
    <LineSpacing Lines="1" />
    <Capitalization>Mixed</Capitalization>
  </ElementSettings>

  <ElementSettings Type="Parenthetical">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="" />
    <Behavior PaginateAs="" ReturnKey="Dialogue" />
    <Margins Bottom="0" Left="3.1" Right="3.5" Top="0" />
    <LineSpacing Lines="1" />
    <Capitalization>Mixed</Capitalization>
  </ElementSettings>

  <ElementSettings Type="Scene Heading">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="Bold" />
    <Behavior PaginateAs="" ReturnKey="Action" />
    <Margins Bottom="0" Left="1.5" Right="7.0" Top="24" />
    <LineSpacing Lines="1" />
    <Capitalization>Upper</Capitalization>
  </ElementSettings>

  <ElementSettings Type="Transition">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="" />
    <Behavior PaginateAs="" ReturnKey="Scene Heading" />
    <Margins Bottom="0" Left="6.0" Right="7.0" Top="12" />
    <LineSpacing Lines="1" />
    <Capitalization>Upper</Capitalization>
  </ElementSettings>

  <ElementSettings Type="Shot">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#000000000000" Effect="" Face="Courier New" Size="12" Style="Bold" />
    <Behavior PaginateAs="" ReturnKey="Action" />
    <Margins Bottom="0" Left="1.5" Right="7.0" Top="12" />
    <LineSpacing Lines="1" />
    <Capitalization>Upper</Capitalization>
  </ElementSettings>

  <Watermark ShowOnPrint="No" ShowOnScreen="No">
    <FontSpec AdornmentStyle="0" Background="#FFFFFFFFFFFF" Color="#999999999999" Effect="" Face="Arial" Size="36" Style="Bold" />
    <Text>WATERMARK</Text>
  </Watermark>

  <WindowState Height="700" Left="78" Top="0" Width="700" />

</FinalDraft>`}escapeXML(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}}function qi(r,e){const n=new Vi(r,e).export(),a=new Blob([n],{type:"application/xml"}),o=URL.createObjectURL(a),i=document.createElement("a");i.href=o,i.download=`${e.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.fdx`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}function Gi(r){var s,n;const e=[];return(s=r.title)!=null&&s.trim()||e.push("Title is required"),(n=r.author)!=null&&n.trim()||e.push("Author name is required"),r.title&&r.title.length>200&&e.push("Title must be less than 200 characters"),r.author&&r.author.length>100&&e.push("Author name must be less than 100 characters"),e}function Xi(){const{currentProject:r,updateScriptContent:e}=le(),{user:s}=ke(),[n,a]=d.useState(""),[o,i]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(!1),[v,b]=d.useState(!1),[m,y]=d.useState(!1),[x,p]=d.useState([]),g=n.split(/\s+/).filter(C=>C.length>0).length,f=n.split(`
`).length,w=n.length,T=Math.ceil(f/55),S=(s==null?void 0:s.name)||"User";d.useEffect(()=>{r&&(a(r.scriptContent||""),j())},[r]);const j=()=>{try{const C=localStorage.getItem(`revisions_${r==null?void 0:r.id}`);if(C){const O=JSON.parse(C).map(k=>({...k,timestamp:new Date(k.timestamp)}));p(O)}}catch(C){console.error("Failed to load revisions:",C)}},N=d.useCallback((C,O)=>{if(!r||!C.trim())return;const k={id:`revision_${Date.now()}`,content:C,timestamp:new Date,user:S,userId:(s==null?void 0:s.id)||"user",version:`v${x.length+1}.0`,description:O,changes:{added:0,removed:0,modified:C.split(`
`).length},tags:[]},P=[...x,k];p(P),localStorage.setItem(`revisions_${r.id}`,JSON.stringify(P)),F.success("🎬 Revision saved!",{duration:2e3,style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})},[r,x,S,s==null?void 0:s.id]),A=C=>{a(C),clearTimeout(window.autoSaveTimer),window.autoSaveTimer=setTimeout(()=>{e(C);const O=x[x.length-1];(!O||Date.now()-O.timestamp.getTime()>10*60*1e3)&&N(C,"Auto-save revision")},2e3)},$=()=>{const C=rr(n);a(C),e(C),N(C,"Auto-format applied"),F.success("✨ Script formatted perfectly!",{duration:3e3,style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})},H=C=>{F.success(`🎯 Formatting as ${C}`,{duration:1500,style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})},q=C=>{const O=rr(C);a(O),e(O),N(O,"Script imported"),F.success("📥 Script imported successfully!",{style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})},D=async()=>{!r||!n.trim()||(i(!0),e(n),N(n,"Manual save"),setTimeout(()=>{i(!1),F.success("💾 Script saved successfully!",{style:{background:"#dcfce7",color:"#166534",fontWeight:"600"}})},1e3))},J=async()=>{var C;try{const{jsPDF:O}=await Fi(()=>import("./jspdf.es.min-bd0c88cb.js"),["./jspdf.es.min-bd0c88cb.js","./utils-1822e385.js","./vendor-7622f6d1.js","./ui-355b2679.js"],import.meta.url),k=new O("portrait","pt","letter"),P=612,L=792,W=90,Ne=54,fe=54,Qe=54,Se=12;let G=fe,ce=1;k.setFont("courier","bold"),k.setFontSize(24);const Re=L/2-100;k.text(((C=r==null?void 0:r.title)==null?void 0:C.toUpperCase())||"UNTITLED SCRIPT",P/2,Re,{align:"center"}),k.setFont("courier","normal"),k.setFontSize(12),k.text("Written by",P/2,Re+60,{align:"center"}),k.text(S,P/2,Re+80,{align:"center"});const Lr=new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});k.text(Lr,P-Ne,L-Qe-40,{align:"right"}),k.text("FIRST DRAFT",P/2,Re+120,{align:"center"}),k.addPage(),ce++,G=fe+36;const et=n.split(`
`);for(let Ce=0;Ce<et.length;Ce++){const Dt=et[Ce];if(G>L-Qe-24&&(k.addPage(),ce++,G=fe,ce>1&&(k.setFont("courier","normal"),k.setFontSize(12),k.text(`${ce}.`,P-Ne-20,fe-18))),Dt.trim()){const Pr=je(et,Ce);let z=Dt.trim(),ge=W,Mr=12,De="normal";switch(Pr){case"scene_heading":z=z.toUpperCase(),De="bold",Ce>0&&(G+=Se);break;case"character":z=z.toUpperCase(),ge=W+216,De="bold",G+=Se/2;break;case"dialogue":ge=W+108;break;case"parenthetical":z.startsWith("(")||(z="("+z),z.endsWith(")")||(z=z+")"),ge=W+144;break;case"transition":z=z.toUpperCase(),!z.endsWith(":")&&!z.endsWith(".")&&(z=z+":"),ge=P-Ne-k.getTextWidth(z)-18,De="bold",G+=Se;break}k.setFont("courier",De),k.setFontSize(Mr);const $r=P-W-Ne-(ge-W),Ft=k.splitTextToSize(z,$r);for(let tt=0;tt<Ft.length;tt++)G>L-Qe-24&&(k.addPage(),ce++,G=fe,ce>1&&(k.setFont("courier","normal"),k.setFontSize(12),k.text(`${ce}.`,P-Ne-20,fe-18))),k.text(Ft[tt],ge,G),G+=Se}else G+=Se}k.save(`${(r==null?void 0:r.title)||"script"}.pdf`),F.success("📄 Professional PDF exported!",{duration:3e3,style:{background:"#dcfce7",color:"#166534",fontWeight:"600"}})}catch(O){console.error("PDF export failed:",O),F.error("❌ PDF export failed. Please try again.")}},Q=()=>{if(!r||!n.trim()){F.error("No content to export");return}const C={title:r.title,author:S,draft:"First Draft",date:new Date,contact:(s==null?void 0:s.email)||""},O=Gi(C);if(O.length>0){F.error(`Export failed: ${O.join(", ")}`);return}try{qi(n,C),F.success("🎬 Final Draft file exported!",{duration:3e3,style:{background:"#dbeafe",color:"#1e40af",fontWeight:"600"}})}catch(k){console.error("FDX export failed:",k),F.error("❌ Final Draft export failed. Please try again.")}},E=()=>{if(!n.trim()){F.error("No content to export");return}const C=new Blob([n],{type:"text/plain"}),O=URL.createObjectURL(C),k=document.createElement("a");k.href=O,k.download=`${(r==null?void 0:r.title)||"script"}.txt`,k.click(),URL.revokeObjectURL(O),F.success("📝 Text file exported!",{style:{background:"#f3f4f6",color:"#374151",fontWeight:"600"}})},I=C=>{a(C.content),e(C.content),F.success(`⏪ Restored to ${C.version}`,{style:{background:"#fef3c7",color:"#92400e",fontWeight:"600"}})},U=(C,O)=>{const k=x.map(P=>P.id===C?{...P,tags:[...P.tags,O]}:P);p(k),localStorage.setItem(`revisions_${r==null?void 0:r.id}`,JSON.stringify(k)),F.success("🏷️ Tag added to revision")};if(d.useEffect(()=>{const C=O=>{if(O.metaKey||O.ctrlKey)switch(O.key){case"k":O.preventDefault(),y(!0);break;case"r":O.preventDefault(),b(!0);break;case"p":O.preventDefault(),c(!l);break;case"s":O.preventDefault(),D();break;case"o":O.preventDefault(),h(!0);break;case"e":O.preventDefault(),O.shiftKey?Q():O.altKey?E():J();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":O.preventDefault(),H(["scene_heading","action","character","dialogue","parenthetical","transition","shot"][parseInt(O.key)-1]);break}};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[l]),!r)return t.jsx("div",{className:"flex items-center justify-center h-screen",style:{background:"linear-gradient(135deg, #fed7aa 0%, #f97316 100%)"},children:t.jsx(Z,{size:"lg"})});const V=[{type:"scene_heading",label:"Scene Heading",icon:we,shortcut:"⌘1",color:"bg-blue-500"},{type:"action",label:"Action",icon:qo,shortcut:"⌘2",color:"bg-green-500"},{type:"character",label:"Character",icon:kt,shortcut:"⌘3",color:"bg-red-500"},{type:"dialogue",label:"Dialogue",icon:Ka,shortcut:"⌘4",color:"bg-purple-500"},{type:"parenthetical",label:"Parenthetical",icon:be,shortcut:"⌘5",color:"bg-yellow-500"},{type:"transition",label:"Transition",icon:Ra,shortcut:"⌘6",color:"bg-pink-500"},{type:"shot",label:"Shot",icon:qa,shortcut:"⌘7",color:"bg-indigo-500"}];return t.jsxs("div",{className:"h-screen flex flex-col",style:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)"},children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 shadow-lg",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(be,{className:"h-6 w-6 text-orange-500"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-white drop-shadow-sm",children:"ScriptWriter Pro"}),t.jsx("p",{className:"text-sm text-orange-100",children:r.title})]})]})}),t.jsxs("div",{className:"hidden md:flex items-center space-x-8 text-white",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:g}),t.jsx("div",{className:"text-xs text-orange-100",children:"WORDS"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:T}),t.jsx("div",{className:"text-xs text-orange-100",children:"PAGES"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold",children:x.length}),t.jsx("div",{className:"text-xs text-orange-100",children:"REVISIONS"})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"}),t.jsx("span",{className:"text-sm",children:S})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("button",{onClick:()=>b(!0),className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-all",title:"View revision history (Cmd+R)",children:[t.jsx(ye,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Revisions"})]}),t.jsxs("button",{onClick:()=>c(!l),className:`flex items-center px-4 py-2 rounded-lg transition-all ${l?"bg-white text-orange-600 shadow-lg":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"}`,children:[t.jsx(Ot,{className:"h-4 w-4 mr-2"}),l?"Edit":"Preview"]})]})]})})}),t.jsxs("div",{className:"flex-1 flex",children:[t.jsx("div",{className:"w-64 bg-gradient-to-b from-orange-50 to-orange-100 border-r-2 border-orange-200 p-4 shadow-lg",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Quick Actions"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{onClick:$,className:"w-full flex items-center px-3 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 transition-all shadow-sm",children:[t.jsx(oe,{className:"h-4 w-4 mr-2"}),"Auto-Format"]}),t.jsxs("button",{onClick:()=>h(!0),className:"w-full flex items-center px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all",children:[t.jsx(kr,{className:"h-4 w-4 mr-2"}),"Import"]}),t.jsxs("button",{onClick:D,disabled:o,className:"w-full flex items-center px-3 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-all disabled:opacity-50",children:[o?t.jsx("div",{className:"animate-spin h-4 w-4 mr-2 border-2 border-green-600 border-t-transparent rounded-full"}):t.jsx(be,{className:"h-4 w-4 mr-2"}),o?"Saving...":"Save"]})]})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Format Elements"}),t.jsx("div",{className:"space-y-1",children:V.map(C=>{const O=C.icon;return t.jsxs("button",{onClick:()=>H(C.type),className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-orange-50 hover:text-orange-800 rounded-lg transition-all group",title:`${C.label} (${C.shortcut})`,children:[t.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${C.color} group-hover:scale-110 transition-transform`}),t.jsx(O,{className:"h-4 w-4 mr-2 text-gray-500 group-hover:text-orange-600"}),t.jsx("span",{className:"flex-1 text-left",children:C.label}),t.jsx("span",{className:"text-xs text-gray-400 group-hover:text-orange-500",children:C.shortcut})]},C.type)})})]}),t.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[t.jsx("h3",{className:"text-sm font-semibold text-orange-800 mb-3",children:"Export Options"}),t.jsxs("div",{className:"space-y-1",children:[t.jsxs("button",{onClick:J,className:"w-full flex items-center px-3 py-2 text-sm text-red-700 hover:bg-red-50 rounded-lg transition-all",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-3"}),t.jsx("span",{children:"PDF"})]}),t.jsxs("button",{onClick:Q,className:"w-full flex items-center px-3 py-2 text-sm text-blue-700 hover:bg-blue-50 rounded-lg transition-all",children:[t.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-3"}),t.jsx("span",{children:"Final Draft"})]}),t.jsxs("button",{onClick:E,className:"w-full flex items-center px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-all",children:[t.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full mr-3"}),t.jsx("span",{children:"Text"})]})]})]}),t.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:t.jsxs("button",{onClick:()=>y(!0),className:"w-full flex items-center px-3 py-2 text-sm text-purple-700 hover:bg-purple-50 rounded-lg transition-all",children:[t.jsx(Or,{className:"h-4 w-4 mr-2"}),t.jsx("span",{children:"Keyboard Shortcuts"}),t.jsx("span",{className:"ml-auto text-xs text-gray-400",children:"⌘K"})]})})]})}),t.jsx("div",{className:"flex-1 flex flex-col",children:t.jsx("div",{className:"flex-1 p-8",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-xl border-2 border-orange-200 h-full",children:l?t.jsx("div",{className:"w-full h-full p-8 overflow-y-auto",style:{fontFamily:"Courier New, monospace"},children:n.split(`
`).map((C,O)=>{const k=n.split(`
`),P=je(k,O);let L="mb-2 leading-6",W={};switch(P){case"scene_heading":L+=" font-bold uppercase text-blue-800 text-lg";break;case"character":L+=" font-bold uppercase text-center text-red-700",W.marginLeft="3in";break;case"dialogue":W.marginLeft="1.5in",W.marginRight="1in",L+=" text-gray-800";break;case"parenthetical":L+=" text-center italic text-gray-600",W.marginLeft="2in";break;case"transition":L+=" font-bold uppercase text-right text-pink-700";break;default:W.marginRight="1in",L+=" text-gray-900";break}return t.jsx("div",{className:L,style:W,title:`Element Type: ${P}`,children:C||" "},O)})}):t.jsx(Hi,{value:n,onChange:A,placeholder:`FADE IN:

EXT. ${r.title.toUpperCase()} - DAY

Start writing your professional screenplay here...

🎬 PROFESSIONAL FEATURES:
• Industry-standard formatting
• Real-time auto-save  
• Complete revision history
• Export to PDF & Final Draft
• Full keyboard shortcuts (⌘K)

Begin typing to experience professional scriptwriting!

FADE OUT.`,className:"w-full h-full rounded-2xl"})})})})]}),t.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-orange-200 border-t-2 border-orange-300 px-6 py-3",children:t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-6 text-orange-800",children:[t.jsx("span",{className:"font-semibold",children:"Format: Professional Screenplay"}),t.jsx("span",{children:"Font: Courier New 12pt"}),t.jsxs("span",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Auto-save: ",o?"Saving...":"Active"]})]}),t.jsxs("div",{className:"flex items-center space-x-6 text-orange-700",children:[t.jsxs("span",{children:[w," characters"]}),t.jsxs("span",{className:"font-bold text-orange-600 flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),"v3.0.0-dev"]})]})]})}),t.jsx(zi,{isOpen:u,onClose:()=>h(!1),onImport:q}),t.jsx(Bi,{isOpen:v,onClose:()=>b(!1),revisions:x,currentContent:n,onRestoreRevision:I,onCreateTag:U,currentUser:S}),t.jsx(Wi,{isOpen:m,onClose:()=>y(!1)})]})}function Ki({children:r,sidebar:e,rightPanel:s,className:n=""}){const[a,o]=d.useState(!1),[i,l]=d.useState(!1),[c,u]=d.useState(!1),[h,v]=d.useState(!1);return d.useEffect(()=>{const b=()=>{const m=window.innerWidth,y=navigator.userAgent.toLowerCase(),x=/ipad|iphone|ipod/.test(y);o(m<768),l(m>=768&&m<=1024&&x),u(m>1024&&m<=1366&&x)};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),a?t.jsxs("div",{className:`flex flex-col h-full ${n}`,children:[t.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:e&&t.jsx("button",{onClick:()=>v(!0),className:"p-2 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),e&&h&&t.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>v(!1)}),t.jsxs("div",{className:"relative w-80 bg-white shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Menu"}),t.jsx("button",{onClick:()=>v(!1),className:"p-1 text-gray-500 hover:text-gray-700",children:t.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e]})]}),t.jsx("div",{className:"flex-1 overflow-auto",children:r})]}):i?t.jsxs("div",{className:`flex h-full ${n}`,children:[e&&t.jsx("div",{className:"sidebar-ipad bg-white border-r border-gray-200 flex-shrink-0 overflow-y-auto",children:e}),t.jsx("div",{className:"split-view-content overflow-auto",children:r}),s&&t.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:s})]}):c&&e&&s?t.jsxs("div",{className:`three-column-ipad-pro ${n}`,children:[t.jsx("div",{className:"bg-white border-r border-gray-200 overflow-y-auto",children:e}),t.jsx("div",{className:"overflow-auto",children:r}),t.jsx("div",{className:"bg-white border-l border-gray-200 overflow-y-auto",children:s})]}):t.jsxs("div",{className:`flex h-full ${n}`,children:[e&&t.jsx("div",{className:"w-64 bg-white border-r border-gray-200 flex-shrink-0 overflow-y-auto",children:e}),t.jsx("div",{className:"flex-1 overflow-auto",children:r}),s&&t.jsx("div",{className:"w-80 bg-white border-l border-gray-200 flex-shrink-0 overflow-y-auto",children:s})]})}const Yi={PROPS:[/\b(gun|pistol|rifle|weapon|knife|sword|blade)\b/gi,/\b(phone|cellphone|smartphone|telephone)\b/gi,/\b(car keys|keys|wallet|purse|bag|briefcase)\b/gi,/\b(badge|id|identification|license)\b/gi,/\b(laptop|computer|tablet|notebook|notepad)\b/gi,/\b(glass|cup|bottle|drink|beer|wine|coffee)\b/gi,/\b(document|file|folder|paper|letter|note)\b/gi,/\b(camera|photo|picture|photograph)\b/gi,/\b(book|magazine|newspaper|journal)\b/gi,/\b(jewelry|ring|necklace|watch|bracelet)\b/gi],WARDROBE:[/\b(suit|dress|shirt|pants|jeans|jacket|coat)\b/gi,/\b(uniform|costume|outfit|attire)\b/gi,/\b(hat|cap|helmet|glasses|sunglasses)\b/gi,/\b(shoes|boots|sneakers|heels)\b/gi,/\b(gloves|scarf|tie|bow tie)\b/gi],VEHICLES:[/\b(car|automobile|sedan|suv|truck|van)\b/gi,/\b(motorcycle|bike|bicycle|scooter)\b/gi,/\b(bus|taxi|cab|limousine|limo)\b/gi,/\b(plane|airplane|helicopter|jet)\b/gi,/\b(boat|ship|yacht|ferry)\b/gi,/\b(train|subway|tram)\b/gi],SFX:[/\b(explosion|blast|boom|bang)\b/gi,/\b(gunshot|shot|fire|firing)\b/gi,/\b(crash|smash|break|shatter)\b/gi,/\b(thunder|lightning|storm|rain)\b/gi,/\b(siren|alarm|bell|buzzer)\b/gi,/\b(music|song|singing|melody)\b/gi],ANIMALS:[/\b(dog|puppy|cat|kitten|pet)\b/gi,/\b(horse|stallion|mare)\b/gi,/\b(bird|eagle|crow|pigeon)\b/gi,/\b(snake|spider|rat|mouse)\b/gi,/\b(lion|tiger|bear|wolf)\b/gi],MAKEUP:[/\b(blood|wound|scar|bruise|injury)\b/gi,/\b(makeup|cosmetics|lipstick|mascara)\b/gi,/\b(prosthetic|mask|disguise)\b/gi,/\b(tattoo|piercing)\b/gi]},Zi=[/\b(kitchen|bedroom|bathroom|living room|dining room)\b/gi,/\b(office|building|warehouse|factory|store|shop)\b/gi,/\b(hospital|school|church|restaurant|bar|cafe)\b/gi,/\b(park|street|road|highway|bridge)\b/gi,/\b(airport|station|terminal)\b/gi,/\b(beach|forest|mountain|desert|lake|river)\b/gi],Ji=/^[A-Z][A-Z\s]+(\([^)]*\))?$/,Qi=/\b(DAY|NIGHT|DAWN|DUSK|MORNING|AFTERNOON|EVENING|LATER|CONTINUOUS)\b/gi,el={ACTION:["fight","chase","explosion","gun","weapon","battle"],COMEDY:["laugh","joke","funny","humor","silly","ridiculous"],HORROR:["scream","blood","monster","terror","fear","scary"],ROMANCE:["love","kiss","heart","romantic","wedding","date"],THRILLER:["suspense","mystery","dangerous","chase","tension"],DRAMA:["emotion","tear","family","relationship","conflict"]};class tl{generateId(){return Math.random().toString(36).substr(2,9)}analyzeScript(e){const s=e.split(`
`),n=[],a=new Set,o=new Set,i={},l=new Set,c=new Set;let u="",h=0;s.forEach((m,y)=>{const x=m.trim();if(x){if(this.isSceneHeading(x)){h++,u=`Scene_${h}`;const p=this.extractLocationFromSceneHeading(x);p&&o.add(p);const g=x.match(Qi);if(g){const f=g[0].toUpperCase();i[f]=(i[f]||0)+1}}else if(this.isCharacterName(x)){const p=x.replace(/\([^)]*\)/g,"").trim();a.add(p)}else if(this.isActionLine(x)){const p=this.detectElementsInLine(x,u,y);n.push(...p),this.detectGenreIndicators(x,l)}}});const v=Math.max(1,Math.ceil(e.length/2500)),b=this.estimateRuntime(e,v);return{elements:this.deduplicateElements(n),characters:Array.from(a),locations:Array.from(o),timeOfDayCount:i,sceneCount:h,estimatedPages:v,estimatedRuntime:b,genres:Array.from(l),themes:Array.from(c)}}isSceneHeading(e){return/^(INT|EXT|INT\/EXT|INTERIOR|EXTERIOR)[\.\s]+/i.test(e)}isCharacterName(e){return Ji.test(e)&&e.length<30}isActionLine(e){return!this.isSceneHeading(e)&&!this.isCharacterName(e)&&!e.match(/^\([^)]+\)$/)&&!e.match(/^(FADE|CUT|DISSOLVE)/i)}extractLocationFromSceneHeading(e){const s=e.match(/^(INT|EXT|INT\/EXT)[\.\s]+([^-]+)/i);return s?s[2].trim():null}detectElementsInLine(e,s,n){const a=[];return Object.entries(Yi).forEach(([o,i])=>{i.forEach(l=>{const c=e.match(l);c&&c.forEach(u=>{a.push({id:this.generateId(),type:o.toLowerCase(),name:this.capitalizeWords(u.toLowerCase()),scenes:[s],confidence:this.calculateConfidence(u,e,o),context:e,suggestions:this.generateSuggestions(u,o),autoTagged:!0})})})}),Zi.forEach(o=>{const i=e.match(o);i&&i.forEach(l=>{a.push({id:this.generateId(),type:"location",name:this.capitalizeWords(l.toLowerCase()),scenes:[s],confidence:.7,context:e,suggestions:[],autoTagged:!0})})}),a}calculateConfidence(e,s,n){let a=.6;return(s.toLowerCase().includes("pick up")||s.toLowerCase().includes("grab"))&&(a+=.2),(s.toLowerCase().includes("uses")||s.toLowerCase().includes("holds"))&&(a+=.1),n==="PROPS"&&(e.toLowerCase().includes("gun")||e.toLowerCase().includes("weapon"))&&(a+=.2),Math.min(a,.95)}generateSuggestions(e,s){const n=[];return s==="PROPS"&&(e.toLowerCase().includes("gun")&&n.push("Pistol","Rifle","Revolver"),e.toLowerCase().includes("phone")&&n.push("Smartphone","Cell Phone","iPhone")),n}detectGenreIndicators(e,s){const n=e.toLowerCase();Object.entries(el).forEach(([a,o])=>{o.some(i=>n.includes(i))&&s.add(a)})}estimateRuntime(e,s){const n=e.split(`
`).filter(l=>this.isCharacterName(l.trim())||!this.isSceneHeading(l.trim())&&!this.isActionLine(l.trim())&&l.trim()).length,a=e.split(`
`).filter(l=>l.trim()).length,o=a>0?n/a:.5;let i=s;return o>.6&&(i*=1.2),o<.3&&(i*=.8),Math.round(i)}deduplicateElements(e){const s=new Map;return e.forEach(n=>{const a=`${n.type}-${n.name.toLowerCase()}`;if(s.has(a)){const o=s.get(a);o.scenes=[...new Set([...o.scenes,...n.scenes])],o.confidence=Math.max(o.confidence,n.confidence),o.context!==n.context&&(o.context+=` | ${n.context}`)}else s.set(a,n)}),Array.from(s.values())}capitalizeWords(e){return e.replace(/\b\w/g,s=>s.toUpperCase())}analyzeMetadata(e){const s=this.analyzeScript(e);let n="low";const a=s.elements.filter(c=>c.type==="vehicle"||c.type==="sfx"||c.name.toLowerCase().includes("explosion")||c.name.toLowerCase().includes("helicopter"));a.length>5?n="high":a.length>2&&(n="medium");const o=Object.entries(s.timeOfDayCount),i=o.length>0?o.reduce((c,u)=>c[1]>u[1]?c:u)[0]:"DAY";let l="Drama";return s.genres.includes("ACTION")&&(l="Action-packed"),s.genres.includes("COMEDY")&&(l="Light-hearted"),s.genres.includes("HORROR")&&(l="Dark"),{suggestedGenre:s.genres,suggestedTimeOfDay:i,suggestedTone:l,suggestedBudgetLevel:n}}}function rl({isOpen:r,onClose:e,onElementsConfirmed:s}){const{currentProject:n}=le(),[a]=d.useState(()=>new tl),[o,i]=d.useState([]),[l,c]=d.useState(!1),[u,h]=d.useState(new Set),[v,b]=d.useState("all");d.useEffect(()=>{r&&(n!=null&&n.scriptContent)&&m()},[r,n]);const m=async()=>{if(n!=null&&n.scriptContent){c(!0);try{await new Promise(S=>setTimeout(S,1500));const w=a.analyzeScript(n.scriptContent);i(w.elements);const T=new Set(w.elements.filter(S=>S.confidence>.8).map(S=>S.id));h(T)}catch(w){console.error("Analysis failed:",w)}finally{c(!1)}}},y=w=>{const T=new Set(u);T.has(w)?T.delete(w):T.add(w),h(T)},x=w=>w>=.8?"text-green-600 bg-green-50 border-green-200":w>=.6?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",p=w=>w>=.8?"High":w>=.6?"Medium":"Low",g=o.filter(w=>{switch(v){case"high":return w.confidence>=.8;case"medium":return w.confidence>=.6&&w.confidence<.8;case"low":return w.confidence<.6;default:return!0}}),f=()=>{const w=o.filter(T=>u.has(T.id));s(w),e()};return r?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(oe,{className:"h-6 w-6 text-primary-500 mr-2"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Script Analysis"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["Automatically detected ",o.length," elements from your script"]})]})]}),t.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:t.jsx(It,{className:"h-6 w-6"})})]}),l?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Analyzing Script..."}),t.jsx("p",{className:"text-sm text-gray-500 text-center max-w-md",children:"Our AI is reading through your script and identifying props, locations, characters, wardrobe, and other production elements."})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"border-b border-gray-200",children:t.jsx("nav",{className:"flex space-x-8 px-6",children:[{key:"all",label:"All Elements",count:o.length},{key:"high",label:"High Confidence",count:o.filter(w=>w.confidence>=.8).length},{key:"medium",label:"Medium Confidence",count:o.filter(w=>w.confidence>=.6&&w.confidence<.8).length},{key:"low",label:"Low Confidence",count:o.filter(w=>w.confidence<.6).length}].map(w=>t.jsxs("button",{onClick:()=>b(w.key),className:`py-3 px-1 border-b-2 font-medium text-sm ${v===w.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[w.label," (",w.count,")"]},w.key))})}),t.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[t.jsx("div",{className:"space-y-3",children:g.map(w=>t.jsx("div",{className:`border rounded-lg p-4 transition-all ${u.has(w.id)?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("button",{onClick:()=>y(w.id),className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center ${u.has(w.id)?"bg-primary-500 border-primary-500":"border-gray-300 hover:border-primary-400"}`,children:u.has(w.id)&&t.jsx(vt,{className:"h-3 w-3 text-white"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:w.name}),t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:w.type}),t.jsxs("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${x(w.confidence)}`,children:[p(w.confidence)," (",Math.round(w.confidence*100),"%)"]}),w.autoTagged&&t.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-700 rounded-full",children:[t.jsx(oe,{className:"h-3 w-3 mr-1"}),"Auto"]})]}),t.jsxs("p",{className:"text-sm text-gray-600 mb-2 truncate",children:[t.jsx("strong",{children:"Context:"}),' "',w.context.length>100?w.context.substring(0,100)+"...":w.context,'"']}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center text-xs text-gray-500 space-x-3",children:[t.jsxs("span",{children:["Scenes: ",w.scenes.length]}),w.confidence<.7&&t.jsxs("span",{className:"flex items-center text-yellow-600",children:[t.jsx(go,{className:"h-3 w-3 mr-1"}),"Review needed"]})]}),t.jsxs("button",{className:"text-xs text-primary-600 hover:text-primary-700 flex items-center",children:[t.jsx(Ot,{className:"h-3 w-3 mr-1"}),"View in script"]})]}),w.suggestions.length>0&&t.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[t.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Suggestions:"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:w.suggestions.map((T,S)=>t.jsx("span",{className:"inline-flex px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded cursor-pointer hover:bg-gray-200",onClick:()=>{const j=o.map(N=>N.id===w.id?{...N,name:T}:N);i(j)},children:T},S))})]})]})]})},w.id))}),g.length===0&&t.jsxs("div",{className:"text-center py-8",children:[t.jsx(oe,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"No elements found in this category"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Try a different confidence level or check your script content."})]})]}),t.jsx("div",{className:"border-t border-gray-200 p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:[u.size," of ",o.length," elements selected",u.size>0&&t.jsx("span",{className:"text-primary-600 ml-2",children:"→ Will be added to breakdown"})]}),t.jsxs("div",{className:"flex space-x-3",children:[t.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),t.jsxs("button",{onClick:f,disabled:u.size===0,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add ",u.size," Elements"]})]})]})})]})]})}):null}const sl={cast:[/^[A-Z][A-Z\s\-'\.]+$/,/^[A-Z][A-Z\s\-'\.]+\s*\([VO\.S]+\)$/,/\b[A-Z][A-Z\s\-'\.]{2,}\b/],props:[/\b(gun|weapon|knife|sword|pistol|rifle)\b/i,/\b(phone|cell phone|telephone|mobile)\b/i,/\b(car|vehicle|truck|motorcycle|bike)\b/i,/\b(computer|laptop|tablet|ipad)\b/i,/\b(key|keys|keychain)\b/i,/\b(wallet|purse|bag|briefcase|suitcase)\b/i,/\b(document|paper|letter|file|folder)\b/i,/\b(camera|video camera|camcorder)\b/i,/\b(watch|clock|timer)\b/i,/\b(bottle|glass|cup|mug)\b/i],wardrobe:[/\b(uniform|costume|dress|suit|jacket|coat)\b/i,/\b(hat|helmet|cap|beanie)\b/i,/\b(glasses|sunglasses|goggles)\b/i,/\b(shoes|boots|sneakers|heels)\b/i,/\b(gloves|jewelry|watch|necklace|ring)\b/i,/\b(shirt|blouse|t-shirt|sweater)\b/i,/\b(pants|jeans|skirt|shorts)\b/i],sfx:[/\b(explosion|gunshot|crash|thunder|rain)\b/i,/\b(music|sound|noise|audio|soundtrack)\b/i,/\b(ring|beep|buzz|alarm|siren)\b/i,/\b(footsteps|door slam|glass breaking)\b/i,/\b(wind|fire crackling|water dripping)\b/i],music:[/\b(music|song|soundtrack|score|theme)\b/i,/\b(plays|playing|begins|starts|fades)\b/i,/\b(piano|guitar|violin|drums|orchestra)\b/i,/\b(radio|stereo|speakers|headphones)\b/i],location:[]},ct={interior:/^INT\./i,exterior:/^EXT\./i,timeOfDay:/\b(DAWN|MORNING|DAY|AFTERNOON|EVENING|DUSK|NIGHT|LATER|CONTINUOUS|SAME TIME)\b/i};class Dr{constructor(e){Fe(this,"lines");this.lines=e.split(`
`)}performFullBreakdown(){const e=this.extractScenes(),s=this.extractElements(e),n={totalScenes:e.length,totalElements:s.length,characterCount:s.filter(a=>a.type==="cast").length,locationCount:new Set(e.map(a=>a.location.name)).size,estimatedDuration:e.reduce((a,o)=>a+o.estimatedDuration,0)};return{elements:s,scenes:e,statistics:n}}extractScenes(){var o,i;const e=[];let s=null,n=1,a=1;for(let l=0;l<this.lines.length;l++){const c=this.lines[l].trim(),u=je(this.lines,l);if(u==="scene_heading"&&(s&&e.push(this.completeScene(s,l)),s={sceneNumber:a.toString(),sceneHeading:c,pageNumber:n,location:this.parseLocation(c),timeOfDay:this.extractTimeOfDay(c),characters:[],elements:{props:[],wardrobe:[],sfx:[],music:[],other:[]},description:"",estimatedDuration:0},a++),s){if(u==="character"){const h=c.replace(/\s*\([VO\.S]+\)$/,"").trim();(o=s.characters)!=null&&o.includes(h)||(i=s.characters)==null||i.push(h)}if(u==="action"){s.description+=c+`
`;const h=this.extractElementsFromLine(c,s.sceneNumber);this.addElementsToScene(s,h)}}l%55===0&&n++}return s&&e.push(this.completeScene(s,this.lines.length)),e}parseLocation(e){const s=ct.interior.test(e),n=ct.exterior.test(e);let a=e.replace(/^(INT\.|EXT\.)\s*/i,"").replace(/\s*-\s*(DAWN|MORNING|DAY|AFTERNOON|EVENING|DUSK|NIGHT|LATER|CONTINUOUS|SAME TIME).*$/i,"").trim();return{interior:s,exterior:n,name:a||"UNKNOWN LOCATION"}}extractTimeOfDay(e){const s=e.match(ct.timeOfDay);return s?s[1]:"DAY"}completeScene(e,s){var i;const n=e,a=n.description.split(`
`).filter(l=>l.trim()).length,o=((i=n.characters)==null?void 0:i.length)||0;return n.estimatedDuration=Math.max(1,Math.round(a/10+o*.5)),n}extractElements(e){const s=new Map;let n=1;const a=new Set;return e.forEach(o=>{o.characters.forEach(i=>a.add(i))}),a.forEach(o=>{const i=e.filter(l=>l.characters.includes(o));s.set(`cast_${o}`,{id:`element_${n++}`,type:"cast",name:o,category:this.categorizeCharacter(o,i.length),scenes:i.map(l=>l.sceneNumber),firstAppearance:Math.min(...i.map(l=>parseInt(l.sceneNumber))),totalAppearances:i.length,confidence:1,isAutoDetected:!0,tags:[]})}),e.forEach(o=>{this.extractElementsFromText(o.description,o.sceneNumber).forEach(l=>{const c=`${l.type}_${l.name}`;if(s.has(c)){const u=s.get(c);u.scenes.push(o.sceneNumber),u.totalAppearances++}else s.set(c,{type:l.type,name:l.name,category:l.category,confidence:l.confidence,isAutoDetected:l.isAutoDetected,tags:l.tags,id:`element_${n++}`,scenes:[o.sceneNumber],firstAppearance:parseInt(o.sceneNumber),totalAppearances:1,notes:l.notes})})}),Array.from(s.values()).sort((o,i)=>o.firstAppearance-i.firstAppearance)}extractElementsFromLine(e,s){return this.extractElementsFromText(e,s)}extractElementsFromText(e,s){const n=[];return Object.entries(sl).forEach(([a,o])=>{o.forEach(i=>{const l=e.match(new RegExp(i.source,"gi"));l&&l.forEach(c=>{const u=c.trim().toLowerCase();u.length>2&&n.push({type:a,name:this.formatElementName(u),category:this.categorizeElement(a,u),confidence:this.calculateConfidence(i,u),isAutoDetected:!0,tags:[]})})})}),n}addElementsToScene(e,s){s.forEach(n=>{var o;if(!n.type||!n.name)return;const a=(o=e.elements)==null?void 0:o[n.type];a&&!a.includes(n.name)&&a.push(n.name)})}categorizeCharacter(e,s){return s>=10?"Lead Character":s>=5?"Supporting Character":s>=2?"Recurring Character":"Minor Character"}categorizeElement(e,s){switch(e){case"props":return s.includes("weapon")||s.includes("gun")?"Weapons":s.includes("phone")||s.includes("computer")?"Technology":s.includes("car")||s.includes("vehicle")?"Vehicles":"General Props";case"wardrobe":return s.includes("uniform")||s.includes("costume")?"Costumes":s.includes("formal")||s.includes("suit")?"Formal Wear":"General Wardrobe";case"sfx":return s.includes("explosion")||s.includes("gunshot")?"Action SFX":s.includes("weather")||s.includes("nature")?"Environmental SFX":"General SFX";default:return"General"}}calculateConfidence(e,s){return e.test(s)?Math.min(1,.7+.2):.7}formatElementName(e){return e.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" ")}}function nl(r){return new Dr(r).performFullBreakdown().elements}function Fr(r){return new Dr(r).performFullBreakdown().scenes}const Ue=[{type:"cast",label:"Cast",icon:kt,color:"bg-red-500"},{type:"props",label:"Props",icon:wi,color:"bg-orange-500"},{type:"wardrobe",label:"Wardrobe",icon:ri,color:"bg-yellow-500"},{type:"location",label:"Location",icon:$a,color:"bg-cyan-500"},{type:"music",label:"Music/SFX",icon:$o,color:"bg-pink-500"},{type:"other",label:"Other",icon:qe,color:"bg-gray-500"}];function al(){var S;const{currentProject:r}=le(),[e,s]=d.useState(null),[n,a]=d.useState(!1),[o,i]=d.useState([]),[l,c]=d.useState([]),[u,h]=d.useState(!0),[v,b]=d.useState(!1),[m,y]=d.useState({name:"",type:"props",category:"",notes:""});d.useEffect(()=>{r!=null&&r.scriptContent?x():h(!1)},[r]);const x=async()=>{if(r!=null&&r.scriptContent){h(!0);try{await new Promise(A=>setTimeout(A,500));const j=nl(r.scriptContent),N=Fr(r.scriptContent);i(j),c(N),F.success("Script analyzed successfully!",{icon:"🔍",duration:2e3,style:{background:"#fff7ed",color:"#9a3412",border:"1px solid #fed7aa"}})}catch(j){console.error("Script analysis failed:",j),F.error("Failed to analyze script"),i([]),c([])}finally{h(!1)}}},p=j=>{const N=j.map(A=>({id:A.id,type:A.type,name:A.name,category:A.category||"General",scenes:A.scenes||[],firstAppearance:A.firstAppearance||1,totalAppearances:A.totalAppearances||1,confidence:A.confidence||.8,isAutoDetected:!0,tags:A.tags||[],notes:A.notes}));i(A=>[...A,...N]),F.success(`Added ${j.length} elements to breakdown`)},g=()=>{if(!m.name.trim()){F.error("Element name is required");return}const j={id:`manual_${Date.now()}`,type:m.type,name:m.name.trim(),category:m.category.trim()||"Manual Entry",scenes:[],firstAppearance:l.length>0?1:0,totalAppearances:0,confidence:1,isAutoDetected:!1,tags:[],notes:m.notes.trim()};i(N=>[...N,j]),y({name:"",type:"props",category:"",notes:""}),b(!1),F.success("Element added successfully!",{icon:"✅"})},f=j=>{window.confirm("Are you sure you want to delete this element?")&&(i(N=>N.filter(A=>A.id!==j)),F.success("Element deleted",{icon:"🗑️"}))},w=e?o.filter(j=>j.type===e):o;if(!r)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx(Z,{size:"lg"})});const T=t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Element Types"}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("button",{onClick:()=>s(null),className:`w-full flex items-center px-3 py-2 text-sm rounded-md text-left touch:min-h-[44px] transition-colors ${e===null?"bg-primary-100 text-primary-700 border border-primary-200":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx(qe,{className:"h-4 w-4 mr-3"}),"All Elements (",o.length,")"]}),Ue.map(j=>{const N=o.filter($=>$.type===j.type).length,A=j.icon;return t.jsxs("button",{onClick:()=>s(j.type),className:`w-full flex items-center px-3 py-2 text-sm rounded-md text-left touch:min-h-[44px] transition-colors ${e===j.type?"bg-primary-100 text-primary-700 border border-primary-200":"text-gray-700 hover:bg-gray-50"}`,children:[t.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${j.color}`}),t.jsx(A,{className:"h-4 w-4 mr-2"}),j.label," (",N,")"]},j.type)})]}),t.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[t.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Quick Stats"}),t.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[t.jsxs("div",{children:["Total Scenes: ",l.length]}),t.jsxs("div",{children:["Total Elements: ",o.length]}),t.jsxs("div",{children:["Characters: ",o.filter(j=>j.type==="cast").length]}),t.jsxs("div",{children:["Locations: ",new Set(l.map(j=>j.location.name)).size]})]})]})]});return t.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:t.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-lg flex items-center justify-center",children:t.jsx(we,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Script Breakdown"}),t.jsx("p",{className:"text-sm text-gray-500",children:r!=null&&r.scriptContent?"Live analysis":"No script content"})]})]})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>a(!0),disabled:!(r!=null&&r.scriptContent),className:"btn-primary text-sm",title:"AI-powered script analysis",children:[t.jsx(oe,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"AI Analysis"}),t.jsx("span",{className:"sm:hidden",children:"AI"})]}),t.jsxs("button",{onClick:()=>b(!0),className:"btn-outline text-sm",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Add Element"}),t.jsx("span",{className:"sm:hidden",children:"Add"})]}),t.jsxs("button",{onClick:x,disabled:!(r!=null&&r.scriptContent)||u,className:"btn-secondary text-sm",title:"Re-analyze script",children:[t.jsx(be,{className:"h-4 w-4 mr-2"}),t.jsx("span",{className:"hidden sm:inline",children:"Re-analyze"}),t.jsx("span",{className:"sm:hidden",children:"Scan"})]})]})]})})}),t.jsx("div",{className:"flex-1",children:u?t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Z,{size:"lg"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Analyzing script content..."})]})}):r!=null&&r.scriptContent?t.jsx(Ki,{sidebar:T,className:"flex-1",children:t.jsx("div",{className:"p-4 sm:p-6",children:w.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:w.map(j=>{const N=Ue.find(A=>A.type===j.type);return t.jsxs("div",{className:"element-card group",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${(N==null?void 0:N.color)||"bg-gray-500"}`}),t.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:j.name}),j.isAutoDetected&&t.jsx("span",{className:"ml-2 text-xs text-primary-600 bg-primary-100 px-1 rounded",children:"AI"})]}),t.jsxs("div",{className:"flex items-center space-x-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{className:"btn-icon text-gray-400 hover:text-gray-600",title:"Edit element",children:t.jsx(We,{className:"h-3 w-3"})}),t.jsx("button",{onClick:()=>f(j.id),className:"btn-icon text-gray-400 hover:text-red-600",title:"Delete element",children:t.jsx(Ir,{className:"h-3 w-3"})})]})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.category}),t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.scenes.slice(0,3).map(A=>t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded",children:A},A)),j.scenes.length>3&&t.jsxs("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded",children:["+",j.scenes.length-3]})]}),t.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[j.scenes.length," scene",j.scenes.length!==1?"s":""]})]}),j.confidence<1&&t.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Confidence: ",Math.round(j.confidence*100),"%"]}),j.notes&&t.jsx("div",{className:"mt-2 text-xs text-gray-500 italic",children:j.notes})]},j.id)})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(qe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e?`No ${(S=Ue.find(j=>j.type===e))==null?void 0:S.label.toLowerCase()} elements found`:"No elements found"}),t.jsx("p",{className:"text-gray-600 mb-4 px-4",children:r!=null&&r.scriptContent?"Try using AI Analysis to automatically detect elements, or add them manually.":"Start writing your script to see elements appear here automatically."}),t.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[t.jsxs("button",{onClick:()=>a(!0),disabled:!(r!=null&&r.scriptContent),className:"btn-primary",children:[t.jsx(oe,{className:"h-4 w-4 mr-2"}),"AI Analysis"]}),t.jsxs("button",{onClick:()=>b(!0),className:"btn-outline",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add Element"]})]})]})})}):t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx(we,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Script Content"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Start writing your script to see automated breakdown analysis."}),t.jsx("button",{className:"btn-primary",children:"Go to Script Editor"})]})})}),t.jsx(rl,{isOpen:n,onClose:()=>a(!1),onElementsConfirmed:p}),v&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:t.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[t.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:t.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),t.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:[t.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Element"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Element Name *"}),t.jsx("input",{type:"text",value:m.name,onChange:j=>y(N=>({...N,name:j.target.value})),className:"input-primary",placeholder:"e.g., Coffee Cup, Detective Badge, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Element Type *"}),t.jsx("select",{value:m.type,onChange:j=>y(N=>({...N,type:j.target.value})),className:"input-primary",children:Ue.map(j=>t.jsx("option",{value:j.type,children:j.label},j.type))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),t.jsx("input",{type:"text",value:m.category,onChange:j=>y(N=>({...N,category:j.target.value})),className:"input-primary",placeholder:"e.g., Hero Prop, Background, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:m.notes,onChange:j=>y(N=>({...N,notes:j.target.value})),className:"textarea-primary",rows:3,placeholder:"Any special requirements or notes..."})]})]})]}),t.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[t.jsx("button",{type:"button",onClick:g,className:"btn-primary sm:ml-3",children:"Add Element"}),t.jsx("button",{type:"button",onClick:()=>b(!1),className:"btn-secondary mt-3 sm:mt-0",children:"Cancel"})]})]})]})})]})}function ol(){const{currentProject:r}=le(),[,e]=d.useState([]),[s,n]=d.useState([]),[a,o]=d.useState([]),[i,l]=d.useState(!0),[c,u]=d.useState("calendar"),[h,v]=d.useState(!1),[b,m]=d.useState(!1),[y,x]=d.useState(new Date),[p,g]=d.useState({date:"",location:"",scenes:[],estimatedHours:8,weather:"indoor",notes:""});d.useEffect(()=>{r!=null&&r.scriptContent?f():l(!1),w()},[r]);const f=async()=>{if(r!=null&&r.scriptContent){l(!0);try{await new Promise(U=>setTimeout(U,500));const E=Fr(r.scriptContent);e(E);const I=E.map((U,V)=>({id:`scene_${V}`,sceneNumber:U.sceneNumber,location:U.location.name,timeOfDay:U.timeOfDay.toLowerCase().includes("night")?"night":"day",pageCount:Math.ceil(U.estimatedDuration/8),estimatedTime:U.estimatedDuration,characters:U.characters,props:[],notes:""}));o(I),F.success("🎬 Script analyzed for scheduling!",{style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})}catch(E){console.error("Script analysis failed:",E),F.error("Failed to analyze script")}finally{l(!1)}}},w=()=>{try{const E=localStorage.getItem(`schedule_${r==null?void 0:r.id}`);if(E){const I=JSON.parse(E).map(U=>({...U,date:new Date(U.date)}));n(I)}}catch(E){console.error("Failed to load schedule data:",E)}},T=E=>{r&&localStorage.setItem(`schedule_${r.id}`,JSON.stringify(E))},S=()=>{if(!p.date||!p.location){F.error("Date and location are required");return}const E={id:`day_${Date.now()}`,date:new Date(p.date),location:p.location,scenes:p.scenes,estimatedHours:p.estimatedHours,weather:p.weather,notes:p.notes,status:"planned"},I=[...s,E];n(I),T(I),g({date:"",location:"",scenes:[],estimatedHours:8,weather:"indoor",notes:""}),v(!1),F.success("📅 Shoot day added successfully!",{style:{background:"#dcfce7",color:"#166534",fontWeight:"600"}})},j=E=>{if(window.confirm("Are you sure you want to delete this shoot day?")){const I=s.filter(U=>U.id!==E);n(I),T(I),F.success("🗑️ Shoot day deleted")}},N=()=>{m(!0),F.success("🎬 Stripboard editor opened!",{style:{background:"#fed7aa",color:"#9a3412",fontWeight:"600"}})},A=(E,I)=>{const U=a.map(C=>C.id===E?{...C,shootDay:I}:C);o(U);const V=s.map(C=>{var O;return C.id===I?{...C,scenes:[...C.scenes,((O=a.find(k=>k.id===E))==null?void 0:O.sceneNumber)||""]}:C});n(V),T(V),F.success("📋 Scene assigned to shoot day!")},$=E=>new Date(E.getFullYear(),E.getMonth()+1,0).getDate(),H=E=>new Date(E.getFullYear(),E.getMonth(),1).getDay(),q=E=>s.filter(I=>I.date.toDateString()===E.toDateString());if(!r)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx(Z,{size:"lg"})});const D=$(y),J=H(y),Q=y.toLocaleDateString("en-US",{month:"long",year:"numeric"});return t.jsxs("div",{className:"h-full flex flex-col",style:{background:"linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%)"},children:[t.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-600 shadow-lg",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6",children:t.jsxs("div",{className:"flex items-center justify-between h-16",children:[t.jsx("div",{className:"flex items-center space-x-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-white rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(Yt,{className:"h-6 w-6 text-orange-500"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold text-white drop-shadow-sm",children:"Production Schedule"}),t.jsx("p",{className:"text-sm text-orange-100",children:r.title})]})]})}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-lg p-1",children:[t.jsx("button",{onClick:()=>u("calendar"),className:`px-4 py-2 rounded-md transition-all ${c==="calendar"?"bg-white text-orange-600 shadow-sm":"text-white hover:bg-white/20"}`,children:"Calendar"}),t.jsx("button",{onClick:()=>u("stripboard"),className:`px-4 py-2 rounded-md transition-all ${c==="stripboard"?"bg-white text-orange-600 shadow-sm":"text-white hover:bg-white/20"}`,children:"Stripboard"})]}),t.jsxs("button",{onClick:()=>v(!0),className:"flex items-center px-4 py-2 bg-white text-orange-600 rounded-lg hover:bg-orange-50 transition-all font-medium",children:[t.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add Shoot Day"]}),t.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-white/20 backdrop-blur-sm text-white rounded-lg hover:bg-white/30 transition-all",children:[t.jsx(We,{className:"h-4 w-4 mr-2"}),"Edit Stripboard"]})]})]})})}),t.jsx("div",{className:"flex-1 p-8 overflow-y-auto",children:i?t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Z,{size:"lg"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Analyzing script for scheduling..."})]})}):c==="calendar"?t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:Q}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{onClick:()=>x(new Date(y.getFullYear(),y.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Tr,{className:"h-5 w-5"})}),t.jsx("button",{onClick:()=>x(new Date),className:"px-4 py-2 bg-orange-100 text-orange-600 rounded-lg hover:bg-orange-200 transition-colors",children:"Today"}),t.jsx("button",{onClick:()=>x(new Date(y.getFullYear(),y.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded-lg",children:t.jsx(Ar,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(E=>t.jsx("div",{className:"p-3 text-center font-medium text-gray-600 bg-gray-50 rounded-lg",children:E},E)),Array.from({length:J},(E,I)=>t.jsx("div",{className:"p-3 h-24"},`empty-${I}`)),Array.from({length:D},(E,I)=>{const U=new Date(y.getFullYear(),y.getMonth(),I+1),V=q(U),C=U.toDateString()===new Date().toDateString();return t.jsxs("div",{className:`p-2 h-24 border rounded-lg ${C?"bg-orange-100 border-orange-300":"bg-white border-gray-200"} hover:bg-gray-50`,children:[t.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:I+1}),t.jsx("div",{className:"space-y-1",children:V.map(O=>t.jsx("div",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded truncate",children:O.location},O.id))})]},I+1)})]}),s.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Upcoming Shoot Days"}),t.jsx("div",{className:"space-y-3",children:s.slice(0,5).map(E=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-orange-50 rounded-xl border border-orange-200",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:t.jsx(Yt,{className:"h-6 w-6 text-white"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:E.location}),t.jsxs("div",{className:"text-sm text-gray-600",children:[E.date.toLocaleDateString()," • ",E.estimatedHours," hours • ",E.scenes.length," scenes"]})]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsx("button",{onClick:()=>j(E.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg",children:t.jsx(Ir,{className:"h-4 w-4"})})})]},E.id))})]})]}):t.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Scene Stripboard"}),t.jsxs("div",{className:"text-sm text-gray-600",children:[a.length," scenes • ",a.reduce((E,I)=>E+I.estimatedTime,0)," minutes total"]})]}),a.length>0?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Scene"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Location"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Time"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Duration"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Characters"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Shoot Day"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),t.jsx("tbody",{children:a.map(E=>t.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4 font-medium",children:E.sceneNumber}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Oo,{className:"h-4 w-4 mr-2 text-gray-400"}),E.location]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[E.timeOfDay==="day"?t.jsx(Qo,{className:"h-4 w-4 mr-2 text-yellow-500"}):t.jsx(Lo,{className:"h-4 w-4 mr-2 text-blue-500"}),E.timeOfDay]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(ye,{className:"h-4 w-4 mr-2 text-gray-400"}),E.estimatedTime,"m"]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx(Rr,{className:"h-4 w-4 mr-2 text-gray-400"}),E.characters.length]})}),t.jsx("td",{className:"py-3 px-4",children:E.shootDay?t.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Assigned"}):t.jsxs("select",{onChange:I=>A(E.id,I.target.value),className:"text-xs border rounded px-2 py-1",children:[t.jsx("option",{value:"",children:"Assign to day..."}),s.map(I=>t.jsxs("option",{value:I.id,children:[I.date.toLocaleDateString()," - ",I.location]},I.id))]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:t.jsx(We,{className:"h-4 w-4"})})})]},E.id))})]})}):t.jsxs("div",{className:"text-center py-12",children:[t.jsx(we,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No scenes found"}),t.jsx("p",{className:"text-gray-600",children:"Write your script to see scenes appear here for scheduling."})]})]})}),h&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Add New Shoot Day"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date *"}),t.jsx("input",{type:"date",value:p.date,onChange:E=>g(I=>({...I,date:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location *"}),t.jsx("input",{type:"text",value:p.location,onChange:E=>g(I=>({...I,location:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"e.g., Studio A, Central Park, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Hours"}),t.jsx("input",{type:"number",min:"1",max:"24",value:p.estimatedHours,onChange:E=>g(I=>({...I,estimatedHours:parseInt(E.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Weather Dependency"}),t.jsxs("select",{value:p.weather,onChange:E=>g(I=>({...I,weather:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[t.jsx("option",{value:"indoor",children:"Indoor"}),t.jsx("option",{value:"outdoor",children:"Outdoor"}),t.jsx("option",{value:"both",children:"Both"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),t.jsx("textarea",{value:p.notes,onChange:E=>g(I=>({...I,notes:E.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:3,placeholder:"Any special requirements or notes..."})]})]}),t.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[t.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:S,className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:"Add Shoot Day"})]})]})}),b&&t.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Stripboard Editor"}),t.jsx("button",{onClick:()=>m(!1),className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors",children:"×"})]}),t.jsxs("div",{className:"text-center py-8",children:[t.jsx(we,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Advanced Stripboard Editor"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop scenes to reorder, group by location, and optimize shooting schedule."}),t.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[t.jsx("p",{children:"• Reorder scenes for efficient shooting"}),t.jsx("p",{children:"• Group scenes by location and cast"}),t.jsx("p",{children:"• Optimize for budget and time constraints"}),t.jsx("p",{children:"• Export shooting schedule and call sheets"})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors",children:"Close Editor"})})]})})]})}const dt=[{id:"1",name:"John Director",email:"john@film.com",role:"director",avatar:null,status:"online",lastSeen:new Date},{id:"2",name:"Sarah Producer",email:"sarah@production.com",role:"producer",avatar:null,status:"offline",lastSeen:new Date(Date.now()-2*60*60*1e3)},{id:"3",name:"Mike Writer",email:"mike@scripts.com",role:"writer",avatar:null,status:"online",lastSeen:new Date}],ut=[{id:"1",author:"John Director",content:"This scene needs more tension. Consider adding a close-up on the character's reaction.",timestamp:new Date(Date.now()-30*60*1e3),scene:"Scene 2A",resolved:!1},{id:"2",author:"Sarah Producer",content:"Budget concern: The car chase scene might be too expensive. Can we scale it down?",timestamp:new Date(Date.now()-2*60*60*1e3),scene:"Scene 5B",resolved:!1},{id:"3",author:"Mike Writer",content:"Updated the dialogue based on yesterday's notes. Please review.",timestamp:new Date(Date.now()-4*60*60*1e3),scene:"Scene 1A",resolved:!0}];function il(){const{currentProject:r}=le(),[e,s]=d.useState(""),[n,a]=d.useState("comments");if(!r)return t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx(Z,{size:"lg"})});const o=u=>{switch(u){case"director":return"bg-purple-100 text-purple-800";case"producer":return"bg-green-100 text-green-800";case"writer":return"bg-blue-100 text-blue-800";case"script-supervisor":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},i=u=>u==="online"?"bg-green-500":"bg-gray-400",l=u=>{const v=new Date().getTime()-u.getTime(),b=Math.floor(v/(1e3*60)),m=Math.floor(v/(1e3*60*60)),y=Math.floor(v/(1e3*60*60*24));return b<60?`${b}m ago`:m<24?`${m}h ago`:`${y}d ago`},c=()=>{e.trim()&&s("")};return t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-medium text-gray-900",children:"Collaboration"}),t.jsx("p",{className:"text-sm text-gray-500",children:"Work together with your team in real-time"})]}),t.jsxs("button",{className:"btn-primary",children:[t.jsx(gi,{className:"h-4 w-4 mr-2"}),"Invite Collaborator"]})]})}),t.jsx("div",{className:"bg-white border-b border-gray-200",children:t.jsxs("nav",{className:"flex space-x-8 px-6",children:[t.jsxs("button",{onClick:()=>a("comments"),className:`py-3 px-1 border-b-2 font-medium text-sm ${n==="comments"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Comments (",ut.length,")"]}),t.jsxs("button",{onClick:()=>a("team"),className:`py-3 px-1 border-b-2 font-medium text-sm ${n==="team"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Team (",dt.length,")"]})]})}),t.jsx("div",{className:"flex-1 p-6",children:n==="comments"?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[t.jsx("textarea",{value:e,onChange:u=>s(u.target.value),placeholder:"Add a comment about the script, scene, or production notes...",className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",rows:3}),t.jsxs("div",{className:"flex justify-between items-center mt-3",children:[t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx(La,{className:"h-4 w-4"}),t.jsx("span",{children:"Use @mention to notify team members"})]}),t.jsxs("button",{onClick:c,disabled:!e.trim(),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx(zo,{className:"h-4 w-4 mr-2"}),"Send Comment"]})]})]}),t.jsx("div",{className:"space-y-4",children:ut.map(u=>t.jsx("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${u.resolved?"opacity-60":""}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Zt,{className:"h-8 w-8 text-gray-400 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:u.author}),t.jsx("span",{className:"text-xs text-gray-500",children:"•"}),t.jsx("span",{className:"text-xs text-gray-500",children:u.scene}),t.jsx("span",{className:"text-xs text-gray-500",children:"•"}),t.jsxs("span",{className:"text-xs text-gray-500 flex items-center",children:[t.jsx(ye,{className:"h-3 w-3 mr-1"}),l(u.timestamp)]}),u.resolved&&t.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:"Resolved"})]}),t.jsx("p",{className:"text-sm text-gray-700",children:u.content}),t.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[t.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-700",children:"Reply"}),!u.resolved&&t.jsx("button",{className:"text-xs text-green-600 hover:text-green-700",children:"Mark as Resolved"})]})]})]})},u.id))})]}):t.jsx("div",{className:"space-y-6",children:t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:dt.map(u=>t.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Zt,{className:"h-10 w-10 text-gray-400"}),t.jsx("div",{className:`absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ${i(u.status)}`})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:u.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:u.email})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${o(u.role)}`,children:u.role}),t.jsx("div",{className:"text-xs text-gray-500",children:u.status==="online"?t.jsx("span",{className:"text-green-600",children:"Online"}):t.jsxs("span",{children:["Last seen ",l(u.lastSeen)]})})]}),t.jsxs("div",{className:"mt-3 flex space-x-2",children:[t.jsx("button",{className:"text-xs text-primary-600 hover:text-primary-700",children:"Message"}),t.jsx("button",{className:"text-xs text-gray-500 hover:text-gray-700",children:"Edit Role"})]})]},u.id))})})}),t.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-6 py-3",children:t.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),t.jsxs("span",{children:[dt.filter(u=>u.status==="online").length," online"]})]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:[ut.filter(u=>!u.resolved).length," open comments"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{children:"Real-time collaboration"}),t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]})]})})]})}function nr({children:r}){const{isAuthenticated:e,isLoading:s}=ke();return s?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t.jsx(t.Fragment,{children:r}):t.jsx(xe,{to:"/login",replace:!0})}function ll(){const{user:r,isLoading:e,initializeAuth:s}=ke();return d.useEffect(()=>{s()},[s]),e?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:t.jsx(Z,{size:"lg"})}):t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs(qr,{children:[t.jsx(Y,{path:"/login",element:r?t.jsx(xe,{to:"/dashboard",replace:!0}):t.jsx(Na,{})}),t.jsx(Y,{path:"/dashboard",element:t.jsx(nr,{children:t.jsx(ki,{})})}),t.jsxs(Y,{path:"/project/:projectId",element:t.jsx(nr,{children:t.jsx(Ii,{})}),children:[t.jsx(Y,{index:!0,element:t.jsx(xe,{to:"script",replace:!0})}),t.jsx(Y,{path:"script",element:t.jsx(Xi,{})}),t.jsx(Y,{path:"breakdown",element:t.jsx(al,{})}),t.jsx(Y,{path:"schedule",element:t.jsx(ol,{})}),t.jsx(Y,{path:"collaborate",element:t.jsx(il,{})})]}),t.jsx(Y,{path:"/",element:t.jsx(xe,{to:"/dashboard",replace:!0})}),t.jsx(Y,{path:"*",element:t.jsx(xe,{to:"/dashboard",replace:!0})})]}),t.jsx(qn,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#ffffff",color:"#0f172a",border:"1px solid #e2e8f0",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}})]})}const cl=new bs({defaultOptions:{queries:{retry:1,staleTime:5*60*1e3,cacheTime:10*60*1e3}}});mt.createRoot(document.getElementById("root")).render(t.jsx(Nt.StrictMode,{children:t.jsx(Gr,{children:t.jsx(Rs,{client:cl,children:t.jsx(ll,{})})})}));export{Fi as _};
//# sourceMappingURL=index-19a3e5dd.js.map
